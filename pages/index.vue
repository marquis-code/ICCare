
<template>
  <div class="min-h-screen flex flex-col lg:flex-row">
    <!-- Left Panel - Hidden on mobile -->
    <div class="hidden lg:flex lg:w-1/2 bg-gradient-to-br from-[#02648B] to-[#0B8F75] text-white p-12 flex-col justify-center">
      <div class="max-w-md mx-auto">
        <h1 class="text-4xl font-bold mb-4">iCCare Biobank</h1>
        <p class="text-xl mb-8 opacity-90">Integrated Clinical & BioSpecimen Repository Platform</p>
        <p class="text-base mb-12 opacity-80">Secure access for research and biobank collaboration</p>
        
        <div class="space-y-8">
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-12 h-12  rounded-lg flex items-center justify-center">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="30" height="30" rx="3" fill="white" fill-opacity="0.1"/>
<path d="M21.709 6.495C19.817 5.554 17.5 5 15 5C12.5 5 10.184 5.554 8.291 6.495C7.363 6.957 6.899 7.188 6.45 7.914C6.001 8.64 6 9.343 6 10.748V14.238C6 19.921 10.542 23.081 13.173 24.434C13.907 24.811 14.273 25 15 25C15.727 25 16.093 24.811 16.827 24.434C19.457 23.08 24 19.92 24 14.237V10.748C24 9.343 24 8.64 23.55 7.914C23.1 7.188 22.637 6.957 21.709 6.495Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M15 12V13M14 12.5C14 12.7652 14.1054 13.0196 14.2929 13.2071C14.4804 13.3946 14.7348 13.5 15 13.5C15.2652 13.5 15.5196 13.3946 15.7071 13.2071C15.8946 13.0196 16 12.7652 16 12.5C16 12.2348 15.8946 11.9804 15.7071 11.7929C15.5196 11.6054 15.2652 11.5 15 11.5C14.7348 11.5 14.4804 11.6054 14.2929 11.7929C14.1054 11.9804 14 12.2348 14 12.5Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M15.75 17H14.25L15 13.5L15.75 17Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

            </div>
            <div>
              <h3 class="text-lg font-semibold mb-1">Secure & Compliant</h3>
              <p class="text-sm opacity-80">HIPAA & GDPR certified platform</p>
            </div>
          </div>
          
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-12 h-12  rounded-lg flex items-center justify-center">
              <svg width="26" height="28" viewBox="0 0 26 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="26" height="28" rx="4" fill="#1F888C"/>
<path d="M4 23V21C4 19.9391 4.42143 18.9217 5.17157 18.1716C5.92172 17.4214 6.93913 17 8 17H12C13.0609 17 14.0783 17.4214 14.8284 18.1716C15.5786 18.9217 16 19.9391 16 21V23M17 5.13C17.8604 5.3503 18.623 5.8507 19.1676 6.55231C19.7122 7.25392 20.0078 8.11683 20.0078 9.005C20.0078 9.89317 19.7122 10.7561 19.1676 11.4577C18.623 12.1593 17.8604 12.6597 17 12.88M22 23V21C21.9949 20.1172 21.6979 19.2608 21.1553 18.5644C20.6126 17.868 19.8548 17.3707 19 17.15M6 9C6 10.0609 6.42143 11.0783 7.17157 11.8284C7.92172 12.5786 8.93913 13 10 13C11.0609 13 12.0783 12.5786 12.8284 11.8284C13.5786 11.0783 14 10.0609 14 9C14 7.93913 13.5786 6.92172 12.8284 6.17157C12.0783 5.42143 11.0609 5 10 5C8.93913 5 7.92172 5.42143 7.17157 6.17157C6.42143 6.92172 6 7.93913 6 9Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

            </div>
            <div>
              <h3 class="text-lg font-semibold mb-1">Trusted by 500+ Institutions</h3>
              <p class="text-sm opacity-80">HIPAA & GDPR certified platform</p>
            </div>
          </div>
          
          <div class="flex items-start gap-4">
            <div class="flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center">
              <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="30" height="30" rx="3" fill="white" fill-opacity="0.1"/>
<path d="M21.709 6.495C19.817 5.554 17.5 5 15 5C12.5 5 10.184 5.554 8.291 6.495C7.363 6.957 6.899 7.188 6.45 7.914C6.001 8.64 6 9.343 6 10.748V14.238C6 19.921 10.542 23.081 13.173 24.434C13.907 24.811 14.273 25 15 25C15.727 25 16.093 24.811 16.827 24.434C19.457 23.08 24 19.92 24 14.237V10.748C24 9.343 24 8.64 23.55 7.914C23.1 7.188 22.637 6.957 21.709 6.495Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M15 12V13M14 12.5C14 12.7652 14.1054 13.0196 14.2929 13.2071C14.4804 13.3946 14.7348 13.5 15 13.5C15.2652 13.5 15.5196 13.3946 15.7071 13.2071C15.8946 13.0196 16 12.7652 16 12.5C16 12.2348 15.8946 11.9804 15.7071 11.7929C15.5196 11.6054 15.2652 11.5 15 11.5C14.7348 11.5 14.4804 11.6054 14.2929 11.7929C14.1054 11.9804 14 12.2348 14 12.5Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M15.75 17H14.25L15 13.5L15.75 17Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

            </div>
            <div>
              <h3 class="text-lg font-semibold mb-1">Real-Time Tracking</h3>
              <p class="text-sm opacity-80">Monitor samples and transfers instantly</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right Panel - Form -->
    <div class="flex-1 flex items-center justify-center p-4 sm:p-6 lg:p-12 ">
      <div class="w-full max-w-lg">
        <div class="bg-white rounded-2xl bordr-[0.5px] border-gray-300 p-6 sm:p-8 lg:p-10">
          <!-- Logo -->
          <div class="flex justify-center mb-6">
            <div class="flex items-center gap-2">
             <img src="@/assets/img/logo.png" class="h-10 w-auto" />
            </div>
          </div>

          <h2 class="text-2xl sm:text-3xl font-bold text-center text-gray-900 mb-2">Welcome Back</h2>
          <p class="text-center text-gray-600 mb-8">Sign in to your iCCare Biobank account.</p>

          <form @submit.prevent="handleLogin" class="space-y-5">
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
              <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" />
                  </svg>
                </div>
                <input
                  id="email"
                  v-model="loginForm.email"
                  type="email"
                  placeholder="Example@email.com"
                  class="custom-input"
                  required
                />
              </div>
            </div>

            <div>
              <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Password</label>
              <div class="relative">
                <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                  <svg class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                  </svg>
                </div>
                <input
                  id="password"
                  v-model="loginForm.password"
                  :type="showPassword ? 'text' : 'password'"
                  placeholder="••••••••••••••••"
                  class="custom-input"
                  required
                />
                <button
                  type="button"
                  @click="showPassword = !showPassword"
                  class="absolute inset-y-0 right-0 pr-3 flex items-center"
                >
                  <svg v-if="!showPassword" class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                  </svg>
                  <svg v-else class="h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21" />
                  </svg>
                </button>
              </div>
            </div>

            <div class="flex items-center justify-between">
              <div class="flex items-center">
                <input
                  id="remember"
                  v-model="loginForm.remember"
                  type="checkbox"
                  class="custom-checkbox"
                />
                <label for="remember" class="ml-2 block text-sm text-[#000000] cursor-pointer">
                  Remember me
                </label>
              </div>
              <NuxtLink to="/auth/forgot-password" class="text-sm text-[#000000] font-medium">
                Forgot Password?
              </NuxtLink>
            </div>

      <div class="pt-6">
              <button
              type="submit"
              :disabled="isLoading"
              class="w-full bg-[#0284C7] text-white text-sm font-medium py-3 px-4 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {{ isLoading ? 'Logging In...' : 'Log In' }}
            </button>
      </div>
          </form>

          <p class="text-center text-sm text-[#191A1A] mt-6">
            Don't have an account? 
            <NuxtLink to="/auth/signup" class="text-[#0E7D0E] font-medium">Sign up</NuxtLink>
          </p>

          <p class="text-center text-xs text-[#191A1A] mt-6">
            By Creating an account you automatically accept to our 
            <a href="#" class="text-[#0E7D0E] hover:underline">Terms of Service</a> and 
            <a href="#" class="text-[#0E7D0E] hover:underline">Policy Privacy</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
interface LoginForm {
  email: string
  password: string
  remember: boolean
}

const loginForm = ref<LoginForm>({
  email: '',
  password: '',
  remember: false
})

const showPassword = ref(false)
const isLoading = ref(false)

const handleLogin = async () => {
  isLoading.value = true
  try {
    // Your API call here using your existing API factory/composables
    // Example:
    // const { data, error } = await useApiFetch('/auth/login', {
    //   method: 'POST',
    //   body: {
    //     email: loginForm.value.email,
    //     password: loginForm.value.password,
    //     remember: loginForm.value.remember
    //   }
    // })
    
    // if (error.value) {
    //   throw new Error(error.value.message)
    // }
    
    // Store token/session if needed
    // if (data.value?.token) {
    //   // Store token using your auth composable
    // }
    
    // Navigate to dashboard after successful login
    await navigateTo('/dashboard')
  } catch (error) {
    console.error('Login error:', error)
    // Handle error appropriately (show toast/notification)
  } finally {
    isLoading.value = false
  }
}
</script>