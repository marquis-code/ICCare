import{_ as ss}from"./Dr0qmeQ4.js";import{_ as as}from"./Co4HwQ-R.js";import{_ as os}from"./CibIK6LA.js";import{r as b,e as ls,p as S,l as he,m as is,c,a as e,q as L,d as R,b as D,t as i,F as E,z as W,g as te,G as we,h as v,x as k,A as N,k as ce,w as ke,H as ns,B as pe,j as rs,v as ds,o as r,n as Qe,I as us}from"./DK5MG7Z7.js";import{b as _t,u as cs,a as ps}from"./CgQgnwsy.js";import{u as I,G as A}from"./DMGBEUwW.js";import{u as vs,a as gs}from"./FRnRkCks.js";import{u as ms,a as xs}from"./BsYsKH0f.js";import{t as Re}from"./Uh3kNCxM.js";import{u as ze}from"./CTX_K4FS.js";import{u as _s}from"./B5Nmkc-X.js";import{u as ys}from"./BxEYcx1h.js";import"./CU7UqlcT.js";const fs=()=>{const u=b(!1),m=b(null),{showToast:_}=I();return{loading:u,trackingData:m,trackSample:async C=>{var h,f,x,g;u.value=!0;try{const l=await _t.$_track_sample(C);if(l.type!=="ERROR")return m.value=l.data,_({title:"Success",message:"Sample tracked successfully",toastType:"success",duration:3e3}),l.data;{const n=((x=(f=(h=l==null?void 0:l.data)==null?void 0:h.detail)==null?void 0:f[0])==null?void 0:x.msg)||((g=l==null?void 0:l.data)==null?void 0:g.error)||"Failed to track sample";return _({title:"Error",message:n,toastType:"error",duration:3e3}),null}}catch(l){return _({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},bs=()=>{const u=b(!1),{showToast:m}=I();return{loading:u,disposeSample:async B=>{var C,h,f,x;u.value=!0;try{const g=await _t.$_dispose_sample(B);if(g.type!=="ERROR")return m({title:"Success",message:B.mark_as_disposed?"Sample disposed successfully":"Sample use recorded successfully",toastType:"success",duration:3e3}),g.data;{const l=((f=(h=(C=g==null?void 0:g.data)==null?void 0:C.detail)==null?void 0:h[0])==null?void 0:f.msg)||((x=g==null?void 0:g.data)==null?void 0:x.error)||"Failed to process sample";return m({title:"Error",message:l,toastType:"error",duration:3e3}),null}}catch(g){return m({title:"Error",message:(g==null?void 0:g.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},Ce={$_dispose_sample:u=>A.post("/biospecimen/samples/dispose",u),$_submit_disposal_request:u=>A.post("/biospecimen/samples/dispose/request",u),$_approve_disposal_request:(u,m)=>A.post(`/biospecimen/samples/dispose/approve/${u}`,{notes:m}),$_reject_disposal_request:(u,m)=>A.post(`/biospecimen/samples/dispose/reject/${u}`,{rejection_reason:m}),$_get_pending_disposal_requests:u=>A.get("/biospecimen/samples/dispose/pending",{params:u}),$_get_approved_disposal_requests:u=>A.get("/biospecimen/samples/dispose/approved",{params:u}),$_get_rejected_disposal_requests:u=>A.get("/biospecimen/samples/dispose/rejected",{params:u}),$_get_completed_disposal_requests:u=>A.get("/biospecimen/samples/dispose/completed",{params:u}),$_get_all_disposal_requests:u=>A.get("/biospecimen/samples/dispose/requests",{params:u}),$_get_disposal_history:u=>A.get("/biospecimen/samples/dispose/history",{params:u})},hs=()=>{const u=b(!1),m=b(null),{showToast:_}=I();return{loading:u,approvalData:m,approveDisposalRequest:async(C,h)=>{var f,x,g,l;u.value=!0;try{const n=await Ce.$_approve_disposal_request(C,h);if(n.type!=="ERROR")return m.value=n.data,_({title:"Success",message:"Disposal request approved successfully",toastType:"success",duration:3e3}),n.data;{const V=((g=(x=(f=n==null?void 0:n.data)==null?void 0:f.detail)==null?void 0:x[0])==null?void 0:g.msg)||((l=n==null?void 0:n.data)==null?void 0:l.error)||"Failed to approve disposal request";return _({title:"Error",message:V,toastType:"error",duration:3e3}),null}}catch(n){return _({title:"Error",message:(n==null?void 0:n.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},ws=()=>{const u=b(!1),m=b(null),{showToast:_}=I();return{loading:u,rejectionData:m,rejectDisposalRequest:async(C,h)=>{var f,x,g,l;u.value=!0;try{const n=await Ce.$_reject_disposal_request(C,h);if(n.type!=="ERROR")return m.value=n.data,_({title:"Success",message:"Disposal request rejected",toastType:"success",duration:3e3}),n.data;{const V=((g=(x=(f=n==null?void 0:n.data)==null?void 0:f.detail)==null?void 0:x[0])==null?void 0:g.msg)||((l=n==null?void 0:n.data)==null?void 0:l.error)||"Failed to reject disposal request";return _({title:"Error",message:V,toastType:"error",duration:3e3}),null}}catch(n){return _({title:"Error",message:(n==null?void 0:n.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},ks=()=>{const u=b(!1),m=b([]),{showToast:_}=I();return{loading:u,pendingRequests:m,getPendingDisposalRequests:async C=>{var h,f,x,g;u.value=!0;try{const l=await Ce.$_get_pending_disposal_requests(C);if(l.type!=="ERROR")return m.value=l.data,l.data;{const n=((x=(f=(h=l==null?void 0:l.data)==null?void 0:h.detail)==null?void 0:f[0])==null?void 0:x.msg)||((g=l==null?void 0:l.data)==null?void 0:g.error)||"Failed to fetch pending disposal requests";return _({title:"Error",message:n,toastType:"error",duration:3e3}),null}}catch(l){return _({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},zs=()=>{const u=b(!1),m=b([]),{showToast:_}=I();return{loading:u,completedRequests:m,getCompletedDisposalRequests:async C=>{var h,f,x,g;u.value=!0;try{const l=await Ce.$_get_completed_disposal_requests(C);if(l.type!=="ERROR")return m.value=l.data,l.data;{const n=((x=(f=(h=l==null?void 0:l.data)==null?void 0:h.detail)==null?void 0:f[0])==null?void 0:x.msg)||((g=l==null?void 0:l.data)==null?void 0:g.error)||"Failed to fetch completed disposal requests";return _({title:"Error",message:n,toastType:"error",duration:3e3}),null}}catch(l){return _({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},Rs=()=>{const u=b(!1),m=b(null),{showToast:_}=I();return{loading:u,approvalData:m,approveTrackingRequest:async(C,h)=>{var f,x,g,l;u.value=!0;try{const n=await Re.$_approve_tracking_request(C,h);if(n.type!=="ERROR")return m.value=n.data,_({title:"Success",message:"Tracking request approved successfully",toastType:"success",duration:3e3}),n.data;{const V=((g=(x=(f=n==null?void 0:n.data)==null?void 0:f.detail)==null?void 0:x[0])==null?void 0:g.msg)||((l=n==null?void 0:n.data)==null?void 0:l.error)||"Failed to approve tracking request";return _({title:"Error",message:V,toastType:"error",duration:3e3}),null}}catch(n){return _({title:"Error",message:(n==null?void 0:n.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},Cs=()=>{const u=b(!1),m=b(null),{showToast:_}=I();return{loading:u,rejectionData:m,rejectTrackingRequest:async(C,h)=>{var f,x,g,l;u.value=!0;try{const n=await Re.$_reject_tracking_request(C,h);if(n.type!=="ERROR")return m.value=n.data,_({title:"Success",message:"Tracking request rejected",toastType:"success",duration:3e3}),n.data;{const V=((g=(x=(f=n==null?void 0:n.data)==null?void 0:f.detail)==null?void 0:x[0])==null?void 0:g.msg)||((l=n==null?void 0:n.data)==null?void 0:l.error)||"Failed to reject tracking request";return _({title:"Error",message:V,toastType:"error",duration:3e3}),null}}catch(n){return _({title:"Error",message:(n==null?void 0:n.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},Ds=()=>{const u=b(!1),m=b([]),{showToast:_}=I();return{loading:u,pendingRequests:m,getPendingTrackingRequests:async C=>{var h,f,x,g;u.value=!0;try{const l=await Re.$_get_pending_tracking_requests(C);if(l.type!=="ERROR")return m.value=l.data,l.data;{const n=((x=(f=(h=l==null?void 0:l.data)==null?void 0:h.detail)==null?void 0:f[0])==null?void 0:x.msg)||((g=l==null?void 0:l.data)==null?void 0:g.error)||"Failed to fetch pending requests";return _({title:"Error",message:n,toastType:"error",duration:3e3}),null}}catch(l){return _({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},Ss=()=>{const u=b(!1),m=b([]),{showToast:_}=I();return{loading:u,completedRequests:m,getCompletedTrackingRequests:async C=>{var h,f,x,g;u.value=!0;try{const l=await Re.$_get_completed_tracking_requests(C);if(l.type!=="ERROR")return m.value=l.data,l.data;{const n=((x=(f=(h=l==null?void 0:l.data)==null?void 0:h.detail)==null?void 0:f[0])==null?void 0:x.msg)||((g=l==null?void 0:l.data)==null?void 0:g.error)||"Failed to fetch completed requests";return _({title:"Error",message:n,toastType:"error",duration:3e3}),null}}catch(l){return _({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{u.value=!1}}}},Ms={class:"min-h-screen"},qs={class:"flex"},Bs={class:"mx-auto container"},js={class:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-6"},Vs={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},Ts={class:"space-x-6"},Ps=["disabled"],Fs=["disabled"],Ls={class:"bg-white rounded-lg shadow-sm mb-6"},As={class:"border-b border-gray-200"},Is={class:"flex -mb-px overflow-x-auto","aria-label":"Tabs"},Us=["onClick"],$s={key:0,class:"flex items-center justify-center py-12"},Es={key:1,class:"px-6 py-12 text-center"},Ns={key:2},Os={class:"overflow-x-auto"},Hs={class:"w-full min-w-max"},Gs={class:"bg-white divide-y divide-gray-100"},Ws={class:"px-4 py-4 text-sm text-gray-900"},Ys={class:"px-4 py-4 text-sm text-gray-600"},Js={class:"flex items-center gap-1"},Ks={class:"px-4 py-4 text-sm text-gray-600"},Qs={class:"flex items-center gap-1"},Xs={class:"px-4 py-4 text-sm text-gray-600"},Zs={class:"px-4 py-4 text-sm text-gray-600"},ea={class:"px-4 py-4 text-sm text-gray-600"},ta={class:"px-4 py-4 text-sm text-gray-600"},sa={class:"px-4 py-4 text-sm"},aa={class:"flex gap-2"},oa=["onClick"],la=["onClick"],ia={class:"p-4 border-t-[0.5px]"},na={key:0,class:"flex items-center justify-center py-12"},ra={key:1,class:"px-6 py-12 text-center"},da={key:2},ua={class:"overflow-x-auto"},ca={class:"w-full min-w-max"},pa={class:"bg-white divide-y divide-gray-100"},va={class:"px-4 py-4 text-sm text-gray-900"},ga={class:"px-4 py-4 text-sm text-gray-600"},ma={class:"flex items-center gap-1"},xa={class:"px-4 py-4 text-sm text-gray-600"},_a={class:"flex items-center gap-1"},ya={class:"px-4 py-4 text-sm text-gray-600"},fa={class:"px-4 py-4 text-sm text-gray-600"},ba={class:"px-4 py-4 text-sm text-gray-600"},ha={class:"px-4 py-4 text-sm"},wa={class:"flex gap-2"},ka=["onClick"],za=["onClick"],Ra={class:"p-4 border-t-[0.5px]"},Ca={key:0,class:"flex items-center justify-center py-12"},Da={key:1,class:"px-6 py-12 text-center"},Sa={key:2},Ma={class:"overflow-x-auto"},qa={class:"w-full min-w-maxo"},Ba={class:"bg-white divide-y divide-gray-100"},ja={class:"px-4 py-4 text-sm text-gray-900"},Va={class:"px-4 py-4 text-sm text-gray-600"},Ta={class:"flex items-center gap-1"},Pa={class:"px-4 py-4 text-sm text-gray-600"},Fa={class:"flex items-center gap-1"},La={class:"px-4 py-4 text-sm text-gray-600"},Aa={class:"px-4 py-4 text-sm text-gray-600"},Ia={class:"px-4 py-4 text-sm text-gray-600"},Ua={class:"px-4 py-4 text-sm text-gray-600"},$a={class:"px-4 py-4 text-sm"},Ea=["onClick"],Na={class:"p-4 border-t-[0.5px]"},Oa={key:0,class:"flex items-center justify-center py-12"},Ha={key:1,class:"px-6 py-12 text-center"},Ga={key:2},Wa={class:"overflow-x-auto"},Ya={class:"w-full min-w-max"},Ja={class:"bg-white divide-y divide-gray-100"},Ka={class:"px-4 py-4 text-sm text-gray-900"},Qa={class:"px-4 py-4 text-sm text-gray-600"},Xa={class:"flex items-center gap-1"},Za={class:"px-4 py-4 text-sm text-gray-600"},eo={class:"flex items-center gap-1"},to={class:"px-4 py-4 text-sm text-gray-600"},so={class:"px-4 py-4 text-sm text-gray-600"},ao={class:"px-4 py-4 text-sm text-gray-600"},oo={class:"px-4 py-4 text-sm text-gray-600"},lo={class:"px-4 py-4 text-sm"},io=["onClick"],no={class:"p-4 border-t-[0.5px]"},ro={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},uo={class:"p-6"},co={class:"space-y-6"},po={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},vo={class:"flex flex-col"},go={class:"font-medium"},mo={class:"text-xs text-gray-500"},xo={class:"border-t pt-4"},_o={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},yo={class:"border-t pt-4"},fo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},bo={key:0,class:"md:col-span-3"},ho={class:"bg-gray-25 p-3 rounded-lg border border-gray-50 mb-3"},wo={class:"text-xs text-gray-600 flex items-center gap-1 flex-wrap"},ko={class:"font-semibold text-blue-600"},zo={key:0,class:"text-center py-8"},Ro={key:1,class:"overflow-x-auto rounded-lg bg-gray-25 p-3"},Co=["onClick","disabled"],Do={key:2,class:"mt-4 bg-white p-4 rounded-lg border-[0.5px] border-gray-50"},So={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},Mo={class:"text-center"},qo={class:"text-lg font-bold text-gray-900"},Bo={class:"text-center"},jo={class:"text-lg font-bold text-red-600"},Vo={class:"text-center"},To={class:"text-lg font-bold text-green-600"},Po={class:"text-center"},Fo={class:"text-lg font-bold text-blue-600"},Lo={key:1,class:"md:col-span-3 text-center py-8 bg-gray-25 rounded-lg"},Ao={class:"border-t pt-4"},Io={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Uo={class:"flex justify-end gap-3 mt-6"},$o=["disabled"],Eo=["disabled"],No={key:0},Oo={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl"},Ho={class:"p-6"},Go={class:"space-y-4"},Wo={class:"flex flex-col"},Yo={class:"font-medium"},Jo={class:"text-xs text-gray-500"},Ko={class:"flex items-center gap-2"},Qo={class:"flex justify-end gap-3 mt-6"},Xo=["disabled"],Zo=["disabled"],el={key:0},tl={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},sl={class:"p-6"},al={class:"flex items-center gap-3 mb-6"},ol={class:"text-xl font-bold text-gray-900"},ll={key:0,class:"space-y-6"},il={class:"space-y-4"},nl={class:"flex justify-between items-start py-2"},rl={class:"text-sm font-medium text-gray-900 text-right"},dl={class:"flex justify-between items-start py-2"},ul={class:"text-sm font-medium text-gray-900 text-right"},cl={class:"flex justify-between items-start py-2"},pl={class:"text-sm font-medium text-gray-900 text-right"},vl={class:"flex justify-between items-start py-2"},gl={class:"text-sm font-medium text-gray-900 text-right"},ml={class:"flex justify-between items-start py-2"},xl={class:"text-sm font-medium text-gray-900 text-right"},_l={class:"flex justify-between items-start py-2"},yl={class:"text-sm font-medium text-gray-900 text-right"},fl={key:0,class:"flex justify-between items-start py-2"},bl={class:"text-sm font-medium text-gray-900 text-right"},hl={key:1,class:"flex justify-between items-start py-2"},wl={class:"text-sm font-medium text-gray-900 text-right max-w-xs"},kl={class:"relative pl-8 space-y-6 mt-8"},zl={class:"relative"},Rl={class:"bg-gray-25 rounded-lg p-4"},Cl={class:"text-sm text-gray-600"},Dl={key:0},Sl={key:0,class:"relative"},Ml={class:"bg-gray-25 rounded-lg p-4"},ql={class:"text-sm text-gray-600"},Bl={key:0},jl={key:1,class:"relative"},Vl={class:"bg-gray-25 rounded-lg p-4"},Tl={class:"text-sm text-gray-600"},Pl={key:0},Fl={key:1},Ll={key:2,class:"relative"},Al={class:"bg-gray-25 rounded-lg p-4"},Il={class:"text-sm text-gray-600"},Ul={key:0},$l={key:1},El={key:3,class:"relative"},Nl={class:"bg-red-50 rounded-lg p-4"},Ol={class:"text-sm text-red-700"},Hl={key:0},Gl={key:0,class:"text-sm text-red-600 mt-2"},Wl={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Yl={class:"p-6"},Jl={class:"text-sm text-gray-600 text-center mb-6"},Kl={class:"font-semibold"},Ql={class:"bg-gray-25 rounded-lg p-4 mb-6 space-y-4"},Xl={class:"flex space-y-1 flex-col justify-between text-sm"},Zl={class:"text-gray-900 font-medium"},ei={class:"flex space-y-1 flex-col justify-between text-sm"},ti={class:"text-gray-900 font-medium"},si={class:"flex space-y-1 flex-col justify-between text-sm"},ai={class:"text-gray-900 font-medium"},oi={class:"flex gap-3"},li=["disabled"],ii=["disabled"],ni={key:0},ri={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},di={class:"p-6"},ui={class:"text-sm text-gray-600 text-center mb-6"},ci={class:"font-semibold"},pi={class:"bg-gray-25 rounded-lg p-4 mb-4 space-y-4"},vi={class:"flex flex-col space-y-1 justify-between text-sm"},gi={class:"text-gray-900 font-medium"},mi={class:"flex flex-col space-y-1 justify-between text-sm"},xi={class:"text-gray-900 font-medium"},_i={class:"flex flex-col space-y-1 justify-between text-sm"},yi={class:"text-gray-900 font-medium"},fi={class:"mb-6"},bi={class:"flex gap-3"},hi=["disabled"],wi=["disabled"],ki={key:0},Li=ls({__name:"tracking",setup(u){const{loading:m,approveTrackingRequest:_}=Rs(),{loading:B,rejectTrackingRequest:C}=Cs(),{loading:h,pendingRequests:f,getPendingTrackingRequests:x}=Ds(),{loading:g,completedRequests:l,getCompletedTrackingRequests:n}=Ss(),{loading:V,approveDisposalRequest:yt}=hs(),{loading:ve,rejectDisposalRequest:ft}=ws(),{loading:Xe,pendingRequests:De,getPendingDisposalRequests:Y}=ks(),{loading:Ze,completedRequests:Se,getCompletedDisposalRequests:J}=zs();_s();const{loading:bt,getBoxOccupancy:ht}=cs(),{loading:se,trackSample:wt}=fs(),{loading:ge,disposeSample:kt}=bs(),{sites:K,getSites:zt}=vs(),{racks:T,getRacks:me}=ms(),{freezers:P,getFreezers:xe}=gs(),{boxes:$,getBoxes:_e}=xs(),{samples:et}=ps(),{user:ye}=ys(),j=b(null),O=S(()=>{var s;return(s=j.value)==null?void 0:s.template}),ae=S(()=>{var s,t;return`${((s=ye.value)==null?void 0:s.first_name)||((t=ye.value)==null?void 0:t.last_name)}`}),Q=b("pending-movement"),Rt={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
  `},Ct={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
    </svg>
  `},tt={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
  `},Dt=S(()=>[{id:"pending-movement",label:"Pending Movement",icon:Rt,count:lt.value.length,badgeClass:"bg-orange-100 text-orange-700"},{id:"pending-disposal",label:"Pending Disposal",icon:Ct,count:oe.value.length,badgeClass:"bg-red-100 text-red-700"},{id:"complete-movement",label:"Complete Movement",icon:tt,count:le.value.length,badgeClass:"bg-green-100 text-green-700"},{id:"complete-disposal",label:"Complete Disposal",icon:tt,count:ie.value.length,badgeClass:"bg-green-100 text-green-700"}]),H=b("tracking"),U=b({status:"All Status",dateRange:{from:"",to:""}});b(["All Status","Pending Movement","Pending Disposal","Complete Movement","Complete Disposal"]);const fe=s=>s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Me=s=>{if(!s)return"N/A";if(typeof s=="string")return s;const t=[];return s.site&&t.push(`Site: ${s.site}`),s.freezer&&t.push(`Freezer: ${s.freezer}`),s.rack&&t.push(`Rack: ${s.rack}`),s.box&&t.push(`Box: ${s.box}`),s.position&&t.push(`Pos: ${s.position}`),t.length>0?t.join(", "):"N/A"},st=s=>({id:s.request_id||s.id,sampleId:s.sample_serial_no,sourceLocation:Me(s.source_location||s.source_attributes),destinationLocation:Me(s.destination_location||s.destination_attributes),requestedDate:fe(s==null?void 0:s.requested_at),approvedDate:fe(s==null?void 0:s.approved_at),requestedBy:s.requested_by||s.request_by||"N/A",status:s.status==="pending"?"pendingMovement":"completeMovement",description:s.description||s.reason||s.notes,completionStatus:s.completion_status||s.status,request_id:s.request_id||s.id,...s}),at=s=>({id:s.request_id||s.id,sampleId:s.sample_serial_no,sourceLocation:Me(s.source_location||s.location),destinationLocation:"Disposal Unit",requestedDate:fe(s==null?void 0:s.requested_at),approvedDate:fe(s==null?void 0:s.approved_at),requestedBy:s.requested_by||s.request_by||"N/A",status:s.status==="pending"?"pendingDisposal":"completeDisposal",description:s.reason_for_disposal||s.reason||s.description,completionStatus:s.completion_status||s.status,request_id:s.request_id||s.id,...s}),ot=S(()=>!K.value||K.value.length===0?[]:K.value.map(s=>s.site_name));S(()=>!P.value||P.value.length===0?[]:P.value.map(s=>s.freezer_name)),S(()=>!T.value||T.value.length===0?[]:T.value.map(s=>s.rack_name)),S(()=>!$.value||$.value.length===0?[]:$.value.map(s=>s.box_name));const St=S(()=>o.value.source_freezer?[o.value.source_freezer]:[]),Mt=S(()=>o.value.source_rack?[o.value.source_rack]:[]),qt=S(()=>o.value.source_box?[o.value.source_box]:[]),Bt=S(()=>!o.value.destination_site||!P.value?[]:P.value.map(s=>s.freezer_name)),jt=S(()=>!o.value.destination_freezer||!T.value?[]:T.value.map(s=>s.rack_name)),Vt=S(()=>!o.value.destination_rack||!$.value?[]:$.value.map(s=>s.box_name)),lt=S(()=>!f.value||f.value.length===0?[]:f.value.map(st)),oe=S(()=>!De.value||De.value.length===0?[]:De.value.map(at)),le=S(()=>!l.value||l.value.length===0?[]:l.value.map(st)),ie=S(()=>!Se.value||Se.value.length===0?[]:Se.value.map(at)),Tt=s=>{var p;const t=(p=K.value)==null?void 0:p.find(z=>z.site_name===s);return(t==null?void 0:t.site_id)||""},Pt=s=>{var p;const t=(p=P.value)==null?void 0:p.find(z=>z.freezer_name===s);return(t==null?void 0:t.freezer_id)||""},Ft=s=>{var p;const t=(p=T.value)==null?void 0:p.find(z=>z.rack_name===s);return(t==null?void 0:t.rack_id)||""},Lt=s=>{var p;const t=(p=$.value)==null?void 0:p.find(z=>z.box_name===s);return(t==null?void 0:t.box_id)||""},{currentPage:qe,pageSize:Be,totalItems:At,paginatedItems:je,resetPagination:it}=ze(lt,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),{currentPage:Ve,pageSize:Te,totalItems:It,resetPagination:nt}=ze(oe,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),{currentPage:Pe,pageSize:Fe,totalItems:Ut,resetPagination:rt}=ze(le,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),{currentPage:Le,pageSize:Ae,totalItems:$t,resetPagination:dt}=ze(ie,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),ut=S(()=>H.value==="tracking"?"movement":"disposal"),Ie=S(()=>h.value||g.value||Xe.value||Ze.value),Ue=b(!1),$e=b(!1),Ee=b(!1),Ne=b(!1),Oe=b(!1),d=b(null),G=b(""),o=b({sample_uuid:"",source_site:"",source_site_id:"",source_freezer:"",source_freezer_id:"",source_rack:"",source_rack_id:"",source_box:"",source_box_id:"",source_position:null,destination_site:"",destination_site_id:"",destination_freezer:"",destination_freezer_id:"",destination_rack:"",destination_rack_id:"",destination_box:"",destination_box_id:"",destination_position:null,movement_type:"Immediate",reservation_time:"",start_date_time:"",end_date_time:"",request_by:ae.value}),M=b({sample_uuid:"",notes:"",disposal_method:"",reason_for_disposal:"",mark_as_disposed:!0}),Et=async s=>{var t,p,z,q,F,ne,re,de,ue;if(console.log("Selected sample:",s),s&&s.storage_location){const w=s.storage_location;o.value.source_site_id=w.site||"",o.value.source_freezer_id=w.freezer||"",o.value.source_rack_id=w.rack||"",o.value.source_box_id=w.box||"",o.value.source_position=w.position!==void 0?w.position:null;const X=(t=K.value)==null?void 0:t.find(y=>y.site_id===w.site),Z=(p=P.value)==null?void 0:p.find(y=>y.freezer_id===w.freezer),ee=(z=T.value)==null?void 0:z.find(y=>y.rack_id===w.rack),a=(q=$.value)==null?void 0:q.find(y=>y.box_id===w.box);if(o.value.source_site=(X==null?void 0:X.site_name)||w.site||"",o.value.source_freezer=(Z==null?void 0:Z.freezer_name)||w.freezer||"",o.value.source_rack=(ee==null?void 0:ee.rack_name)||w.rack||"",o.value.source_box=(a==null?void 0:a.box_name)||w.box||"",w.site&&!((F=P.value)!=null&&F.some(y=>y.site_id===w.site))&&await xe({site_id:w.site}),w.freezer&&!((ne=T.value)!=null&&ne.some(y=>y.freezer_id===w.freezer))){const y=(re=P.value)==null?void 0:re.find(be=>be.freezer_id===w.freezer);y&&await me({site_id:y.site_id,freezer_id:w.freezer})}if(w.rack&&!((de=$.value)!=null&&de.some(y=>y.rack_id===w.rack))){const y=(ue=T.value)==null?void 0:ue.find(be=>be.rack_id===w.rack);y&&await _e({site_id:y.site_id,freezer_id:y.freezer_id,rack_id:w.rack})}}},Nt=async s=>{const t=Tt(s);o.value.destination_site_id=t,t&&await xe({site_id:t}),o.value.destination_freezer="",o.value.destination_freezer_id="",o.value.destination_rack="",o.value.destination_rack_id="",o.value.destination_box="",o.value.destination_box_id="",o.value.destination_position="",j.value=null},Ot=async s=>{const t=Pt(s);o.value.destination_freezer_id=t,o.value.destination_site_id&&t&&await me({site_id:o.value.destination_site_id,freezer_id:t}),o.value.destination_rack="",o.value.destination_rack_id="",o.value.destination_box="",o.value.destination_box_id="",o.value.destination_position="",j.value=null},Ht=async s=>{const t=Ft(s);o.value.destination_rack_id=t,o.value.destination_site_id&&o.value.destination_freezer_id&&t&&await _e({site_id:o.value.destination_site_id,freezer_id:o.value.destination_freezer_id,rack_id:t}),o.value.destination_box="",o.value.destination_box_id="",o.value.destination_position="",j.value=null},ct=async s=>{if(o.value.destination_position=null,j.value=null,!s)return;const t=Lt(s);if(o.value.destination_box_id=t,o.value.destination_site_id&&o.value.destination_freezer_id&&o.value.destination_rack_id&&t){const p=await ht({site_id:o.value.destination_site_id,freezer_id:o.value.destination_freezer_id,rack_id:o.value.destination_rack_id,box_id:t});p&&(j.value=p)}},pt=s=>String.fromCharCode(64+s),He=(s,t)=>{var p;return(s-1)*(((p=O.value)==null?void 0:p.columns)||10)+t-1},Gt=s=>{if(s==null||!O.value)return"Select Position";const t=O.value.columns,p=Math.floor(s/t)+1,z=s%t+1;return`${pt(p)}${z}`},Ge=(s,t)=>{if(!j.value)return!1;const p=He(s,t);return j.value.occupancy[p]===1},Wt=(s,t)=>{Ge(s,t)||(o.value.destination_position=He(s,t))};he(()=>o.value.destination_site,async s=>{var t;if(s){const p=(t=K.value)==null?void 0:t.find(z=>z.site_name===s);p&&await xe({site_id:p.site_id})}o.value.destination_freezer="",o.value.destination_rack="",o.value.destination_box="",o.value.destination_position=""}),he(()=>o.value.destination_freezer,async s=>{var t;if(s){const p=(t=P.value)==null?void 0:t.find(z=>z.freezer_name===s);p&&await me({site_id:p.site_id,freezer_id:p.freezer_id})}o.value.destination_rack="",o.value.destination_box="",o.value.destination_position=""}),he(()=>o.value.destination_rack,async s=>{var t;if(s){const p=(t=T.value)==null?void 0:t.find(z=>z.rack_name===s);p&&await _e({site_id:p.site_id,freezer_id:p.freezer_id,rack_id:p.rack_id})}o.value.destination_box="",o.value.destination_position=""}),he(()=>o.value.destination_box,async s=>{s?await ct(s):(j.value=null,o.value.destination_position="")}),is(async()=>{await Promise.all([zt(),xe(),me(),_e(),x(),n(),Y(),J()])});const Yt=()=>{Ue.value=!0,o.value.request_by=ae.value},We=()=>{Ue.value=!1,o.value={sample_uuid:"",source_site:"",source_site_id:"",source_freezer:"",source_freezer_id:"",source_rack:"",source_rack_id:"",source_box:"",source_box_id:"",source_position:null,destination_site:"",destination_site_id:"",destination_freezer:"",destination_freezer_id:"",destination_rack:"",destination_rack_id:"",destination_box:"",destination_box_id:"",destination_position:null,movement_type:"Immediate",reservation_time:"",start_date_time:"",end_date_time:"",request_by:ae.value},j.value=null},Jt=()=>{$e.value=!0,M.value.request_by=ae.value},Ye=()=>{$e.value=!1,M.value={sample_uuid:"",request_by:ae.value,reason_for_disposal:"",mark_as_disposed:!0}},vt=(s,t)=>{d.value=s,H.value=t,Ee.value=!0},gt=()=>{Ee.value=!1,d.value=null},mt=(s,t)=>{d.value=s,H.value=t,Ne.value=!0},Je=()=>{Ne.value=!1,d.value=null},xt=(s,t)=>{d.value=s,H.value=t,Oe.value=!0},Ke=()=>{Oe.value=!1,d.value=null,G.value=""},Kt=async()=>{!d.value||!d.value.request_id||(H.value==="tracking"?await _(d.value.request_id)&&await Promise.all([x(),n()]):await yt(d.value.request_id)&&await Promise.all([Y(),J()]),Je())},Qt=async()=>{!d.value||!d.value.request_id||!G.value.trim()||(H.value==="tracking"?await C(d.value.request_id,G.value)&&await Promise.all([x(),n()]):await ft(d.value.request_id,G.value)&&await Promise.all([Y(),J()]),Ke())},Xt=async()=>{var z,q;const s=F=>F?F instanceof Date?F.toISOString():new Date(F).toISOString():null,t={sample_uuid:o.value.sample_uuid.uuid,source_attributes:{site:o.value.source_site_id,freezer:o.value.source_freezer_id,rack:o.value.source_rack_id,box:o.value.source_box_id,position:parseInt(o.value.source_position)},destination_attributes:{site:o.value.destination_site_id,freezer:o.value.destination_freezer_id,rack:o.value.destination_rack_id,box:o.value.destination_box_id,position:parseInt(o.value.destination_position)},request_type:o.value.movement_type,approved_by:[(z=ye.value)==null?void 0:z.user_id],reservation_time:s(o.value.reservation_time),start_date_time:s(o.value.start_date_time),end_date_time:s(o.value.end_date_time),request_by:(q=ye.value)==null?void 0:q.user_id};console.log("Movement request payload:",t),await wt(t)&&(await Promise.all([x(),n()]),We())},Zt=async()=>{const s={sample_uuid:M.value.sample_uuid.uuid,notes:M.value.notes,disposal_method:M.value.disposal_method,reason_for_disposal:M.value.reason_for_disposal,mark_as_disposed:M.value.mark_as_disposed};await kt(s)&&(await Promise.all([Y(),J()]),Ye())},es=async()=>{const s={};U.value.dateRange.from&&(s.date_from=U.value.dateRange.from),U.value.dateRange.to&&(s.date_to=U.value.dateRange.to),await Promise.all([x(s),n(s),Y(s),J(s)]),it(),nt(),rt(),dt()},ts=async()=>{U.value={status:"All Status",dateRange:{from:"",to:""}},await Promise.all([x(),n(),Y(),J()]),it(),nt(),rt(),dt()};return(s,t)=>{var F,ne,re,de,ue,w,X,Z,ee;const p=ss,z=as,q=os;return r(),c("div",Ms,[e("div",qs,[e("main",Bs,[e("div",{class:"mb-6 rounded-xl bg-[#DCF1FF] text-[#005B8F] py-4 px-6"},[e("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[t[34]||(t[34]=e("div",null,[e("h1",{class:"text-xl font-bold bg-[#DCF1FF] text-[#005B8F]"},"BioSpecimen Tracking"),e("p",{class:"text-base bg-[#DCF1FF] text-[#005B8F] mt-1"},"Monitor movement requests, approvals, and disposal workflows")],-1)),e("div",{class:"flex flex-wrap gap-2"},[e("button",{onClick:Yt,class:"px-4 py-3 font-semibold text-[#DCF1FF] bg-[#005B8F] rounded-lg transition flex items-center gap-2 text-sm"},t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),R(" Request Movement ")])),e("button",{onClick:Jt,class:"px-4 py-3 font-semibold text-[#DCF1FF] bg-[#005B8F] rounded-lg transition flex items-center gap-2 text-sm"},t[33]||(t[33]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),R(" Request Disposal ")]))])])]),e("div",js,[e("div",Vs,[D(p,{label:"Start date",type:"date",modelValue:U.value.dateRange.from,"onUpdate:modelValue":t[0]||(t[0]=a=>U.value.dateRange.from=a)},null,8,["modelValue"]),D(p,{label:"End date",type:"date",modelValue:U.value.dateRange.to,"onUpdate:modelValue":t[1]||(t[1]=a=>U.value.dateRange.to=a)},null,8,["modelValue"]),e("div",Ts,[e("button",{onClick:es,disabled:Ie.value,class:"flex-1 px-4 py-2 bg-[#005B8F] text-white rounded hover:bg-[#004a73] transition text-sm font-medium disabled:opacity-50"},i(Ie.value?"Loading...":"Search"),9,Ps),e("button",{onClick:ts,disabled:Ie.value,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-25 transition text-sm font-medium disabled:opacity-50"}," Clear Filter ",8,Fs)])])]),e("div",Ls,[e("div",As,[e("nav",Is,[(r(!0),c(E,null,W(Dt.value,a=>(r(),c("button",{key:a.id,onClick:y=>Q.value=a.id,class:Qe(["whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors",Q.value===a.id?"border-[#005B8F] text-[#005B8F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[(r(),L(us(a.icon),{class:"w-5 h-5"})),R(" "+i(a.label)+" ",1),e("span",{class:Qe(["px-2 py-0.5 rounded-full text-xs font-medium",a.badgeClass])},i(a.count),3)],10,Us))),128))])]),e("div",null,[te(e("div",null,[v(h)?(r(),c("div",$s,t[35]||(t[35]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):v(je).length===0?(r(),c("div",Es,t[36]||(t[36]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"mt-2 text-gray-500"},"No pending movement requests",-1)]))):(r(),c("div",Ns,[e("div",Os,[e("table",Hs,[t[39]||(t[39]=e("thead",{class:"bg-gray-25"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample SN"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Description"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action")])],-1)),e("tbody",Gs,[(r(!0),c(E,null,W(v(je),a=>(r(),c("tr",{key:a.id,class:"hover:bg-gray-25"},[e("td",Ws,i(a.sampleId),1),e("td",Ys,[e("div",Js,[t[37]||(t[37]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.sourceLocation),1)])]),e("td",Ks,[e("div",Qs,[t[38]||(t[38]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.destinationLocation),1)])]),e("td",Xs,i(a.requestedDate),1),e("td",Zs,i(a.approvedDate),1),e("td",ea,i(a.requestedBy),1),e("td",ta,i(a.description??"N/a"),1),e("td",sa,[e("div",aa,[e("button",{onClick:y=>xt(a,"tracking"),class:"px-3 py-1 text-xs border border-red-300 text-red-600 rounded hover:bg-red-50 transition"}," Reject ",8,oa),e("button",{onClick:y=>mt(a,"tracking"),class:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition"}," Approve ",8,la)])])]))),128))])])])])),e("div",ia,[v(je).length>0?(r(),L(z,{key:0,currentPage:v(qe),"onUpdate:currentPage":t[2]||(t[2]=a=>N(qe)?qe.value=a:null),pageSize:v(Be),"onUpdate:pageSize":t[3]||(t[3]=a=>N(Be)?Be.value=a:null),totalItems:v(At),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):k("",!0)])],512),[[we,Q.value==="pending-movement"]]),te(e("div",null,[v(Xe)?(r(),c("div",na,t[40]||(t[40]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):oe.value.length===0?(r(),c("div",ra,t[41]||(t[41]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("p",{class:"mt-2 text-gray-500"},"No pending disposal requests",-1)]))):(r(),c("div",da,[e("div",ua,[e("table",ca,[t[44]||(t[44]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample SN "),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action ")])],-1)),e("tbody",pa,[(r(!0),c(E,null,W(oe.value,a=>(r(),c("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",va,i(a.sampleId),1),e("td",ga,[e("div",ma,[t[42]||(t[42]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.sourceLocation),1)])]),e("td",xa,[e("div",_a,[t[43]||(t[43]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.destinationLocation),1)])]),e("td",ya,i(a.requestedDate),1),e("td",fa,i(a.approvedDate),1),e("td",ba,i(a.requestedBy),1),e("td",ha,[e("div",wa,[e("button",{onClick:y=>xt(a,"disposal"),class:"px-3 py-1 text-xs border border-red-300 text-red-600 rounded hover:bg-red-50 transition"}," Reject ",8,ka),e("button",{onClick:y=>mt(a,"disposal"),class:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition"}," Approve ",8,za)])])]))),128))])])])])),e("div",Ra,[oe.value.length>0?(r(),L(z,{key:0,currentPage:v(Ve),"onUpdate:currentPage":t[4]||(t[4]=a=>N(Ve)?Ve.value=a:null),pageSize:v(Te),"onUpdate:pageSize":t[5]||(t[5]=a=>N(Te)?Te.value=a:null),totalItems:v(It),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):k("",!0)])],512),[[we,Q.value==="pending-disposal"]]),te(e("div",null,[v(g)?(r(),c("div",Ca,t[45]||(t[45]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):le.value.length===0?(r(),c("div",Da,t[46]||(t[46]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"mt-2 text-gray-500"},"No completed movement requests",-1)]))):(r(),c("div",Sa,[e("div",Ma,[e("table",qa,[t[50]||(t[50]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample SN "),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Description"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action ")])],-1)),e("tbody",Ba,[(r(!0),c(E,null,W(le.value,a=>(r(),c("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",ja,i(a.sampleId),1),e("td",Va,[e("div",Ta,[t[47]||(t[47]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.sourceLocation),1)])]),e("td",Pa,[e("div",Fa,[t[48]||(t[48]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.destinationLocation),1)])]),e("td",La,i(a.requestedDate),1),e("td",Aa,i(a.approvedDate),1),e("td",Ia,i(a.requestedBy),1),e("td",Ua,i(a.description||"N/A"),1),e("td",$a,[e("button",{onClick:y=>vt(a,"tracking"),class:"p-2 hover:bg-gray-100 rounded transition"},t[49]||(t[49]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)]),8,Ea)])]))),128))])])])])),e("div",Na,[le.value.length>0?(r(),L(z,{key:0,currentPage:v(Pe),"onUpdate:currentPage":t[6]||(t[6]=a=>N(Pe)?Pe.value=a:null),pageSize:v(Fe),"onUpdate:pageSize":t[7]||(t[7]=a=>N(Fe)?Fe.value=a:null),totalItems:v(Ut),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):k("",!0)])],512),[[we,Q.value==="complete-movement"]]),te(e("div",null,[v(Ze)?(r(),c("div",Oa,t[51]||(t[51]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):ie.value.length===0?(r(),c("div",Ha,t[52]||(t[52]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"mt-2 text-gray-500"},"No completed disposal requests",-1)]))):(r(),c("div",Ga,[e("div",Wa,[e("table",Ya,[t[56]||(t[56]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample SN "),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Description"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action ")])],-1)),e("tbody",Ja,[(r(!0),c(E,null,W(ie.value,a=>(r(),c("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",Ka,i(a.sampleId),1),e("td",Qa,[e("div",Xa,[t[53]||(t[53]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.sourceLocation),1)])]),e("td",Za,[e("div",eo,[t[54]||(t[54]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),R(" "+i(a.destinationLocation),1)])]),e("td",to,i(a.requestedDate),1),e("td",so,i(a.approvedDate),1),e("td",ao,i(a.requestedBy),1),e("td",oo,i(a.description||"N/A"),1),e("td",lo,[e("button",{onClick:y=>vt(a,"disposal"),class:"p-2 hover:bg-gray-100 rounded transition"},t[55]||(t[55]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)]),8,io)])]))),128))])])])])),e("div",no,[ie.value.length>0?(r(),L(z,{key:0,currentPage:v(Le),"onUpdate:currentPage":t[8]||(t[8]=a=>N(Le)?Le.value=a:null),pageSize:v(Ae),"onUpdate:pageSize":t[9]||(t[9]=a=>N(Ae)?Ae.value=a:null),totalItems:v($t),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):k("",!0)])],512),[[we,Q.value==="complete-disposal"]])])])])]),(r(),L(pe,{to:"body"},[Ue.value?(r(),c("div",{key:0,class:"fixed inset-0 bg-black bg-black/50 backdrop-blur-lg bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:ce(We,["self"])},[e("div",ro,[e("div",uo,[t[74]||(t[74]=e("div",{class:"flex items-center gap-2 mb-6"},[e("svg",{class:"w-6 h-6 text-[#005B8F]",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})]),e("h2",{class:"text-xl font-bold text-gray-900"},"Request Movement")],-1)),e("div",co,[e("div",po,[D(q,{options:v(et),label:"Sample UUID",modelValue:o.value.sample_uuid,"onUpdate:modelValue":[t[10]||(t[10]=a=>o.value.sample_uuid=a),Et]},{default:ke(({option:a})=>[e("div",vo,[e("span",go,i(a.sample_label),1),e("span",mo,"UUID: "+i(a.uuid),1)])]),"selected-label":ke(({option:a})=>[R(i(a.sample_label),1)]),_:1},8,["options","modelValue"]),D(p,{label:"Requested By",modelValue:o.value.request_by,"onUpdate:modelValue":t[11]||(t[11]=a=>o.value.request_by=a),type:"text",readonly:!0,class:"bg-gray-25"},null,8,["modelValue"]),D(q,{modelValue:o.value.movement_type,"onUpdate:modelValue":t[12]||(t[12]=a=>o.value.movement_type=a),options:["Immediate","Reservation"],label:"Movement Type"},null,8,["modelValue"])]),e("div",xo,[t[57]||(t[57]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide"},"Source Location",-1)),e("div",_o,[D(q,{modelValue:o.value.source_site,"onUpdate:modelValue":t[13]||(t[13]=a=>o.value.source_site=a),options:ot.value,label:"Site",disabled:!0},null,8,["modelValue","options"]),D(q,{modelValue:o.value.source_freezer,"onUpdate:modelValue":t[14]||(t[14]=a=>o.value.source_freezer=a),options:St.value,label:"Freezer",disabled:!0},null,8,["modelValue","options"]),D(q,{modelValue:o.value.source_rack,"onUpdate:modelValue":t[15]||(t[15]=a=>o.value.source_rack=a),options:Mt.value,label:"Rack",disabled:!0},null,8,["modelValue","options"]),D(q,{modelValue:o.value.source_box,"onUpdate:modelValue":t[16]||(t[16]=a=>o.value.source_box=a),options:qt.value,label:"Box",disabled:!0},null,8,["modelValue","options"]),D(p,{label:"Position",modelValue:o.value.source_position,"onUpdate:modelValue":t[17]||(t[17]=a=>o.value.source_position=a),type:"number",readonly:!0,class:"bg-gray-25"},null,8,["modelValue"])])]),e("div",yo,[t[71]||(t[71]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide"},"Destination Location",-1)),e("div",fo,[D(q,{modelValue:o.value.destination_site,"onUpdate:modelValue":[t[18]||(t[18]=a=>o.value.destination_site=a),Nt],options:ot.value,label:"Site"},null,8,["modelValue","options"]),D(q,{modelValue:o.value.destination_freezer,"onUpdate:modelValue":[t[19]||(t[19]=a=>o.value.destination_freezer=a),Ot],options:Bt.value,label:"Freezer",disabled:!o.value.destination_site},null,8,["modelValue","options","disabled"]),D(q,{modelValue:o.value.destination_rack,"onUpdate:modelValue":[t[20]||(t[20]=a=>o.value.destination_rack=a),Ht],options:jt.value,label:"Rack",disabled:!o.value.destination_freezer},null,8,["modelValue","options","disabled"]),D(q,{modelValue:o.value.destination_box,"onUpdate:modelValue":[t[21]||(t[21]=a=>o.value.destination_box=a),t[22]||(t[22]=a=>ct(o.value.destination_box))],options:Vt.value,label:"Box",disabled:!o.value.destination_rack},null,8,["modelValue","options","disabled"]),o.value.destination_box?(r(),c("div",bo,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[R(" Select Position "),e("span",{class:"text-red-500"},"*")],-1)),e("div",ho,[e("div",wo,[e("span",null,i(o.value.destination_site||"Select Site"),1),t[58]||(t[58]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",null,i(o.value.destination_freezer||"Select Freezer"),1),t[59]||(t[59]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",null,i(o.value.destination_rack||"Select Rack"),1),t[60]||(t[60]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",null,i(o.value.destination_box||"Select Box"),1),t[61]||(t[61]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",ko,i(Gt(o.value.destination_position)),1)])]),v(bt)?(r(),c("div",zo,t[62]||(t[62]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F] mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-sm text-gray-600"},"Loading box occupancy...",-1)]))):O.value?(r(),c("div",Ro,[e("div",{class:"grid gap-2 mb-4",style:ns({gridTemplateColumns:`repeat(${O.value.columns}, minmax(0, 1fr))`})},[(r(!0),c(E,null,W(O.value.rows,a=>(r(),c(E,{key:a},[(r(!0),c(E,null,W(O.value.columns,y=>(r(),c("button",{key:`${a}-${y}`,type:"button",onClick:be=>Wt(a,y),class:Qe(["w-full aspect-square text-xs font-semibold rounded-lg border-[0.5px] transition-all duration-200 transform hover:scale-105",o.value.destination_position===He(a,y)?"bg-[#005B8F] text-white border-blue-700 shadow-lg scale-110":Ge(a,y)?"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed opacity-60":"bg-white text-gray-700 border-gray-100 hover:border-blue-400 hover:shadow-md"]),disabled:Ge(a,y)||v(se)},i(pt(a))+i(y),11,Co))),128))],64))),128))],4)])):k("",!0),(F=j.value)!=null&&F.statistics?(r(),c("div",Do,[t[67]||(t[67]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Box Statistics",-1)),e("div",So,[e("div",Mo,[t[63]||(t[63]=e("p",{class:"text-xs text-gray-600"},"Total",-1)),e("p",qo,i(j.value.statistics.total_positions),1)]),e("div",Bo,[t[64]||(t[64]=e("p",{class:"text-xs text-gray-600"},"Occupied",-1)),e("p",jo,i(j.value.statistics.occupied),1)]),e("div",Vo,[t[65]||(t[65]=e("p",{class:"text-xs text-gray-600"},"Available",-1)),e("p",To,i(j.value.statistics.available),1)]),e("div",Po,[t[66]||(t[66]=e("p",{class:"text-xs text-gray-600"},"Utilization",-1)),e("p",Fo,i(j.value.statistics.utilization_percentage)+"%",1)])])])):k("",!0),t[69]||(t[69]=e("div",{class:"flex flex-wrap gap-4 text-sm bg-white p-3 rounded-lg border-[0.5px] border-gray-50 mt-4"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-white border[0.5px] border-gray-300 rounded-lg"}),e("span",{class:"text-gray-700"},"Available")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-gray-300 border-[0.5px] border-gray-400 rounded-lg"}),e("span",{class:"text-gray-700"},"Occupied")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-[#005B8F] border[0.5px] border-blue-700 rounded-lg"}),e("span",{class:"text-gray-700"},"Selected")])],-1))])):(r(),c("div",Lo,t[70]||(t[70]=[e("svg",{class:"w-12 h-12 text-gray-300 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"text-sm text-gray-600"},"Select a box to view available positions",-1)])))])]),e("div",Ao,[t[72]||(t[72]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide"},"Schedule",-1)),e("div",Io,[D(p,{modelValue:o.value.reservation_time,"onUpdate:modelValue":t[23]||(t[23]=a=>o.value.reservation_time=a),type:"datetime-local",label:"Reservation Time"},null,8,["modelValue"]),D(p,{modelValue:o.value.start_date_time,"onUpdate:modelValue":t[24]||(t[24]=a=>o.value.start_date_time=a),type:"datetime-local",label:"Start Date & Time"},null,8,["modelValue"]),D(p,{modelValue:o.value.end_date_time,"onUpdate:modelValue":t[25]||(t[25]=a=>o.value.end_date_time=a),type:"datetime-local",label:"End Date & Time"},null,8,["modelValue"])])])]),e("div",Uo,[e("button",{onClick:We,type:"button",disabled:v(se),class:"px-6 py-3 border border-gray-300 text-sm text-gray-700 rounded-lg hover:bg-gray-25 transition disabled:opacity-50"}," Cancel ",8,$o),e("button",{onClick:Xt,type:"button",disabled:v(se),class:"px-6 py-3 bg-[#005B8F] text-sm text-white rounded-lg hover:bg-[#004a73] transition disabled:opacity-50 flex items-center gap-2"},[v(se)?(r(),c("span",No,t[73]||(t[73]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):k("",!0),e("span",null,i(v(se)?"Processing...":"Request Movement"),1)],8,Eo)])])])])):k("",!0)])),(r(),L(pe,{to:"body"},[$e.value?(r(),c("div",{key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-lg bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:ce(Ye,["self"])},[e("div",Oo,[e("div",Ho,[t[77]||(t[77]=e("div",{class:"flex items-center gap-2 mb-6"},[e("svg",{class:"w-6 h-6 text-[#005B8F]",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("h2",{class:"text-xl font-bold text-gray-900"},"Dispose Biosample")],-1)),e("div",Go,[e("div",null,[D(q,{options:v(et),label:"Sample UUID",modelValue:M.value.sample_uuid,"onUpdate:modelValue":t[26]||(t[26]=a=>M.value.sample_uuid=a)},{default:ke(({option:a})=>[e("div",Wo,[e("span",Yo,i(a.sample_label),1),e("span",Jo,"UUID: "+i(a.uuid),1)])]),"selected-label":ke(({option:a})=>[R(i(a.sample_label),1)]),_:1},8,["options","modelValue"])]),e("div",null,[D(p,{label:"Disposal Method",modelValue:M.value.disposal_method,"onUpdate:modelValue":t[27]||(t[27]=a=>M.value.disposal_method=a),type:"text"},null,8,["modelValue"])]),e("div",null,[D(p,{modelValue:M.value.reason_for_disposal,"onUpdate:modelValue":t[28]||(t[28]=a=>M.value.reason_for_disposal=a),rows:4,type:"textarea",label:"Reason for Disposal"},null,8,["modelValue"])]),e("div",null,[D(p,{modelValue:M.value.notes,"onUpdate:modelValue":t[29]||(t[29]=a=>M.value.notes=a),rows:4,type:"textarea",label:"Additional Notes (Optional)"},null,8,["modelValue"])]),e("div",Ko,[te(e("input",{type:"checkbox",id:"mark-disposed","onUpdate:modelValue":t[30]||(t[30]=a=>M.value.mark_as_disposed=a),class:"custom-checkbox w-4 h-4 text-[#005B8F] border-gray-300 rounded focus:ring-[#005B8F]"},null,512),[[rs,M.value.mark_as_disposed]]),t[75]||(t[75]=e("label",{for:"mark-disposed",class:"text-sm font-medium text-gray-700"}," Mark as Disposed (uncheck to only record usage) ",-1))])]),e("div",Qo,[e("button",{onClick:Ye,type:"button",disabled:v(ge),class:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-25 transition disabled:opacity-50"}," Cancel ",8,Xo),e("button",{onClick:Zt,type:"button",disabled:v(ge),class:"px-6 py-2 bg-[#005B8F] text-white rounded hover:bg-[#004a73] transition disabled:opacity-50 flex items-center gap-2"},[v(ge)?(r(),c("span",el,t[76]||(t[76]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):k("",!0),e("span",null,i(v(ge)?"Processing...":M.value.mark_as_disposed?"Dispose BioSample":"Record Usage"),1)],8,Zo)])])])])):k("",!0)])),(r(),L(pe,{to:"body"},[Ee.value?(r(),c("div",{key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-lg bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:ce(gt,["self"])},[e("div",tl,[e("div",sl,[e("div",al,[e("button",{onClick:gt,class:"p-2 hover:bg-gray-100 rounded-lg transition"},t[78]||(t[78]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("h2",ol,i(H.value==="tracking"?"Movement":"Disposal")+" Details",1)]),d.value?(r(),c("div",ll,[e("div",null,[t[87]||(t[87]=e("h3",{class:"text-base font-semibold text-[#005B8F] mb-4"},"Movement Information",-1)),e("div",il,[e("div",nl,[t[79]||(t[79]=e("span",{class:"text-sm text-gray-700"},"Sample SN",-1)),e("span",rl,i(d.value.sampleId||"Not available"),1)]),e("div",dl,[t[80]||(t[80]=e("span",{class:"text-sm text-gray-700"},"Source Location",-1)),e("span",ul,i(d.value.sourceLocation||"Not available"),1)]),e("div",cl,[t[81]||(t[81]=e("span",{class:"text-sm text-gray-700"},"Destination Location",-1)),e("span",pl,i(d.value.destinationLocation||"Not available"),1)]),e("div",vl,[t[82]||(t[82]=e("span",{class:"text-sm text-gray-700"},"Requested Date",-1)),e("span",gl,i(d.value.requested_at||"Not available"),1)]),e("div",ml,[t[83]||(t[83]=e("span",{class:"text-sm text-gray-700"},"Approved Date",-1)),e("span",xl,i(d.value.approved_at||"Pending approval"),1)]),e("div",_l,[t[84]||(t[84]=e("span",{class:"text-sm text-gray-700"},"Requested by",-1)),e("span",yl,i(d.value.requestedBy||"Not available"),1)]),d.value.receivedBy?(r(),c("div",fl,[t[85]||(t[85]=e("span",{class:"text-sm text-gray-700"},"Received by",-1)),e("span",bl,i(d.value.receivedBy),1)])):k("",!0),d.value.description?(r(),c("div",hl,[t[86]||(t[86]=e("span",{class:"text-sm text-gray-700"},"Request Reason",-1)),e("span",wl,i(d.value.description),1)])):k("",!0)])]),e("div",kl,[t[98]||(t[98]=e("div",{class:"absolute left-4 top-3 bottom-3 w-0.5 bg-gray-200"},null,-1)),e("div",zl,[t[89]||(t[89]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-gray-300 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",Rl,[t[88]||(t[88]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Movement Requested",-1)),e("p",Cl,[R(i(d.value.requested_at||"Date not available")+" ",1),d.value.requested_by?(r(),c("span",Dl," by "+i(d.value.requested_by),1)):k("",!0)])])]),d.value.approved_at&&d.value.approved_at!=="N/A"&&d.value.approved_at!=="Pending approval"?(r(),c("div",Sl,[t[91]||(t[91]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-blue-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",Ml,[t[90]||(t[90]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Request Approved",-1)),e("p",ql,[R(i(d.value.approved_at)+" ",1),d.value.approved_by?(r(),c("span",Bl," by "+i(d.value.approved_by),1)):k("",!0)])])])):k("",!0),d.value.completionStatus&&(d.value.completionStatus.toLowerCase()==="completed"||d.value.completionStatus.toLowerCase()==="moved"||d.value.completionStatus.toLowerCase()==="confirmed")?(r(),c("div",jl,[t[93]||(t[93]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-green-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",Vl,[t[92]||(t[92]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Sample Moved",-1)),e("p",Tl,[R(i(d.value.movedDate||d.value.approvedDate||"Date not available")+" ",1),d.value.movedBy?(r(),c("span",Pl," by "+i(d.value.movedBy),1)):d.value.requestedBy?(r(),c("span",Fl," by "+i(d.value.requestedBy),1)):k("",!0)])])])):k("",!0),d.value.completionStatus&&d.value.completionStatus.toLowerCase()==="confirmed"?(r(),c("div",Ll,[t[95]||(t[95]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-purple-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",Al,[t[94]||(t[94]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Transfer Confirmed",-1)),e("p",Il,[R(i(d.value.confirmedDate||d.value.approved_at||"Date not available")+" ",1),d.value.confirmedBy?(r(),c("span",Ul," by "+i(d.value.confirmedBy),1)):(r(),c("span",$l," by Receiving Lab"))])])])):k("",!0),d.value.completionStatus&&d.value.completionStatus.toLowerCase()==="rejected"?(r(),c("div",El,[t[97]||(t[97]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-red-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",Nl,[t[96]||(t[96]=e("h4",{class:"font-semibold text-red-900 mb-1"},"Request Rejected",-1)),e("p",Ol,[R(i(d.value.approved_at||"Date not available")+" ",1),d.value.approved_by?(r(),c("span",Hl," by "+i(d.value.approved_by),1)):k("",!0)]),d.value.rejectionReason?(r(),c("p",Gl," Reason: "+i(d.value.rejectionReason),1)):k("",!0)])])):k("",!0)])])):k("",!0)])])])):k("",!0)])),(r(),L(pe,{to:"body"},[Ne.value?(r(),c("div",{key:0,class:"fixed inset-0 bg-black bg-black/50 backdrop-blur-lg bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:ce(Je,["self"])},[e("div",Wl,[e("div",Yl,[t[104]||(t[104]=e("div",{class:"flex justify-center mb-4"},[e("div",{class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1)),t[105]||(t[105]=e("h2",{class:"text-xl font-bold text-gray-900 text-center mb-2"},"Approve Request",-1)),e("p",Jl,[R(" Are you sure you want to approve this "+i(ut.value)+" request for sample ",1),e("span",Kl,i((ne=d.value)==null?void 0:ne.sampleId),1),t[99]||(t[99]=R("? "))]),e("div",Ql,[e("div",Xl,[t[100]||(t[100]=e("span",{class:"text-gray-600"},"Source:",-1)),e("span",Zl,i((re=d.value)==null?void 0:re.sourceLocation),1)]),e("div",ei,[t[101]||(t[101]=e("span",{class:"text-gray-600"},"Destination:",-1)),e("span",ti,i((de=d.value)==null?void 0:de.destinationLocation),1)]),e("div",si,[t[102]||(t[102]=e("span",{class:"text-gray-600"},"Requested By:",-1)),e("span",ai,i((ue=d.value)==null?void 0:ue.requestedBy),1)])]),e("div",oi,[e("button",{onClick:Je,disabled:v(m)||v(V),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-25 transition font-medium disabled:opacity-50"}," Cancel ",8,li),e("button",{onClick:Kt,disabled:v(m)||v(V),class:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium disabled:opacity-50 flex items-center justify-center gap-2"},[v(m)||v(V)?(r(),c("span",ni,t[103]||(t[103]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):k("",!0),e("span",null,i(v(m)||v(V)?"Processing...":"Approve"),1)],8,ii)])])])])):k("",!0)])),(r(),L(pe,{to:"body"},[Oe.value?(r(),c("div",{key:0,class:"fixed inset-0 bg-black bg-black/50 backdrop-blur-lg bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:ce(Ke,["self"])},[e("div",ri,[e("div",di,[t[112]||(t[112]=e("div",{class:"flex justify-center mb-4"},[e("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1)),t[113]||(t[113]=e("h2",{class:"text-xl font-bold text-gray-900 text-center mb-2"},"Reject Request",-1)),e("p",ui,[R(" Are you sure you want to reject this "+i(ut.value)+" request for sample ",1),e("span",ci,i((w=d.value)==null?void 0:w.sampleId),1),t[106]||(t[106]=R("? "))]),e("div",pi,[e("div",vi,[t[107]||(t[107]=e("span",{class:"text-gray-600"},"Source:",-1)),e("span",gi,i((X=d.value)==null?void 0:X.sourceLocation),1)]),e("div",mi,[t[108]||(t[108]=e("span",{class:"text-gray-600"},"Destination:",-1)),e("span",xi,i((Z=d.value)==null?void 0:Z.destinationLocation),1)]),e("div",_i,[t[109]||(t[109]=e("span",{class:"text-gray-600"},"Requested By:",-1)),e("span",yi,i((ee=d.value)==null?void 0:ee.requestedBy),1)])]),e("div",fi,[t[110]||(t[110]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason for Rejection",-1)),te(e("textarea",{"onUpdate:modelValue":t[31]||(t[31]=a=>G.value=a),rows:"3",placeholder:"Please provide a reason for rejecting this request...",class:"custom-input"},null,512),[[ds,G.value]])]),e("div",bi,[e("button",{onClick:Ke,disabled:v(B)||v(ve),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-25 transition font-medium disabled:opacity-50"}," Cancel ",8,hi),e("button",{onClick:Qt,disabled:v(B)||v(ve)||!G.value.trim(),class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium disabled:opacity-50 flex items-center justify-center gap-2"},[v(B)||v(ve)?(r(),c("span",ki,t[111]||(t[111]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):k("",!0),e("span",null,i(v(B)||v(ve)?"Processing...":"Reject"),1)],8,wi)])])])])):k("",!0)]))])}}});export{Li as default};
