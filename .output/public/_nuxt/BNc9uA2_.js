import{_ as Le}from"./BfCrmcDT.js";import{_ as Pe}from"./DRTGuYFi.js";import{_ as Me}from"./Dp-dEu4J.js";import{r as u,e as Ue,p as ye,m as je,q as S,w as M,s as Be,o as n,a as e,c as g,x as E,d as Z,F as ne,z as ie,n as H,t as d,b as y,h as i,A as K,B as W,T as Q,k as X,_ as ze}from"./CkueCwhk.js";import{u as xe}from"./CTXo-tJa.js";import{G as I,u as ee}from"./CD0Zf8k-.js";import"./B409ZGnB.js";const U={$_create_audit_log:o=>I.post("/audit/log",o),$_get_audit_logs:o=>I.get("/audit/logs",{params:o}),$_search_audit_logs:o=>I.post("/audit/search",o),$_export_audit_logs:o=>I.post("/audit/export",o),$_record_custody_event:o=>I.post("/audit/coc/events",o),$_get_custody_events:o=>I.get("/audit/coc/events",{params:o}),$_record_transfer:o=>I.post("/audit/coc/transfer",o),$_get_custody_report:(o,x)=>I.get(`/audit/coc/report/${o}`,{params:{format:x}})},Ne=()=>{const o=u(!1),x=u(null),{showToast:v}=ee();return{loading:o,auditLogs:x,getAuditLogs:async k=>{var p,f,b,r;o.value=!0;try{const l={};k&&Object.keys(k).forEach(c=>{const h=k[c];h!=null&&h!==""&&(l[c]=h)});const a=await U.$_get_audit_logs(l);if(a.type!=="ERROR")return x.value=a.data,a.data;{const c=((b=(f=(p=a==null?void 0:a.data)==null?void 0:p.detail)==null?void 0:f[0])==null?void 0:b.msg)||((r=a==null?void 0:a.data)==null?void 0:r.error)||"Failed to fetch audit logs";return v({title:"Error",message:c,toastType:"error",duration:3e3}),null}}catch(l){return v({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},Oe=()=>{const o=u(!1),x=u([]),{showToast:v}=ee();return{loading:o,custodyEvents:x,recordCustodyEvent:async p=>{var f,b,r,l;o.value=!0;try{const a=await U.$_record_custody_event(p);if(a.type!=="ERROR")return v({title:"Success",message:"Custody event recorded successfully",toastType:"success",duration:3e3}),a.data;{const c=((r=(b=(f=a==null?void 0:a.data)==null?void 0:f.detail)==null?void 0:b[0])==null?void 0:r.msg)||((l=a==null?void 0:a.data)==null?void 0:l.error)||"Failed to record custody event";return v({title:"Error",message:c,toastType:"error",duration:3e3}),null}}catch(a){return v({title:"Error",message:(a==null?void 0:a.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}},getCustodyEvents:async p=>{var f,b,r,l;o.value=!0;try{const a={};p&&Object.keys(p).forEach(h=>{const F=p[h];F!=null&&F!==""&&(a[h]=F)});const c=await U.$_get_custody_events(a);if(c.type!=="ERROR")return x.value=c.data,c.data;{const h=((r=(b=(f=c==null?void 0:c.data)==null?void 0:f.detail)==null?void 0:b[0])==null?void 0:r.msg)||((l=c==null?void 0:c.data)==null?void 0:l.error)||"Failed to fetch custody events";return v({title:"Error",message:h,toastType:"error",duration:3e3}),null}}catch(a){return v({title:"Error",message:(a==null?void 0:a.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},$e=()=>{const o=u(!1),{showToast:x}=ee();return{loading:o,exportAuditLogs:async D=>{var k,p,f,b;o.value=!0;try{const r=await U.$_export_audit_logs(D);if(r.type!=="ERROR")return x({title:"Success",message:`Audit logs exported successfully as ${D.format}`,toastType:"success",duration:3e3}),r.data;{const l=((f=(p=(k=r==null?void 0:r.data)==null?void 0:k.detail)==null?void 0:p[0])==null?void 0:f.msg)||((b=r==null?void 0:r.data)==null?void 0:b.error)||"Failed to export audit logs";return x({title:"Error",message:l,toastType:"error",duration:3e3}),null}}catch(r){return x({title:"Error",message:(r==null?void 0:r.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},Ge=()=>{const o=u(!1),{showToast:x}=ee();return{loading:o,generateCustodyReport:async(D,k)=>{var p,f,b,r;o.value=!0;try{const l=await U.$_get_custody_report(D,k);if(l.type!=="ERROR")return x({title:"Success",message:`Custody report generated successfully for ${D}`,toastType:"success",duration:3e3}),l.data;{const a=((b=(f=(p=l==null?void 0:l.data)==null?void 0:p.detail)==null?void 0:f[0])==null?void 0:b.msg)||((r=l==null?void 0:l.data)==null?void 0:r.error)||"Failed to generate custody report";return x({title:"Error",message:a,toastType:"error",duration:3e3}),null}}catch(l){return x({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},qe={class:"min-h-screen"},Ye={class:""},Je={class:"mb-6 border-b border-gray-200"},Ze={class:"-mb-px flex space-x-8"},He=["onClick"],Ke={key:0,class:"space-y-6"},We={class:"bg-white rounded-lg shadow-sm border-[0.5px] border-gray-100 p-4 md:p-6"},Qe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Xe={class:"bg-white rounded-lg shadow-sm border-[0.5px] border-gray-100 overflow-hidden"},et={key:0,class:"flex items-center justify-center py-12"},tt={key:1,class:"overflow-x-auto"},st={class:"min-w-full divide-y-[0.5px] divide-gray-100"},ot={class:"bg-white divide-y-[0.5px] divide-gray-100"},at={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-900"},lt={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700 font-mono"},rt={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700"},nt={class:"px-6 py-6 whitespace-nowrap text-sm"},it={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700"},dt={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700"},ut={class:"px-6 py-6 whitespace-nowrap text-sm"},pt=["onClick"],ct={key:0},gt={key:1,class:"space-y-6"},yt={class:"bg-white rounded-lg shadow-sm border-[0.5px] border-gray-100 p-4 md:p-6"},xt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},mt={class:"bg-white rounded-lg shadow-sm border-[0.5px] border-gray-100 overflow-hidden"},vt={key:0,class:"flex items-center justify-center py-12"},ft={key:1,class:"overflow-x-auto"},bt={class:"min-w-full divide-y-[0.5px] divide-gray-100"},wt={class:"bg-white divide-y-[0.5px] divide-gray-100"},ht={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-900"},_t={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700 font-mono"},kt={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700"},Et={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700"},Dt={class:"px-6 py-6 whitespace-nowrap text-sm"},Ct={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700"},Tt={class:"px-6 py-6 whitespace-nowrap text-sm text-gray-700"},It={class:"px-6 py-6 whitespace-nowrap text-sm"},Vt=["onClick"],St={key:0},Ft={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20"},Rt={class:"relative w-full max-w-md bg-white rounded-lg shadow-xl"},At={class:"px-6 py-6 space-y-4"},Lt={class:"flex justify-end gap-3 px-6 py-4 bg-gray-50 border-t border-gray-200"},Pt=["disabled"],Mt={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20"},Ut={class:"relative w-full max-w-lg bg-white rounded-lg shadow-xl"},jt={class:"px-6 py-6 space-y-4"},Bt={class:"flex justify-end gap-3 px-6 py-4 bg-gray-50 border-t border-gray-200"},zt=["disabled"],Nt={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20"},Ot={class:"relative w-full max-w-md bg-white rounded-lg shadow-xl"},$t={class:"px-6 py-6 space-y-4"},Gt={class:"text-sm text-gray-600"},qt={class:"font-semibold"},Yt={class:"flex justify-end gap-3 px-6 py-4 bg-gray-50 border-t border-gray-200"},Jt=["disabled"],Zt={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20"},Ht={class:"relative w-full max-w-2xl bg-white rounded-lg shadow-xl"},Kt={key:0,class:"px-6 py-6 space-y-4"},Wt={class:"grid grid-cols-2 gap-4"},Qt={class:"text-sm text-gray-900"},Xt={class:"text-sm text-gray-900"},es={class:"text-sm text-gray-900"},ts={class:"text-sm text-gray-900 bg-gray-50 p-4 rounded-lg overflow-x-auto"},ss=Ue({__name:"activity-log",setup(o){const{loading:x,auditLogs:v,getAuditLogs:D}=Ne(),{loading:k,custodyEvents:p,recordCustodyEvent:f,getCustodyEvents:b}=Oe(),{loading:r,exportAuditLogs:l}=$e(),{loading:a,generateCustodyReport:c}=Ge(),h=u("audit"),F=[{id:"audit",name:"Audit Logs"},{id:"custody",name:"Chain of Custody"}],w=u({userID:"",actionType:"",keyword:"",startDate:"",endDate:"",limit:50,offset:0}),V=u({sampleID:"",userID:"",eventType:"",limit:100,offset:0}),me=ye(()=>{var m;return((m=v.value)==null?void 0:m.data)||[]}),ve=ye(()=>p.value||[]),{currentPage:j,pageSize:B,totalItems:fe,paginatedItems:be,resetPagination:we}=xe(me,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),{currentPage:z,pageSize:N,totalItems:he,paginatedItems:_e,resetPagination:ke}=xe(ve,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),te=u(!1),se=u(!1),oe=u(!1),ae=u(!1),O=u("CSV"),$=u(!1),_=u({sampleID:"",userID:"",eventType:"RECEIVED",notes:""}),G=u(""),q=u("PDF"),T=u(null);je(async()=>{await de(),await le()});const de=async()=>{await D(w.value),we()},le=async()=>{await b(V.value),ke()},Ee=()=>{te.value=!0},R=()=>{te.value=!1,O.value="CSV"},De=async()=>{await l({format:O.value,filters:{startDate:w.value.startDate,endDate:w.value.endDate,userID:w.value.userID,actionType:w.value.actionType,keyword:w.value.keyword}})&&R()},Ce=()=>{se.value=!0},A=()=>{se.value=!1,_.value={sampleID:"",userID:"",eventType:"RECEIVED",notes:""}},Te=async()=>{if(!_.value.sampleID||!_.value.userID||!_.value.eventType){alert("Please fill in all required fields");return}$.value=!0;const m=await f(_.value);$.value=!1,m&&(A(),await le())},Ie=m=>{G.value=m,oe.value=!0},L=()=>{oe.value=!1,G.value="",q.value="PDF"},Ve=async()=>{await c(G.value,q.value)&&L()},Se=m=>{T.value=m,ae.value=!0},Y=()=>{ae.value=!1,T.value=null},ue=m=>({CREATE:"bg-green-100 text-green-700",UPDATE:"bg-blue-100 text-blue-700",DELETE:"bg-red-100 text-red-700",LOGIN:"bg-purple-100 text-purple-700"})[m]||"bg-gray-100 text-gray-700",Fe=m=>({RECEIVED:"bg-blue-100 text-blue-700",TRANSFERRED:"bg-yellow-100 text-yellow-700",ANALYZED:"bg-purple-100 text-purple-700",STORED:"bg-green-100 text-green-700",DISPOSED:"bg-red-100 text-red-700"})[m]||"bg-gray-100 text-gray-700",re=m=>new Date(m).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(m,t)=>{const C=Le,P=Pe,pe=Me,Re=Be;return n(),S(Re,{name:"dashboard"},{default:M(()=>{var ce,ge;return[e("div",qe,[e("div",Ye,[e("div",{class:"mb-6 flex justify-between items-center rounded-xl bg-[#DCF1FF] text-[#005B8F] px-6 py-4"},[t[19]||(t[19]=e("div",null,[e("h1",{class:"text-xl font-bold bg-[#DCF1FF] text-[#005B8F]"},"Audit & Activity Log"),e("p",{class:"text-base bg-[#DCF1FF] text-[#005B8F] mt-1"},"Track system activities, chain of custody, and generate compliance reports.")],-1)),e("div",{class:"flex gap-2"},[e("button",{onClick:Ee,class:"px-4 py-2 bg-[#005B8F] text-[#DCF1FF] font-semibold rounded-lg hover:bg-[#c0e7fb] transition text-sm shadow-sm flex items-center gap-2"},t[18]||(t[18]=[Z("`` "),e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),Z(" Export Logs ")]))])]),e("div",Je,[e("nav",Ze,[(n(),g(ne,null,ie(F,s=>e("button",{key:s.id,onClick:J=>h.value=s.id,class:H(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",h.value===s.id?"border-[#005B8F] text-[#005B8F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},d(s.name),11,He)),64))])]),h.value==="audit"?(n(),g("div",Ke,[e("div",We,[t[20]||(t[20]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Filter Audit Logs",-1)),e("div",Qe,[e("div",null,[y(C,{modelValue:w.value.userID,"onUpdate:modelValue":t[0]||(t[0]=s=>w.value.userID=s),type:"text",label:"User ID"},null,8,["modelValue"])]),e("div",null,[y(P,{label:"Action Type",options:["","CREATE","UPDATE","DELETE","LOGIN"],modelValue:w.value.actionType,"onUpdate:modelValue":t[1]||(t[1]=s=>w.value.actionType=s)},null,8,["modelValue"])]),e("div",null,[y(C,{modelValue:w.value.keyword,"onUpdate:modelValue":t[2]||(t[2]=s=>w.value.keyword=s),type:"text",label:"Keyword"},null,8,["modelValue"])]),e("div",null,[y(C,{modelValue:w.value.startDate,"onUpdate:modelValue":t[3]||(t[3]=s=>w.value.startDate=s),type:"date",label:"Start Date"},null,8,["modelValue"])]),e("div",null,[y(C,{modelValue:w.value.endDate,"onUpdate:modelValue":t[4]||(t[4]=s=>w.value.endDate=s),type:"date",label:"End Date"},null,8,["modelValue"])]),e("div",{class:"flex items-end"},[e("button",{onClick:de,class:"w-full px-4 py-2.5 bg-[#005B8F] text-white rounded-lg hover:bg-[#004a73] transition text-sm font-medium"}," Apply Filters ")])])]),e("div",Xe,[i(x)?(n(),g("div",et,t[21]||(t[21]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#005B8F]"},null,-1)]))):(n(),g("div",tt,[e("table",st,[t[24]||(t[24]=e("thead",{class:"bg-gray-25"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"SN"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Log ID"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"User ID"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Action"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Entity"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Timestamp"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Actions")])],-1)),e("tbody",ot,[(n(!0),g(ne,null,ie(i(be),(s,J)=>(n(),g("tr",{key:s.logID,class:"hover:bg-gray-50 transition-colors"},[e("td",at,d((i(j)-1)*i(B)+J+1),1),e("td",lt,d(s.logID),1),e("td",rt,d(s.userID),1),e("td",nt,[e("span",{class:H([ue(s.actionType),"inline-flex px-2.5 py-1 rounded-full text-xs font-medium"])},d(s.actionType),3)]),e("td",it,d(s.affectedEntity),1),e("td",dt,d(re(s.timestamp)),1),e("td",ut,[e("button",{onClick:Ae=>Se(s),class:"p-2 hover:bg-gray-100 rounded-lg transition",title:"View Details"},t[22]||(t[22]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,pt)])]))),128)),!((ce=i(v))!=null&&ce.data)||i(v).data.length===0?(n(),g("tr",ct,t[23]||(t[23]=[e("td",{colspan:"7",class:"px-6 py-12 text-center"},[e("p",{class:"text-sm text-gray-500"},"No audit logs found")],-1)]))):E("",!0)])])])),(ge=i(v))!=null&&ge.data&&i(v).data.length>0?(n(),S(pe,{key:2,currentPage:i(j),"onUpdate:currentPage":t[5]||(t[5]=s=>K(j)?j.value=s:null),pageSize:i(B),"onUpdate:pageSize":t[6]||(t[6]=s=>K(B)?B.value=s:null),totalItems:i(fe),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):E("",!0)])])):E("",!0),h.value==="custody"?(n(),g("div",gt,[e("div",{class:"flex justify-end"},[e("button",{onClick:Ce,class:"px-4 py-2 bg-[#005B8F] text-white rounded-lg hover:bg-[#004a73] transition text-sm font-medium flex items-center gap-2"},t[25]||(t[25]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),Z(" Record Custody Event ")]))]),e("div",yt,[t[26]||(t[26]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Filter Custody Events",-1)),e("div",xt,[e("div",null,[y(C,{modelValue:V.value.sampleID,"onUpdate:modelValue":t[7]||(t[7]=s=>V.value.sampleID=s),type:"text",label:"Sample ID"},null,8,["modelValue"])]),e("div",null,[y(C,{modelValue:V.value.userID,"onUpdate:modelValue":t[8]||(t[8]=s=>V.value.userID=s),type:"text",label:"User ID"},null,8,["modelValue"])]),e("div",null,[y(P,{label:"Event Type",options:["","RECEIVED","TRANSFERRED","ANALYZED","STORED","DISPOSED"],modelValue:V.value.eventType,"onUpdate:modelValue":t[9]||(t[9]=s=>V.value.eventType=s)},null,8,["modelValue"])]),e("div",{class:"flex items-end"},[e("button",{onClick:le,class:"w-full px-4 py-2.5 bg-[#005B8F] text-white rounded-lg hover:bg-[#004a73] transition text-sm font-medium"}," Apply Filters ")])])]),e("div",mt,[i(k)?(n(),g("div",vt,t[27]||(t[27]=[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#005B8F]"},null,-1)]))):(n(),g("div",ft,[e("table",bt,[t[30]||(t[30]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"SN"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Event ID"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Sample ID"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"User ID"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Event Type"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Notes"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Timestamp"),e("th",{scope:"col",class:"px-6 py-6 text-left text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap"},"Actions")])],-1)),e("tbody",wt,[(n(!0),g(ne,null,ie(i(_e),(s,J)=>(n(),g("tr",{key:s.eventID,class:"hover:bg-gray-50 transition-colors"},[e("td",ht,d((i(z)-1)*i(N)+J+1),1),e("td",_t,d(s.eventID),1),e("td",kt,d(s.sampleID),1),e("td",Et,d(s.userID),1),e("td",Dt,[e("span",{class:H([Fe(s.eventType),"inline-flex px-2.5 py-1 rounded-full text-xs font-medium"])},d(s.eventType),3)]),e("td",Ct,d(s.notes||"-"),1),e("td",Tt,d(re(s.timestamp)),1),e("td",It,[e("button",{onClick:Ae=>Ie(s.sampleID),class:"p-2 hover:bg-gray-100 rounded-lg transition",title:"Generate Report"},t[28]||(t[28]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]),8,Vt)])]))),128)),i(p).length===0?(n(),g("tr",St,t[29]||(t[29]=[e("td",{colspan:"8",class:"px-6 py-12 text-center"},[e("p",{class:"text-sm text-gray-500"},"No custody events found")],-1)]))):E("",!0)])])])),i(p).length>0?(n(),S(pe,{key:2,currentPage:i(z),"onUpdate:currentPage":t[10]||(t[10]=s=>K(z)?z.value=s:null),pageSize:i(N),"onUpdate:pageSize":t[11]||(t[11]=s=>K(N)?N.value=s:null),totalItems:i(he),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):E("",!0)])])):E("",!0)])]),(n(),S(W,{to:"body"},[y(Q,{name:"modal"},{default:M(()=>[te.value?(n(),g("div",{key:0,class:"fixed bg-black/50 backdrop-blur-lg inset-0 z-[60] overflow-y-auto",onClick:X(R,["self"])},[e("div",Ft,[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75",onClick:R}),e("div",Rt,[e("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Export Audit Logs",-1)),e("button",{onClick:R,class:"text-gray-400 hover:text-gray-600"},t[31]||(t[31]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",At,[e("div",null,[y(P,{label:"Export Format",options:["CSV","PDF","JSON"],modelValue:O.value,"onUpdate:modelValue":t[12]||(t[12]=s=>O.value=s)},null,8,["modelValue"])])]),e("div",Lt,[e("button",{onClick:R,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),e("button",{onClick:De,disabled:i(r),class:"px-4 py-2 text-sm font-medium text-white bg-[#005B8F] rounded-md hover:bg-[#004a73] disabled:opacity-50"},d(i(r)?"Exporting...":"Export"),9,Pt)])])])])):E("",!0)]),_:1})])),(n(),S(W,{to:"body"},[y(Q,{name:"modal"},{default:M(()=>[se.value?(n(),g("div",{key:0,class:"fixed bg-black/50 backdrop-blur-lg inset-0 z-[60] overflow-y-auto",onClick:X(A,["self"])},[e("div",Mt,[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75",onClick:A}),e("div",Ut,[e("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[t[34]||(t[34]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Record Custody Event",-1)),e("button",{onClick:A,class:"text-gray-400 hover:text-gray-600"},t[33]||(t[33]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",jt,[e("div",null,[y(C,{modelValue:_.value.sampleID,"onUpdate:modelValue":t[13]||(t[13]=s=>_.value.sampleID=s),type:"text",label:"Sample ID",required:""},null,8,["modelValue"])]),e("div",null,[y(C,{modelValue:_.value.userID,"onUpdate:modelValue":t[14]||(t[14]=s=>_.value.userID=s),type:"text",label:"User ID",required:""},null,8,["modelValue"])]),e("div",null,[y(P,{label:"Event Type",options:["","RECEIVED","TRANSFERRED","ANALYZED","STORED","DISPOSED"],modelValue:_.value.eventType,"onUpdate:modelValue":t[15]||(t[15]=s=>_.value.eventType=s)},null,8,["modelValue"])]),e("div",null,[y(C,{modelValue:_.value.notes,"onUpdate:modelValue":t[16]||(t[16]=s=>_.value.notes=s),label:"Notes (Optional)",rows:6},null,8,["modelValue"])])]),e("div",Bt,[e("button",{onClick:A,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),e("button",{onClick:Te,disabled:$.value,class:"px-4 py-2 text-sm font-medium text-white bg-[#005B8F] rounded-md hover:bg-[#004a73] disabled:opacity-50"},d($.value?"Recording...":"Record Event"),9,zt)])])])])):E("",!0)]),_:1})])),(n(),S(W,{to:"body"},[y(Q,{name:"modal"},{default:M(()=>[oe.value?(n(),g("div",{key:0,class:"fixed bg-black/50 backdrop-blur-lg inset-0 z-[60] overflow-y-auto",onClick:X(L,["self"])},[e("div",Nt,[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75",onClick:L}),e("div",Ot,[e("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[t[36]||(t[36]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Generate Custody Report",-1)),e("button",{onClick:L,class:"text-gray-400 hover:text-gray-600"},t[35]||(t[35]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),e("div",$t,[e("p",Gt,[t[37]||(t[37]=Z("Sample ID: ")),e("span",qt,d(G.value),1)]),e("div",null,[y(P,{label:"Report Format",options:["CSV","PDF","JSON"],modelValue:q.value,"onUpdate:modelValue":t[17]||(t[17]=s=>q.value=s)},null,8,["modelValue"])])]),e("div",Yt,[e("button",{onClick:L,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),e("button",{onClick:Ve,disabled:i(a),class:"px-4 py-2 text-sm font-medium text-white bg-[#005B8F] rounded-md hover:bg-[#004a73] disabled:opacity-50"},d(i(a)?"Generating...":"Generate Report"),9,Jt)])])])])):E("",!0)]),_:1})])),(n(),S(W,{to:"body"},[y(Q,{name:"modal"},{default:M(()=>[ae.value?(n(),g("div",{key:0,class:"fixed bg-black/50 backdrop-blur-lg inset-0 z-[60] overflow-y-auto",onClick:X(Y,["self"])},[e("div",Zt,[e("div",{class:"fixed inset-0 bg-gray-900 bg-opacity-75",onClick:Y}),e("div",Ht,[e("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[t[39]||(t[39]=e("h3",{class:"text-lg font-semibold text-gray-900"},"Audit Log Details",-1)),e("button",{onClick:Y,class:"text-gray-400 hover:text-gray-600"},t[38]||(t[38]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),T.value?(n(),g("div",Kt,[e("div",Wt,[e("div",null,[t[40]||(t[40]=e("label",{class:"text-sm font-medium text-gray-500"},"Action Type",-1)),e("p",Qt,[e("span",{class:H([ue(T.value.actionType),"inline-flex px-3 py-1 rounded-full text-xs font-medium"])},d(T.value.actionType),3)])]),e("div",null,[t[41]||(t[41]=e("label",{class:"text-sm font-medium text-gray-500"},"Timestamp",-1)),e("p",Xt,d(re(T.value.timestamp)),1)])]),e("div",null,[t[42]||(t[42]=e("label",{class:"text-sm font-medium text-gray-500"},"Affected Entity",-1)),e("p",es,d(T.value.affectedEntity),1)]),e("div",null,[t[43]||(t[43]=e("label",{class:"text-sm font-medium text-gray-500"},"Details",-1)),e("pre",ts,d(JSON.stringify(T.value.details,null,2)),1)])])):E("",!0),e("div",{class:"flex justify-end px-6 py-4 bg-gray-50 border-t border-gray-200"},[e("button",{onClick:Y,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Close ")])])])])):E("",!0)]),_:1})]))]}),_:1})}}}),us=ze(ss,[["__scopeId","data-v-002d019c"]]);export{us as default};
