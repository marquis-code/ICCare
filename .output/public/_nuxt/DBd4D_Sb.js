import{_ as Kt}from"./NdSFZrZ6.js";import{_ as Qt}from"./DySfWZYy.js";import{_ as Xt}from"./DERqXnFT.js";import{r as f,e as Zt,p as D,l as ve,m as es,c as p,a as e,q as L,d as k,b as z,t as i,F as I,z as W,g as Y,G as xe,x as w,h as c,A as E,k as de,w as ye,H as ts,B as ue,v as gt,j as ss,o as d,n as Ne,I as as,_ as os}from"./Dn5gIYSr.js";import{b as mt,u as ls,a as is}from"./BMbs2qPF.js";import{u as F,G as C}from"./2rcGX2tL.js";import{u as ns,a as rs}from"./CA0ev26E.js";import{u as ds,a as us}from"./Bno3C5BL.js";import{u as _e}from"./xNZm1dxv.js";import{u as ps}from"./BLHU1oA1.js";import{u as cs}from"./BdFhaN6D.js";import"./BvneAWdt.js";const gs=()=>{const n=f(!1),g=f(null),{showToast:y}=F();return{loading:n,trackingData:g,trackSample:async h=>{var b,_,x,m;n.value=!0;try{const l=await mt.$_track_sample(h);if(l.type!=="ERROR")return g.value=l.data,y({title:"Success",message:"Sample tracked successfully",toastType:"success",duration:3e3}),l.data;{const r=((x=(_=(b=l==null?void 0:l.data)==null?void 0:b.detail)==null?void 0:_[0])==null?void 0:x.msg)||((m=l==null?void 0:l.data)==null?void 0:m.error)||"Failed to track sample";return y({title:"Error",message:r,toastType:"error",duration:3e3}),null}}catch(l){return y({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},ms=()=>{const n=f(!1),{showToast:g}=F();return{loading:n,disposeSample:async M=>{var h,b,_,x;n.value=!0;try{const m=await mt.$_dispose_sample(M);if(m.type!=="ERROR")return g({title:"Success",message:M.mark_as_disposed?"Sample disposed successfully":"Sample use recorded successfully",toastType:"success",duration:3e3}),m.data;{const l=((_=(b=(h=m==null?void 0:m.data)==null?void 0:h.detail)==null?void 0:b[0])==null?void 0:_.msg)||((x=m==null?void 0:m.data)==null?void 0:x.error)||"Failed to process sample";return g({title:"Error",message:l,toastType:"error",duration:3e3}),null}}catch(m){return g({title:"Error",message:(m==null?void 0:m.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},fe={$_dispose_sample:n=>C.post("/biospecimen/samples/dispose",n),$_submit_disposal_request:n=>C.post("/biospecimen/samples/dispose/request",n),$_approve_disposal_request:(n,g)=>C.post(`/biospecimen/samples/dispose/approve/${n}`,{notes:g}),$_reject_disposal_request:(n,g)=>C.post(`/biospecimen/samples/dispose/reject/${n}`,{rejection_reason:g}),$_get_pending_disposal_requests:n=>C.get("/biospecimen/samples/dispose/pending",{params:n}),$_get_approved_disposal_requests:n=>C.get("/biospecimen/samples/dispose/approved",{params:n}),$_get_rejected_disposal_requests:n=>C.get("/biospecimen/samples/dispose/rejected",{params:n}),$_get_completed_disposal_requests:n=>C.get("/biospecimen/samples/dispose/completed",{params:n}),$_get_all_disposal_requests:n=>C.get("/biospecimen/samples/dispose/requests",{params:n}),$_get_disposal_history:n=>C.get("/biospecimen/samples/dispose/history",{params:n})},vs=()=>{const n=f(!1),g=f(null),{showToast:y}=F();return{loading:n,approvalData:g,approveDisposalRequest:async(h,b)=>{var _,x,m,l;n.value=!0;try{const r=await fe.$_approve_disposal_request(h,b);if(r.type!=="ERROR")return g.value=r.data,y({title:"Success",message:"Disposal request approved successfully",toastType:"success",duration:3e3}),r.data;{const j=((m=(x=(_=r==null?void 0:r.data)==null?void 0:_.detail)==null?void 0:x[0])==null?void 0:m.msg)||((l=r==null?void 0:r.data)==null?void 0:l.error)||"Failed to approve disposal request";return y({title:"Error",message:j,toastType:"error",duration:3e3}),null}}catch(r){return y({title:"Error",message:(r==null?void 0:r.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},xs=()=>{const n=f(!1),g=f(null),{showToast:y}=F();return{loading:n,rejectionData:g,rejectDisposalRequest:async(h,b)=>{var _,x,m,l;n.value=!0;try{const r=await fe.$_reject_disposal_request(h,b);if(r.type!=="ERROR")return g.value=r.data,y({title:"Success",message:"Disposal request rejected",toastType:"success",duration:3e3}),r.data;{const j=((m=(x=(_=r==null?void 0:r.data)==null?void 0:_.detail)==null?void 0:x[0])==null?void 0:m.msg)||((l=r==null?void 0:r.data)==null?void 0:l.error)||"Failed to reject disposal request";return y({title:"Error",message:j,toastType:"error",duration:3e3}),null}}catch(r){return y({title:"Error",message:(r==null?void 0:r.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},ys=()=>{const n=f(!1),g=f([]),{showToast:y}=F();return{loading:n,pendingRequests:g,getPendingDisposalRequests:async h=>{var b,_,x,m;n.value=!0;try{const l=await fe.$_get_pending_disposal_requests(h);if(l.type!=="ERROR")return g.value=l.data,l.data;{const r=((x=(_=(b=l==null?void 0:l.data)==null?void 0:b.detail)==null?void 0:_[0])==null?void 0:x.msg)||((m=l==null?void 0:l.data)==null?void 0:m.error)||"Failed to fetch pending disposal requests";return y({title:"Error",message:r,toastType:"error",duration:3e3}),null}}catch(l){return y({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},_s=()=>{const n=f(!1),g=f([]),{showToast:y}=F();return{loading:n,completedRequests:g,getCompletedDisposalRequests:async h=>{var b,_,x,m;n.value=!0;try{const l=await fe.$_get_completed_disposal_requests(h);if(l.type!=="ERROR")return g.value=l.data,l.data;{const r=((x=(_=(b=l==null?void 0:l.data)==null?void 0:b.detail)==null?void 0:_[0])==null?void 0:x.msg)||((m=l==null?void 0:l.data)==null?void 0:m.error)||"Failed to fetch completed disposal requests";return y({title:"Error",message:r,toastType:"error",duration:3e3}),null}}catch(l){return y({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},be={$_track_sample:n=>C.post("/biospecimen/samples/track",n),$_submit_tracking_request:n=>C.post("/biospecimen/samples/track/request",n),$_approve_tracking_request:(n,g)=>C.post(`/biospecimen/samples/track/approve/${n}`,{notes:g}),$_reject_tracking_request:(n,g)=>C.post(`/biospecimen/samples/track/reject/${n}`,{rejection_reason:g}),$_get_pending_tracking_requests:n=>C.get("/biospecimen/samples/track/pending",{params:n}),$_get_approved_tracking_requests:n=>C.get("/biospecimen/samples/track/approved",{params:n}),$_get_rejected_tracking_requests:n=>C.get("/biospecimen/samples/track/rejected",{params:n}),$_get_completed_tracking_requests:n=>C.get("/biospecimen/samples/track/completed",{params:n}),$_get_all_tracking_requests:n=>C.get("/biospecimen/samples/track/requests",{params:n}),$_get_tracking_history:n=>C.get("/biospecimen/samples/track/history",{params:n})},fs=()=>{const n=f(!1),g=f(null),{showToast:y}=F();return{loading:n,approvalData:g,approveTrackingRequest:async(h,b)=>{var _,x,m,l;n.value=!0;try{const r=await be.$_approve_tracking_request(h,b);if(r.type!=="ERROR")return g.value=r.data,y({title:"Success",message:"Tracking request approved successfully",toastType:"success",duration:3e3}),r.data;{const j=((m=(x=(_=r==null?void 0:r.data)==null?void 0:_.detail)==null?void 0:x[0])==null?void 0:m.msg)||((l=r==null?void 0:r.data)==null?void 0:l.error)||"Failed to approve tracking request";return y({title:"Error",message:j,toastType:"error",duration:3e3}),null}}catch(r){return y({title:"Error",message:(r==null?void 0:r.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},bs=()=>{const n=f(!1),g=f(null),{showToast:y}=F();return{loading:n,rejectionData:g,rejectTrackingRequest:async(h,b)=>{var _,x,m,l;n.value=!0;try{const r=await be.$_reject_tracking_request(h,b);if(r.type!=="ERROR")return g.value=r.data,y({title:"Success",message:"Tracking request rejected",toastType:"success",duration:3e3}),r.data;{const j=((m=(x=(_=r==null?void 0:r.data)==null?void 0:_.detail)==null?void 0:x[0])==null?void 0:m.msg)||((l=r==null?void 0:r.data)==null?void 0:l.error)||"Failed to reject tracking request";return y({title:"Error",message:j,toastType:"error",duration:3e3}),null}}catch(r){return y({title:"Error",message:(r==null?void 0:r.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},ws=()=>{const n=f(!1),g=f([]),{showToast:y}=F();return{loading:n,pendingRequests:g,getPendingTrackingRequests:async h=>{var b,_,x,m;n.value=!0;try{const l=await be.$_get_pending_tracking_requests(h);if(l.type!=="ERROR")return g.value=l.data,l.data;{const r=((x=(_=(b=l==null?void 0:l.data)==null?void 0:b.detail)==null?void 0:_[0])==null?void 0:x.msg)||((m=l==null?void 0:l.data)==null?void 0:m.error)||"Failed to fetch pending requests";return y({title:"Error",message:r,toastType:"error",duration:3e3}),null}}catch(l){return y({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},ks=()=>{const n=f(!1),g=f([]),{showToast:y}=F();return{loading:n,completedRequests:g,getCompletedTrackingRequests:async h=>{var b,_,x,m;n.value=!0;try{const l=await be.$_get_completed_tracking_requests(h);if(l.type!=="ERROR")return g.value=l.data,l.data;{const r=((x=(_=(b=l==null?void 0:l.data)==null?void 0:b.detail)==null?void 0:_[0])==null?void 0:x.msg)||((m=l==null?void 0:l.data)==null?void 0:m.error)||"Failed to fetch completed requests";return y({title:"Error",message:r,toastType:"error",duration:3e3}),null}}catch(l){return y({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{n.value=!1}}}},hs={class:"min-h-screen"},Rs={class:"flex"},zs={class:"mx-auto container"},Cs={class:"bg-white rounded-lg shadow-sm p-4 md:p-6 mb-6"},Ds={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4"},qs={class:"space-x-6"},Ss=["disabled"],Ms=["disabled"],Bs={class:"bg-white rounded-lg shadow-sm mb-6"},js={class:"border-b border-gray-200"},Ts={class:"flex -mb-px overflow-x-auto","aria-label":"Tabs"},Vs=["onClick"],Ps={class:"overflow-x-auto"},Ls={key:0,class:"flex items-center justify-center py-12"},Fs={key:1,class:"px-6 py-12 text-center"},As={key:2,class:"w-full min-w-max"},$s={class:"bg-white divide-y divide-gray-100"},Us={class:"px-4 py-4 text-sm text-gray-900"},Is={class:"px-4 py-4 text-sm text-gray-600"},Es={class:"flex items-center gap-1"},Os={class:"px-4 py-4 text-sm text-gray-600"},Ns={class:"flex items-center gap-1"},Hs={class:"px-4 py-4 text-sm text-gray-600"},Gs={class:"px-4 py-4 text-sm text-gray-600"},Ws={class:"px-4 py-4 text-sm text-gray-600"},Ys={class:"px-4 py-4 text-sm text-gray-600"},Js={class:"px-4 py-4 text-sm"},Ks=["onClick"],Qs={key:0,class:"flex items-center justify-center py-12"},Xs={key:1,class:"px-6 py-12 text-center"},Zs={key:2,class:"w-full min-w-max"},ea={class:"bg-white divide-y divide-gray-100"},ta={class:"px-4 py-4 text-sm text-gray-900"},sa={class:"px-4 py-4 text-sm text-gray-600"},aa={class:"flex items-center gap-1"},oa={class:"px-4 py-4 text-sm text-gray-600"},la={class:"flex items-center gap-1"},ia={class:"px-4 py-4 text-sm text-gray-600"},na={class:"px-4 py-4 text-sm text-gray-600"},ra={class:"px-4 py-4 text-sm text-gray-600"},da={class:"px-4 py-4 text-sm"},ua={class:"flex gap-2"},pa=["onClick"],ca=["onClick"],ga={key:0,class:"flex items-center justify-center py-12"},ma={key:1,class:"px-6 py-12 text-center"},va={key:2,class:"w-full min-w-max"},xa={class:"bg-white divide-y divide-gray-100"},ya={class:"px-4 py-4 text-sm text-gray-900"},_a={class:"px-4 py-4 text-sm text-gray-600"},fa={class:"flex items-center gap-1"},ba={class:"px-4 py-4 text-sm text-gray-600"},wa={class:"flex items-center gap-1"},ka={class:"px-4 py-4 text-sm text-gray-600"},ha={class:"px-4 py-4 text-sm text-gray-600"},Ra={class:"px-4 py-4 text-sm text-gray-600"},za={class:"px-4 py-4 text-sm text-gray-600"},Ca={class:"px-4 py-4 text-sm"},Da=["onClick"],qa={key:0,class:"flex items-center justify-center py-12"},Sa={key:1,class:"px-6 py-12 text-center"},Ma={key:2,class:"w-full min-w-max"},Ba={class:"bg-white divide-y divide-gray-100"},ja={class:"px-4 py-4 text-sm text-gray-900"},Ta={class:"px-4 py-4 text-sm text-gray-600"},Va={class:"flex items-center gap-1"},Pa={class:"px-4 py-4 text-sm text-gray-600"},La={class:"flex items-center gap-1"},Fa={class:"px-4 py-4 text-sm text-gray-600"},Aa={class:"px-4 py-4 text-sm text-gray-600"},$a={class:"px-4 py-4 text-sm text-gray-600"},Ua={class:"px-4 py-4 text-sm text-gray-600"},Ia={class:"px-4 py-4 text-sm"},Ea=["onClick"],Oa={class:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"},Na={class:"p-6"},Ha={class:"space-y-6"},Ga={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Wa={class:"flex flex-col"},Ya={class:"font-medium"},Ja={class:"text-xs text-gray-500"},Ka={class:"border-t pt-4"},Qa={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Xa={class:"border-t pt-4"},Za={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},eo={key:0,class:"md:col-span-3"},to={class:"bg-gray-25 p-3 rounded-lg border border-gray-50 mb-3"},so={class:"text-xs text-gray-600 flex items-center gap-1 flex-wrap"},ao={class:"font-semibold text-blue-600"},oo={key:0,class:"text-center py-8"},lo={key:1,class:"overflow-x-auto rounded-lg bg-gray-25 p-3"},io=["onClick","disabled"],no={key:2,class:"mt-4 bg-white p-4 rounded-lg border-[0.5px] border-gray-50"},ro={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},uo={class:"text-center"},po={class:"text-lg font-bold text-gray-900"},co={class:"text-center"},go={class:"text-lg font-bold text-red-600"},mo={class:"text-center"},vo={class:"text-lg font-bold text-green-600"},xo={class:"text-center"},yo={class:"text-lg font-bold text-blue-600"},_o={key:1,class:"md:col-span-3 text-center py-8 bg-gray-25 rounded-lg"},fo={class:"border-t pt-4"},bo={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},wo={class:"flex justify-end gap-3 mt-6"},ko=["disabled"],ho=["disabled"],Ro={key:0},zo={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl"},Co={class:"p-6"},Do={class:"space-y-4"},qo={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},So={class:"flex flex-col"},Mo={class:"font-medium"},Bo={class:"text-xs text-gray-500"},jo={class:"flex items-center gap-2"},To={class:"flex justify-end gap-3 mt-6"},Vo=["disabled"],Po=["disabled"],Lo={key:0},Fo={class:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},Ao={class:"p-6"},$o={class:"flex items-center gap-3 mb-6"},Uo={class:"text-xl font-bold text-gray-900"},Io={key:0,class:"space-y-6"},Eo={class:"space-y-4"},Oo={class:"flex justify-between items-start py-2"},No={class:"text-sm font-medium text-gray-900 text-right"},Ho={class:"flex justify-between items-start py-2"},Go={class:"text-sm font-medium text-gray-900 text-right"},Wo={class:"flex justify-between items-start py-2"},Yo={class:"text-sm font-medium text-gray-900 text-right"},Jo={class:"flex justify-between items-start py-2"},Ko={class:"text-sm font-medium text-gray-900 text-right"},Qo={class:"flex justify-between items-start py-2"},Xo={class:"text-sm font-medium text-gray-900 text-right"},Zo={class:"flex justify-between items-start py-2"},el={class:"text-sm font-medium text-gray-900 text-right"},tl={key:0,class:"flex justify-between items-start py-2"},sl={class:"text-sm font-medium text-gray-900 text-right"},al={key:1,class:"flex justify-between items-start py-2"},ol={class:"text-sm font-medium text-gray-900 text-right max-w-xs"},ll={class:"relative pl-8 space-y-6 mt-8"},il={class:"relative"},nl={class:"bg-gray-25 rounded-lg p-4"},rl={class:"text-sm text-gray-600"},dl={key:0},ul={key:0,class:"relative"},pl={class:"bg-gray-25 rounded-lg p-4"},cl={class:"text-sm text-gray-600"},gl={key:0},ml={key:1,class:"relative"},vl={class:"bg-gray-25 rounded-lg p-4"},xl={class:"text-sm text-gray-600"},yl={key:0},_l={key:1},fl={key:2,class:"relative"},bl={class:"bg-gray-25 rounded-lg p-4"},wl={class:"text-sm text-gray-600"},kl={key:0},hl={key:1},Rl={key:3,class:"relative"},zl={class:"bg-red-50 rounded-lg p-4"},Cl={class:"text-sm text-red-700"},Dl={key:0},ql={key:0,class:"text-sm text-red-600 mt-2"},Sl={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Ml={class:"p-6"},Bl={class:"text-sm text-gray-600 text-center mb-6"},jl={class:"font-semibold"},Tl={class:"bg-gray-25 rounded-lg p-4 mb-6 space-y-2"},Vl={class:"flex justify-between text-sm"},Pl={class:"text-gray-900 font-medium"},Ll={class:"flex justify-between text-sm"},Fl={class:"text-gray-900 font-medium"},Al={class:"flex justify-between text-sm"},$l={class:"text-gray-900 font-medium"},Ul={class:"flex gap-3"},Il=["disabled"],El=["disabled"],Ol={key:0},Nl={class:"bg-white rounded-lg shadow-xl w-full max-w-md"},Hl={class:"p-6"},Gl={class:"text-sm text-gray-600 text-center mb-6"},Wl={class:"font-semibold"},Yl={class:"bg-gray-25 rounded-lg p-4 mb-4 space-y-2"},Jl={class:"flex justify-between text-sm"},Kl={class:"text-gray-900 font-medium"},Ql={class:"flex justify-between text-sm"},Xl={class:"text-gray-900 font-medium"},Zl={class:"flex justify-between text-sm"},ei={class:"text-gray-900 font-medium"},ti={class:"mb-6"},si={class:"flex gap-3"},ai=["disabled"],oi=["disabled"],li={key:0},ii=Zt({__name:"tracking",setup(n){const{loading:g,approveTrackingRequest:y}=fs(),{loading:M,rejectTrackingRequest:h}=bs(),{loading:b,pendingRequests:_,getPendingTrackingRequests:x}=ws(),{loading:m,completedRequests:l,getCompletedTrackingRequests:r}=ks(),{loading:j,approveDisposalRequest:vt}=vs(),{loading:pe,rejectDisposalRequest:xt}=xs(),{loading:He,pendingRequests:we,getPendingDisposalRequests:J}=ys(),{loading:Ge,completedRequests:ke,getCompletedDisposalRequests:K}=_s();ps();const{loading:yt,getBoxOccupancy:_t}=ls(),{loading:se,trackSample:ft}=gs(),{loading:ce,disposeSample:bt}=ms(),{sites:O,getSites:wt}=ns(),{racks:$,getRacks:he}=ds(),{freezers:U,getFreezers:Re}=rs(),{boxes:Q,getBoxes:ze}=us(),{samples:We}=is(),{user:ge}=cs(),V=f(null),N=D(()=>{var s;return(s=V.value)==null?void 0:s.template}),X=D(()=>{var s,t;return`${((s=ge.value)==null?void 0:s.first_name)||((t=ge.value)==null?void 0:t.last_name)}`}),Z=f("pending-movement"),kt={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
  `},ht={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
    </svg>
  `},Ye={template:`
    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
    </svg>
  `},Rt=D(()=>[{id:"pending-movement",label:"Pending Movement",icon:kt,count:Xe.value.length,badgeClass:"bg-orange-100 text-orange-700"},{id:"pending-disposal",label:"Pending Disposal",icon:ht,count:ae.value.length,badgeClass:"bg-red-100 text-red-700"},{id:"complete-movement",label:"Complete Movement",icon:Ye,count:oe.value.length,badgeClass:"bg-green-100 text-green-700"},{id:"complete-disposal",label:"Complete Disposal",icon:Ye,count:le.value.length,badgeClass:"bg-green-100 text-green-700"}]),H=f("tracking"),A=f({status:"All Status",dateRange:{from:"",to:""}});f(["All Status","Pending Movement","Pending Disposal","Complete Movement","Complete Disposal"]);const me=s=>s?new Date(s).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",Ce=s=>{if(!s)return"N/A";if(typeof s=="string")return s;const t=[];return s.site&&t.push(`Site: ${s.site}`),s.freezer&&t.push(`Freezer: ${s.freezer}`),s.rack&&t.push(`Rack: ${s.rack}`),s.box&&t.push(`Box: ${s.box}`),s.position&&t.push(`Pos: ${s.position}`),t.length>0?t.join(", "):"N/A"},Je=s=>({id:s.request_id||s.id,sampleId:s.sample_uuid||s.sample_id||"N/A",sourceLocation:Ce(s.source_location||s.source_attributes),destinationLocation:Ce(s.destination_location||s.destination_attributes),requestedDate:me(s.requested_date||s.created_at||s.request_date),approvedDate:me(s.approved_date||s.approval_date),requestedBy:s.requested_by||s.request_by||"N/A",status:s.status==="pending"?"pendingMovement":"completeMovement",description:s.description||s.reason||s.notes,completionStatus:s.completion_status||s.status,request_id:s.request_id||s.id,...s}),Ke=s=>({id:s.request_id||s.id,sampleId:s.sample_uuid||s.sample_id||"N/A",sourceLocation:Ce(s.source_location||s.location),destinationLocation:"Disposal Unit",requestedDate:me(s.requested_date||s.created_at||s.request_date),approvedDate:me(s.approved_date||s.approval_date),requestedBy:s.requested_by||s.request_by||"N/A",status:s.status==="pending"?"pendingDisposal":"completeDisposal",description:s.reason_for_disposal||s.reason||s.description,completionStatus:s.completion_status||s.status,request_id:s.request_id||s.id,...s}),Qe=D(()=>!O.value||O.value.length===0?[]:O.value.map(s=>s.site_name));D(()=>!U.value||U.value.length===0?[]:U.value.map(s=>s.freezer_name)),D(()=>!$.value||$.value.length===0?[]:$.value.map(s=>s.rack_name)),D(()=>!Q.value||Q.value.length===0?[]:Q.value.map(s=>s.box_name));const zt=D(()=>o.value.source_freezer?[o.value.source_freezer]:[]),Ct=D(()=>o.value.source_rack?[o.value.source_rack]:[]),Dt=D(()=>o.value.source_box?[o.value.source_box]:[]),qt=D(()=>!o.value.destination_site||!U.value?[]:U.value.map(s=>s.freezer_name)),St=D(()=>!o.value.destination_freezer||!$.value?[]:$.value.map(s=>s.rack_name)),Mt=D(()=>!o.value.destination_rack||!Q.value?[]:Q.value.map(s=>s.box_name)),Xe=D(()=>!_.value||_.value.length===0?[]:_.value.map(Je)),ae=D(()=>!we.value||we.value.length===0?[]:we.value.map(Ke)),oe=D(()=>!l.value||l.value.length===0?[]:l.value.map(Je)),le=D(()=>!ke.value||ke.value.length===0?[]:ke.value.map(Ke)),{paginatedItems:Ze,resetPagination:et}=_e(Xe,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),{currentPage:De,pageSize:qe,totalItems:Bt,resetPagination:tt}=_e(ae,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),{currentPage:Se,pageSize:Me,totalItems:jt,resetPagination:st}=_e(oe,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),{currentPage:ee,pageSize:te,totalItems:at,paginatedItems:Tt,resetPagination:ot}=_e(le,{initialPage:1,initialPageSize:10,pageSizeOptions:[10,25,50,100]}),lt=D(()=>H.value==="tracking"?"movement":"disposal"),Be=D(()=>b.value||m.value||He.value||Ge.value),je=f(!1),Te=f(!1),Ve=f(!1),Pe=f(!1),Le=f(!1),u=f(null),G=f(""),o=f({sample_uuid:"",source_site:"",source_freezer:"",source_rack:"",source_box:"",source_position:"",destination_site:"",destination_freezer:"",destination_rack:"",destination_box:"",destination_position:"",movement_type:"transfer",reservation_time:"",start_date_time:"",end_date_time:"",request_by:X.value}),q=f({sample_uuid:"",request_by:X.value,reason_for_disposal:"",mark_as_disposed:!0}),Vt=s=>{s&&s.storage_location&&(o.value.source_site=s.storage_location.site||"",o.value.source_freezer=s.storage_location.freezer||"",o.value.source_rack=s.storage_location.rack||"",o.value.source_box=s.storage_location.box||"",o.value.source_position=s.storage_location.position||"")},Pt=async()=>{var t;console.log("Destination site changed to:",o.value,O.value);const s=(t=O.value)==null?void 0:t.find(v=>v.site_name===o.value.destination_site);console.log("Selected site:",s),s&&await Re({site_id:s.site_id}),o.value.destination_freezer="",o.value.destination_rack="",o.value.destination_box="",o.value.destination_position=""},Lt=async()=>{var t;const s=(t=U.value)==null?void 0:t.find(v=>v.freezer_name===o.value.destination_freezer);s&&await he({site_id:s.site_id,freezer_id:s.freezer_id}),o.value.destination_rack="",o.value.destination_box="",o.value.destination_position=""},Ft=async()=>{var t;const s=(t=$.value)==null?void 0:t.find(v=>v.rack_name===o.value.destination_rack);s&&await ze({site_id:s.site_id,freezer_id:s.freezer_id,rack_id:s.rack_id}),o.value.destination_box="",o.value.destination_position=""},it=async s=>{var P,ie,ne,re;if(o.value.destination_position="",V.value=null,!s)return;const t=(P=Q.value)==null?void 0:P.find(B=>B.box_name===s);if(!t)return;const v=(ie=O.value)==null?void 0:ie.find(B=>B.site_name===o.value.destination_site),R=(ne=U.value)==null?void 0:ne.find(B=>B.freezer_name===o.value.destination_freezer),S=(re=$.value)==null?void 0:re.find(B=>B.rack_name===o.value.destination_rack);if(v&&R&&S&&t){const B=await _t({site_id:v.site_id,freezer_id:R.freezer_id,rack_id:S.rack_id,box_id:t.box_id});B&&(V.value=B)}},nt=s=>String.fromCharCode(64+s),Fe=(s,t)=>{var v;return(s-1)*(((v=N.value)==null?void 0:v.columns)||10)+t},At=s=>{if(!s||!N.value)return"Select Position";const t=N.value.columns,v=Math.floor((s-1)/t)+1,R=(s-1)%t+1;return`${nt(v)}${R}`},Ae=(s,t)=>{if(!V.value)return!1;const R=Fe(s,t)-1;return V.value.occupancy[R]===1},$t=(s,t)=>{Ae(s,t)||(o.value.destination_position=Fe(s,t))};ve(()=>o.value.destination_site,async s=>{var t;if(s){const v=(t=O.value)==null?void 0:t.find(R=>R.site_name===s);v&&await Re({site_id:v.site_id})}o.value.destination_freezer="",o.value.destination_rack="",o.value.destination_box="",o.value.destination_position=""}),ve(()=>o.value.destination_freezer,async s=>{var t;if(s){const v=(t=U.value)==null?void 0:t.find(R=>R.freezer_name===s);v&&await he({site_id:v.site_id,freezer_id:v.freezer_id})}o.value.destination_rack="",o.value.destination_box="",o.value.destination_position=""}),ve(()=>o.value.destination_rack,async s=>{var t;if(s){const v=(t=$.value)==null?void 0:t.find(R=>R.rack_name===s);v&&await ze({site_id:v.site_id,freezer_id:v.freezer_id,rack_id:v.rack_id})}o.value.destination_box="",o.value.destination_position=""}),ve(()=>o.value.destination_box,async s=>{s?await it(s):(V.value=null,o.value.destination_position="")}),es(async()=>{await Promise.all([wt(),Re(),he(),ze(),x(),r(),J(),K()])});const Ut=()=>{je.value=!0,o.value.request_by=X.value},$e=()=>{je.value=!1,o.value={sample_uuid:"",source_site:"",source_freezer:"",source_rack:"",source_box:"",source_position:"",destination_site:"",destination_freezer:"",destination_rack:"",destination_box:"",destination_position:"",movement_type:"transfer",reservation_time:"",start_date_time:"",end_date_time:"",request_by:X.value}},It=()=>{Te.value=!0,q.value.request_by=X.value},Ue=()=>{Te.value=!1,q.value={sample_uuid:"",request_by:X.value,reason_for_disposal:"",mark_as_disposed:!0}},Ie=(s,t)=>{u.value=s,H.value=t,Ve.value=!0},rt=()=>{Ve.value=!1,u.value=null},Et=(s,t)=>{u.value=s,H.value=t,Pe.value=!0},Ee=()=>{Pe.value=!1,u.value=null},Ot=(s,t)=>{u.value=s,H.value=t,Le.value=!0},Oe=()=>{Le.value=!1,u.value=null,G.value=""},Nt=async()=>{!u.value||!u.value.request_id||(H.value==="tracking"?await y(u.value.request_id)&&await Promise.all([x(),r()]):await vt(u.value.request_id)&&await Promise.all([J(),K()]),Ee())},Ht=async()=>{!u.value||!u.value.request_id||!G.value.trim()||(H.value==="tracking"?await h(u.value.request_id,G.value)&&await Promise.all([x(),r()]):await xt(u.value.request_id,G.value)&&await Promise.all([J(),K()]),Oe())},Gt=async()=>{var R,S;const s=P=>P?P instanceof Date?P.toISOString():new Date(P).toISOString():null,t={sample_uuid:o.value.sample_uuid.uuid,source_attributes:{site:o.value.source_site,freezer:o.value.source_freezer,rack:o.value.source_rack,box:o.value.source_box,position:parseInt(o.value.source_position)},destination_attributes:{site:o.value.destination_site,freezer:o.value.destination_freezer,rack:o.value.destination_rack,box:o.value.destination_box,position:parseInt(o.value.destination_position)},request_type:o.value.movement_type,approved_by:[(R=ge.value)==null?void 0:R.user_id],reservation_time:s(o.value.reservation_time),start_date_time:s(o.value.start_date_time),end_date_time:s(o.value.end_date_time),request_by:(S=ge.value)==null?void 0:S.user_id};await ft(t)&&(await Promise.all([x(),r()]),$e())},Wt=async()=>{const s={sample_uuid:q.value.sample_uuid.uuid,request_by:q.value.request_by,reason_for_disposal:q.value.reason_for_disposal,mark_as_disposed:q.value.mark_as_disposed};await bt(s)&&(await Promise.all([J(),K()]),Ue())},Yt=async()=>{const s={};A.value.dateRange.from&&(s.date_from=A.value.dateRange.from),A.value.dateRange.to&&(s.date_to=A.value.dateRange.to),await Promise.all([x(s),r(s),J(s),K(s)]),et(),tt(),st(),ot()},Jt=async()=>{A.value={status:"All Status",dateRange:{from:"",to:""}},await Promise.all([x(),r(),J(),K()]),et(),tt(),st(),ot()};return(s,t)=>{var P,ie,ne,re,B,dt,ut,pt,ct;const v=Kt,R=Qt,S=Xt;return d(),p("div",hs,[e("div",Rs,[e("main",zs,[e("div",{class:"mb-6 rounded-xl bg-[#DCF1FF] text-[#005B8F] py-4 px-6"},[e("div",{class:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},[t[34]||(t[34]=e("h1",{class:"text-xl font-bold bg-[#DCF1FF] text-[#005B8F]"},"BioSpecimen Tracking",-1)),e("div",{class:"flex flex-wrap gap-2"},[e("button",{onClick:Ut,class:"px-4 py-3 font-semibold text-[#DCF1FF] bg-[#005B8F] rounded-lg transition flex items-center gap-2 text-sm"},t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),k(" Request Movement ")])),e("button",{onClick:It,class:"px-4 py-3 font-semibold text-[#DCF1FF] bg-[#005B8F] rounded-lg transition flex items-center gap-2 text-sm"},t[33]||(t[33]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),k(" Request Disposal ")]))])])]),e("div",Cs,[e("div",Ds,[z(v,{label:"Start date",type:"date",modelValue:A.value.dateRange.from,"onUpdate:modelValue":t[0]||(t[0]=a=>A.value.dateRange.from=a)},null,8,["modelValue"]),z(v,{label:"End date",type:"date",modelValue:A.value.dateRange.to,"onUpdate:modelValue":t[1]||(t[1]=a=>A.value.dateRange.to=a)},null,8,["modelValue"]),e("div",qs,[e("button",{onClick:Yt,disabled:Be.value,class:"flex-1 px-4 py-2 bg-[#005B8F] text-white rounded hover:bg-[#004a73] transition text-sm font-medium disabled:opacity-50"},i(Be.value?"Loading...":"Search"),9,Ss),e("button",{onClick:Jt,disabled:Be.value,class:"px-4 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-25 transition text-sm font-medium disabled:opacity-50"}," Clear Filter ",8,Ms)])])]),e("div",Bs,[e("div",js,[e("nav",Ts,[(d(!0),p(I,null,W(Rt.value,a=>(d(),p("button",{key:a.id,onClick:T=>Z.value=a.id,class:Ne(["whitespace-nowrap py-4 px-6 border-b-2 font-medium text-sm flex items-center gap-2 transition-colors",Z.value===a.id?"border-[#005B8F] text-[#005B8F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},[(d(),L(as(a.icon),{class:"w-5 h-5"})),k(" "+i(a.label)+" ",1),e("span",{class:Ne(["px-2 py-0.5 rounded-full text-xs font-medium",a.badgeClass])},i(a.count),3)],10,Vs))),128))])]),e("div",Ps,[Y(e("div",null,[c(b)?(d(),p("div",Ls,t[35]||(t[35]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):c(Ze).length===0?(d(),p("div",Fs,t[36]||(t[36]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"mt-2 text-gray-500"},"No pending movement requests",-1)]))):(d(),p("table",As,[t[40]||(t[40]=e("thead",{class:"bg-gray-25"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample ID"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Description"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action")])],-1)),e("tbody",$s,[(d(!0),p(I,null,W(c(Ze),a=>(d(),p("tr",{key:a.id,class:"hover:bg-gray-25"},[e("td",Us,i(a.sampleId),1),e("td",Is,[e("div",Es,[t[37]||(t[37]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.sourceLocation),1)])]),e("td",Os,[e("div",Ns,[t[38]||(t[38]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.destinationLocation),1)])]),e("td",Hs,i(a.requestedDate),1),e("td",Gs,i(a.approvedDate),1),e("td",Ws,i(a.requestedBy),1),e("td",Ys,i(a.description??"N/a"),1),e("td",Js,[e("button",{onClick:T=>Ie(a,"disposal"),class:"p-2 hover:bg-gray-100 rounded transition"},t[39]||(t[39]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)]),8,Ks)])]))),128))])])),c(Tt).length>0?(d(),L(R,{key:3,currentPage:c(ee),"onUpdate:currentPage":t[2]||(t[2]=a=>E(ee)?ee.value=a:null),pageSize:c(te),"onUpdate:pageSize":t[3]||(t[3]=a=>E(te)?te.value=a:null),totalItems:c(at),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):w("",!0)],512),[[xe,Z.value==="pending-movement"]]),Y(e("div",null,[c(He)?(d(),p("div",Qs,t[41]||(t[41]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):ae.value.length===0?(d(),p("div",Xs,t[42]||(t[42]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),e("p",{class:"mt-2 text-gray-500"},"No pending disposal requests",-1)]))):(d(),p("table",Zs,[t[45]||(t[45]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample ID "),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action ")])],-1)),e("tbody",ea,[(d(!0),p(I,null,W(ae.value,a=>(d(),p("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",ta,i(a.sampleId),1),e("td",sa,[e("div",aa,[t[43]||(t[43]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.sourceLocation),1)])]),e("td",oa,[e("div",la,[t[44]||(t[44]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.destinationLocation),1)])]),e("td",ia,i(a.requestedDate),1),e("td",na,i(a.approvedDate),1),e("td",ra,i(a.requestedBy),1),e("td",da,[e("div",ua,[e("button",{onClick:T=>Ot(a,"disposal"),class:"px-3 py-1 text-xs border border-red-300 text-red-600 rounded hover:bg-red-50 transition"}," Reject ",8,pa),e("button",{onClick:T=>Et(a,"disposal"),class:"px-3 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200 transition"}," Approve ",8,ca)])])]))),128))])])),ae.value.length>0?(d(),L(R,{key:3,currentPage:c(De),"onUpdate:currentPage":t[4]||(t[4]=a=>E(De)?De.value=a:null),pageSize:c(qe),"onUpdate:pageSize":t[5]||(t[5]=a=>E(qe)?qe.value=a:null),totalItems:c(Bt),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):w("",!0)],512),[[xe,Z.value==="pending-disposal"]]),Y(e("div",null,[c(m)?(d(),p("div",ga,t[46]||(t[46]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):oe.value.length===0?(d(),p("div",ma,t[47]||(t[47]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"mt-2 text-gray-500"},"No completed movement requests",-1)]))):(d(),p("table",va,[t[51]||(t[51]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample ID "),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Description"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action ")])],-1)),e("tbody",xa,[(d(!0),p(I,null,W(oe.value,a=>(d(),p("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",ya,i(a.sampleId),1),e("td",_a,[e("div",fa,[t[48]||(t[48]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.sourceLocation),1)])]),e("td",ba,[e("div",wa,[t[49]||(t[49]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.destinationLocation),1)])]),e("td",ka,i(a.requestedDate),1),e("td",ha,i(a.approvedDate),1),e("td",Ra,i(a.requestedBy),1),e("td",za,i(a.description||"N/A"),1),e("td",Ca,[e("button",{onClick:T=>Ie(a,"tracking"),class:"p-2 hover:bg-gray-100 rounded transition"},t[50]||(t[50]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)]),8,Da)])]))),128))])])),oe.value.length>0?(d(),L(R,{key:3,currentPage:c(Se),"onUpdate:currentPage":t[6]||(t[6]=a=>E(Se)?Se.value=a:null),pageSize:c(Me),"onUpdate:pageSize":t[7]||(t[7]=a=>E(Me)?Me.value=a:null),totalItems:c(jt),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):w("",!0)],512),[[xe,Z.value==="complete-movement"]]),Y(e("div",null,[c(Ge)?(d(),p("div",qa,t[52]||(t[52]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):le.value.length===0?(d(),p("div",Sa,t[53]||(t[53]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("p",{class:"mt-2 text-gray-500"},"No completed disposal requests",-1)]))):(d(),p("table",Ma,[t[57]||(t[57]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Sample ID "),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Source Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Destination Location"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Approved Date"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Requested By"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"}," Description"),e("th",{class:"px-4 py-6 text-left text-xs font-medium text-gray-700 uppercase tracking-wider"},"Action ")])],-1)),e("tbody",Ba,[(d(!0),p(I,null,W(le.value,a=>(d(),p("tr",{key:a.id,class:"hover:bg-gray-50"},[e("td",ja,i(a.sampleId),1),e("td",Ta,[e("div",Va,[t[54]||(t[54]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.sourceLocation),1)])]),e("td",Pa,[e("div",La,[t[55]||(t[55]=e("svg",{class:"w-4 h-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),k(" "+i(a.destinationLocation),1)])]),e("td",Fa,i(a.requestedDate),1),e("td",Aa,i(a.approvedDate),1),e("td",$a,i(a.requestedBy),1),e("td",Ua,i(a.description||"N/A"),1),e("td",Ia,[e("button",{onClick:T=>Ie(a,"disposal"),class:"p-2 hover:bg-gray-100 rounded transition"},t[56]||(t[56]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)]),8,Ea)])]))),128))])])),le.value.length>0?(d(),L(R,{key:3,currentPage:c(ee),"onUpdate:currentPage":t[8]||(t[8]=a=>E(ee)?ee.value=a:null),pageSize:c(te),"onUpdate:pageSize":t[9]||(t[9]=a=>E(te)?te.value=a:null),totalItems:c(at),pageSizeOptions:[10,25,50,100]},null,8,["currentPage","pageSize","totalItems"])):w("",!0)],512),[[xe,Z.value==="complete-disposal"]])])])])]),(d(),L(ue,{to:"body"},[je.value?(d(),p("div",{key:0,class:"fixed inset-0 bg-black bg-black/50 backdrop-blur-lg bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:de($e,["self"])},[e("div",Oa,[e("div",Na,[t[75]||(t[75]=e("div",{class:"flex items-center gap-2 mb-6"},[e("svg",{class:"w-6 h-6 text-[#005B8F]",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"})]),e("h2",{class:"text-xl font-bold text-gray-900"},"Request Movement")],-1)),e("div",Ha,[e("div",Ga,[z(S,{options:c(We),label:"Sample UUID",modelValue:o.value.sample_uuid,"onUpdate:modelValue":[t[10]||(t[10]=a=>o.value.sample_uuid=a),Vt]},{default:ye(({option:a})=>[e("div",Wa,[e("span",Ya,i(a.sample_label),1),e("span",Ja,"UUID: "+i(a.uuid),1)])]),"selected-label":ye(({option:a})=>[k(i(a.sample_label),1)]),_:1},8,["options","modelValue"]),z(v,{label:"Requested By",modelValue:o.value.request_by,"onUpdate:modelValue":t[11]||(t[11]=a=>o.value.request_by=a),type:"text",readonly:!0,class:"bg-gray-25"},null,8,["modelValue"]),z(S,{modelValue:o.value.movement_type,"onUpdate:modelValue":t[12]||(t[12]=a=>o.value.movement_type=a),options:["transfer","immediate","temporary"],label:"Movement Type"},null,8,["modelValue"])]),e("div",Ka,[t[58]||(t[58]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide"},"Source Location",-1)),e("div",Qa,[z(S,{modelValue:o.value.source_site,"onUpdate:modelValue":t[13]||(t[13]=a=>o.value.source_site=a),options:Qe.value,label:"Site",disabled:!0},null,8,["modelValue","options"]),z(S,{modelValue:o.value.source_freezer,"onUpdate:modelValue":t[14]||(t[14]=a=>o.value.source_freezer=a),options:zt.value,label:"Freezer",disabled:!0},null,8,["modelValue","options"]),z(S,{modelValue:o.value.source_rack,"onUpdate:modelValue":t[15]||(t[15]=a=>o.value.source_rack=a),options:Ct.value,label:"Rack",disabled:!0},null,8,["modelValue","options"]),z(S,{modelValue:o.value.source_box,"onUpdate:modelValue":t[16]||(t[16]=a=>o.value.source_box=a),options:Dt.value,label:"Box",disabled:!0},null,8,["modelValue","options"]),z(v,{label:"Position",modelValue:o.value.source_position,"onUpdate:modelValue":t[17]||(t[17]=a=>o.value.source_position=a),type:"number",readonly:!0,class:"bg-gray-25"},null,8,["modelValue"])])]),e("div",Xa,[t[72]||(t[72]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide"},"Destination Location",-1)),e("div",Za,[z(S,{modelValue:o.value.destination_site,"onUpdate:modelValue":[t[18]||(t[18]=a=>o.value.destination_site=a),Pt],options:Qe.value,label:"Site"},null,8,["modelValue","options"]),z(S,{modelValue:o.value.destination_freezer,"onUpdate:modelValue":[t[19]||(t[19]=a=>o.value.destination_freezer=a),Lt],options:qt.value,label:"Freezer",disabled:!o.value.destination_site},null,8,["modelValue","options","disabled"]),z(S,{modelValue:o.value.destination_rack,"onUpdate:modelValue":[t[20]||(t[20]=a=>o.value.destination_rack=a),Ft],options:St.value,label:"Rack",disabled:!o.value.destination_freezer},null,8,["modelValue","options","disabled"]),z(S,{modelValue:o.value.destination_box,"onUpdate:modelValue":[t[21]||(t[21]=a=>o.value.destination_box=a),t[22]||(t[22]=a=>it(o.value.destination_box))],options:Mt.value,label:"Box",disabled:!o.value.destination_rack},null,8,["modelValue","options","disabled"]),o.value.destination_box?(d(),p("div",eo,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[k(" Select Position "),e("span",{class:"text-red-500"},"*")],-1)),e("div",to,[e("div",so,[e("span",null,i(o.value.destination_site||"Select Site"),1),t[59]||(t[59]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",null,i(o.value.destination_freezer||"Select Freezer"),1),t[60]||(t[60]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",null,i(o.value.destination_rack||"Select Rack"),1),t[61]||(t[61]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",null,i(o.value.destination_box||"Select Box"),1),t[62]||(t[62]=e("svg",{class:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",ao,i(At(o.value.destination_position)),1)])]),c(yt)?(d(),p("div",oo,t[63]||(t[63]=[e("svg",{class:"animate-spin h-8 w-8 text-[#005B8F] mx-auto",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("p",{class:"mt-2 text-sm text-gray-600"},"Loading box occupancy...",-1)]))):N.value?(d(),p("div",lo,[e("div",{class:"grid gap-2 mb-4",style:ts({gridTemplateColumns:`repeat(${N.value.columns}, minmax(0, 1fr))`})},[(d(!0),p(I,null,W(N.value.rows,a=>(d(),p(I,{key:a},[(d(!0),p(I,null,W(N.value.columns,T=>(d(),p("button",{key:`${a}-${T}`,type:"button",onClick:ni=>$t(a,T),class:Ne(["w-full aspect-square text-xs font-semibold rounded-lg border-[0.5px] transition-all duration-200 transform hover:scale-105",o.value.destination_position===Fe(a,T)?"bg-[#005B8F] text-white border-blue-700 shadow-lg scale-110":Ae(a,T)?"bg-gray-300 text-gray-500 border-gray-400 cursor-not-allowed opacity-60":"bg-white text-gray-700 border-gray-100 hover:border-blue-400 hover:shadow-md"]),disabled:Ae(a,T)||c(se)},i(nt(a))+i(T),11,io))),128))],64))),128))],4)])):w("",!0),(P=V.value)!=null&&P.statistics?(d(),p("div",no,[t[68]||(t[68]=e("h4",{class:"text-sm font-semibold text-gray-700 mb-3"},"Box Statistics",-1)),e("div",ro,[e("div",uo,[t[64]||(t[64]=e("p",{class:"text-xs text-gray-600"},"Total",-1)),e("p",po,i(V.value.statistics.total_positions),1)]),e("div",co,[t[65]||(t[65]=e("p",{class:"text-xs text-gray-600"},"Occupied",-1)),e("p",go,i(V.value.statistics.occupied),1)]),e("div",mo,[t[66]||(t[66]=e("p",{class:"text-xs text-gray-600"},"Available",-1)),e("p",vo,i(V.value.statistics.available),1)]),e("div",xo,[t[67]||(t[67]=e("p",{class:"text-xs text-gray-600"},"Utilization",-1)),e("p",yo,i(V.value.statistics.utilization_percentage)+"%",1)])])])):w("",!0),t[70]||(t[70]=e("div",{class:"flex flex-wrap gap-4 text-sm bg-white p-3 rounded-lg border-[0.5px] border-gray-50 mt-4"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-white border[0.5px] border-gray-300 rounded-lg"}),e("span",{class:"text-gray-700"},"Available")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-gray-300 border-[0.5px] border-gray-400 rounded-lg"}),e("span",{class:"text-gray-700"},"Occupied")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-8 h-8 bg-[#005B8F] border[0.5px] border-blue-700 rounded-lg"}),e("span",{class:"text-gray-700"},"Selected")])],-1))])):(d(),p("div",_o,t[71]||(t[71]=[e("svg",{class:"w-12 h-12 text-gray-300 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})],-1),e("p",{class:"text-sm text-gray-600"},"Select a box to view available positions",-1)])))])]),e("div",fo,[t[73]||(t[73]=e("h3",{class:"text-sm font-semibold text-gray-900 mb-3 uppercase tracking-wide"},"Schedule",-1)),e("div",bo,[z(v,{modelValue:o.value.reservation_time,"onUpdate:modelValue":t[23]||(t[23]=a=>o.value.reservation_time=a),type:"datetime-local",label:"Reservation Time"},null,8,["modelValue"]),z(v,{modelValue:o.value.start_date_time,"onUpdate:modelValue":t[24]||(t[24]=a=>o.value.start_date_time=a),type:"datetime-local",label:"Start Date & Time"},null,8,["modelValue"]),z(v,{modelValue:o.value.end_date_time,"onUpdate:modelValue":t[25]||(t[25]=a=>o.value.end_date_time=a),type:"datetime-local",label:"End Date & Time"},null,8,["modelValue"])])])]),e("div",wo,[e("button",{onClick:$e,type:"button",disabled:c(se),class:"px-6 py-3 border border-gray-300 text-sm text-gray-700 rounded-lg hover:bg-gray-25 transition disabled:opacity-50"}," Cancel ",8,ko),e("button",{onClick:Gt,type:"button",disabled:c(se),class:"px-6 py-3 bg-[#005B8F] text-sm text-white rounded-lg hover:bg-[#004a73] transition disabled:opacity-50 flex items-center gap-2"},[c(se)?(d(),p("span",Ro,t[74]||(t[74]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):w("",!0),e("span",null,i(c(se)?"Processing...":"Request Movement"),1)],8,ho)])])])])):w("",!0)])),(d(),L(ue,{to:"body"},[Te.value?(d(),p("div",{key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-lg bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:de(Ue,["self"])},[e("div",zo,[e("div",Co,[t[79]||(t[79]=e("div",{class:"flex items-center gap-2 mb-6"},[e("svg",{class:"w-6 h-6 text-[#005B8F]",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})]),e("h2",{class:"text-xl font-bold text-gray-900"},"Dispose Biosample")],-1)),e("div",Do,[e("div",qo,[z(S,{options:c(We),label:"Sample UUID",modelValue:q.value.sample_uuid,"onUpdate:modelValue":t[26]||(t[26]=a=>q.value.sample_uuid=a)},{default:ye(({option:a})=>[e("div",So,[e("span",Mo,i(a.sample_label),1),e("span",Bo,"UUID: "+i(a.uuid),1)])]),"selected-label":ye(({option:a})=>[k(i(a.sample_label),1)]),_:1},8,["options","modelValue"]),z(v,{label:"Requested By",modelValue:q.value.request_by,"onUpdate:modelValue":t[27]||(t[27]=a=>q.value.request_by=a),type:"text",readonly:!0,class:"bg-gray-25"},null,8,["modelValue"])]),e("div",null,[z(v,{label:"Approved By",modelValue:q.value.approved_by,"onUpdate:modelValue":t[28]||(t[28]=a=>q.value.approved_by=a),type:"text"},null,8,["modelValue"])]),e("div",null,[t[76]||(t[76]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Reason for Disposal",-1)),Y(e("textarea",{"onUpdate:modelValue":t[29]||(t[29]=a=>q.value.reason_for_disposal=a),rows:"4",placeholder:"Enter the reason for disposal...",class:"custom-input"},null,512),[[gt,q.value.reason_for_disposal]])]),e("div",jo,[Y(e("input",{type:"checkbox",id:"mark-disposed","onUpdate:modelValue":t[30]||(t[30]=a=>q.value.mark_as_disposed=a),class:"custom-checkbox"},null,512),[[ss,q.value.mark_as_disposed]]),t[77]||(t[77]=e("label",{for:"mark-disposed",class:"text-sm font-medium text-gray-700"}," Mark as Disposed (uncheck to only record usage) ",-1))])]),e("div",To,[e("button",{onClick:Ue,type:"button",disabled:c(ce),class:"px-6 py-2 border border-gray-300 text-gray-700 rounded hover:bg-gray-25 transition disabled:opacity-50"}," Cancel ",8,Vo),e("button",{onClick:Wt,type:"button",disabled:c(ce),class:"px-6 py-2 bg-[#005B8F] text-white rounded hover:bg-[#004a73] transition disabled:opacity-50 flex items-center gap-2"},[c(ce)?(d(),p("span",Lo,t[78]||(t[78]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):w("",!0),e("span",null,i(c(ce)?"Processing...":q.value.mark_as_disposed?"Dispose BioSample":"Record Usage"),1)],8,Po)])])])])):w("",!0)])),(d(),L(ue,{to:"body"},[Ve.value?(d(),p("div",{key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-lg bg-black bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:de(rt,["self"])},[e("div",Fo,[e("div",Ao,[e("div",$o,[e("button",{onClick:rt,class:"p-2 hover:bg-gray-100 rounded-lg transition"},t[80]||(t[80]=[e("svg",{class:"w-5 h-5 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("h2",Uo,i(H.value==="tracking"?"Movement":"Disposal")+" Details",1)]),u.value?(d(),p("div",Io,[e("div",null,[t[89]||(t[89]=e("h3",{class:"text-base font-semibold text-[#005B8F] mb-4"},"Movement Information",-1)),e("div",Eo,[e("div",Oo,[t[81]||(t[81]=e("span",{class:"text-sm text-gray-700"},"Sample ID",-1)),e("span",No,i(u.value.sampleId||"Not available"),1)]),e("div",Ho,[t[82]||(t[82]=e("span",{class:"text-sm text-gray-700"},"Source Location",-1)),e("span",Go,i(u.value.sourceLocation||"Not available"),1)]),e("div",Wo,[t[83]||(t[83]=e("span",{class:"text-sm text-gray-700"},"Destination Location",-1)),e("span",Yo,i(u.value.destinationLocation||"Not available"),1)]),e("div",Jo,[t[84]||(t[84]=e("span",{class:"text-sm text-gray-700"},"Requested Date",-1)),e("span",Ko,i(u.value.requested_at||"Not available"),1)]),e("div",Qo,[t[85]||(t[85]=e("span",{class:"text-sm text-gray-700"},"Approved Date",-1)),e("span",Xo,i(u.value.approved_at||"Pending approval"),1)]),e("div",Zo,[t[86]||(t[86]=e("span",{class:"text-sm text-gray-700"},"Requested by",-1)),e("span",el,i(u.value.requestedBy||"Not available"),1)]),u.value.receivedBy?(d(),p("div",tl,[t[87]||(t[87]=e("span",{class:"text-sm text-gray-700"},"Received by",-1)),e("span",sl,i(u.value.receivedBy),1)])):w("",!0),u.value.description?(d(),p("div",al,[t[88]||(t[88]=e("span",{class:"text-sm text-gray-700"},"Request Reason",-1)),e("span",ol,i(u.value.description),1)])):w("",!0)])]),e("div",ll,[t[100]||(t[100]=e("div",{class:"absolute left-4 top-3 bottom-3 w-0.5 bg-gray-200"},null,-1)),e("div",il,[t[91]||(t[91]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-gray-300 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",nl,[t[90]||(t[90]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Movement Requested",-1)),e("p",rl,[k(i(u.value.requested_at||"Date not available")+" ",1),u.value.requested_by?(d(),p("span",dl," by "+i(u.value.requested_by),1)):w("",!0)])])]),u.value.approved_at&&u.value.approved_at!=="N/A"&&u.value.approved_at!=="Pending approval"?(d(),p("div",ul,[t[93]||(t[93]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-blue-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",pl,[t[92]||(t[92]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Request Approved",-1)),e("p",cl,[k(i(u.value.approved_at)+" ",1),u.value.approved_by?(d(),p("span",gl," by "+i(u.value.approved_by),1)):w("",!0)])])])):w("",!0),u.value.completionStatus&&(u.value.completionStatus.toLowerCase()==="completed"||u.value.completionStatus.toLowerCase()==="moved"||u.value.completionStatus.toLowerCase()==="confirmed")?(d(),p("div",ml,[t[95]||(t[95]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-green-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",vl,[t[94]||(t[94]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Sample Moved",-1)),e("p",xl,[k(i(u.value.movedDate||u.value.approvedDate||"Date not available")+" ",1),u.value.movedBy?(d(),p("span",yl," by "+i(u.value.movedBy),1)):u.value.requestedBy?(d(),p("span",_l," by "+i(u.value.requestedBy),1)):w("",!0)])])])):w("",!0),u.value.completionStatus&&u.value.completionStatus.toLowerCase()==="confirmed"?(d(),p("div",fl,[t[97]||(t[97]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-purple-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",bl,[t[96]||(t[96]=e("h4",{class:"font-semibold text-gray-900 mb-1"},"Transfer Confirmed",-1)),e("p",wl,[k(i(u.value.confirmedDate||u.value.approved_at||"Date not available")+" ",1),u.value.confirmedBy?(d(),p("span",kl," by "+i(u.value.confirmedBy),1)):(d(),p("span",hl," by Receiving Lab"))])])])):w("",!0),u.value.completionStatus&&u.value.completionStatus.toLowerCase()==="rejected"?(d(),p("div",Rl,[t[99]||(t[99]=e("div",{class:"absolute -left-[1.9rem] top-1 w-6 h-6 rounded-full bg-red-500 border-4 border-white flex items-center justify-center"},[e("div",{class:"w-2 h-2 rounded-full bg-white"})],-1)),e("div",zl,[t[98]||(t[98]=e("h4",{class:"font-semibold text-red-900 mb-1"},"Request Rejected",-1)),e("p",Cl,[k(i(u.value.approved_at||"Date not available")+" ",1),u.value.approved_by?(d(),p("span",Dl," by "+i(u.value.approved_by),1)):w("",!0)]),u.value.rejectionReason?(d(),p("p",ql," Reason: "+i(u.value.rejectionReason),1)):w("",!0)])])):w("",!0)])])):w("",!0)])])])):w("",!0)])),(d(),L(ue,{to:"body"},[Pe.value?(d(),p("div",{key:0,class:"fixed inset-0 bg-black bg-black/50 backdrop-blur-lg bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:de(Ee,["self"])},[e("div",Sl,[e("div",Ml,[t[106]||(t[106]=e("div",{class:"flex justify-center mb-4"},[e("div",{class:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])])],-1)),t[107]||(t[107]=e("h2",{class:"text-xl font-bold text-gray-900 text-center mb-2"},"Approve Request",-1)),e("p",Bl,[k(" Are you sure you want to approve this "+i(lt.value)+" request for sample ",1),e("span",jl,i((ie=u.value)==null?void 0:ie.sampleId),1),t[101]||(t[101]=k("? "))]),e("div",Tl,[e("div",Vl,[t[102]||(t[102]=e("span",{class:"text-gray-600"},"Source:",-1)),e("span",Pl,i((ne=u.value)==null?void 0:ne.sourceLocation),1)]),e("div",Ll,[t[103]||(t[103]=e("span",{class:"text-gray-600"},"Destination:",-1)),e("span",Fl,i((re=u.value)==null?void 0:re.destinationLocation),1)]),e("div",Al,[t[104]||(t[104]=e("span",{class:"text-gray-600"},"Requested By:",-1)),e("span",$l,i((B=u.value)==null?void 0:B.requestedBy),1)])]),e("div",Ul,[e("button",{onClick:Ee,disabled:c(g)||c(j),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-25 transition font-medium disabled:opacity-50"}," Cancel ",8,Il),e("button",{onClick:Nt,disabled:c(g)||c(j),class:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-medium disabled:opacity-50 flex items-center justify-center gap-2"},[c(g)||c(j)?(d(),p("span",Ol,t[105]||(t[105]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):w("",!0),e("span",null,i(c(g)||c(j)?"Processing...":"Approve"),1)],8,El)])])])])):w("",!0)])),(d(),L(ue,{to:"body"},[Le.value?(d(),p("div",{key:0,class:"fixed inset-0 bg-black bg-black/50 backdrop-blur-lg bg-opacity-50 flex items-center justify-center p-4 z-[9999]",onClick:de(Oe,["self"])},[e("div",Nl,[e("div",Hl,[t[114]||(t[114]=e("div",{class:"flex justify-center mb-4"},[e("div",{class:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})])])],-1)),t[115]||(t[115]=e("h2",{class:"text-xl font-bold text-gray-900 text-center mb-2"},"Reject Request",-1)),e("p",Gl,[k(" Are you sure you want to reject this "+i(lt.value)+" request for sample ",1),e("span",Wl,i((dt=u.value)==null?void 0:dt.sampleId),1),t[108]||(t[108]=k("? "))]),e("div",Yl,[e("div",Jl,[t[109]||(t[109]=e("span",{class:"text-gray-600"},"Source:",-1)),e("span",Kl,i((ut=u.value)==null?void 0:ut.sourceLocation),1)]),e("div",Ql,[t[110]||(t[110]=e("span",{class:"text-gray-600"},"Destination:",-1)),e("span",Xl,i((pt=u.value)==null?void 0:pt.destinationLocation),1)]),e("div",Zl,[t[111]||(t[111]=e("span",{class:"text-gray-600"},"Requested By:",-1)),e("span",ei,i((ct=u.value)==null?void 0:ct.requestedBy),1)])]),e("div",ti,[t[112]||(t[112]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Reason for Rejection",-1)),Y(e("textarea",{"onUpdate:modelValue":t[31]||(t[31]=a=>G.value=a),rows:"3",placeholder:"Please provide a reason for rejecting this request...",class:"custom-input"},null,512),[[gt,G.value]])]),e("div",si,[e("button",{onClick:Oe,disabled:c(M)||c(pe),class:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-25 transition font-medium disabled:opacity-50"}," Cancel ",8,ai),e("button",{onClick:Ht,disabled:c(M)||c(pe)||!G.value.trim(),class:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition font-medium disabled:opacity-50 flex items-center justify-center gap-2"},[c(M)||c(pe)?(d(),p("span",li,t[113]||(t[113]=[e("svg",{class:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):w("",!0),e("span",null,i(c(M)||c(pe)?"Processing...":"Reject"),1)],8,oi)])])])])):w("",!0)]))])}}}),bi=os(ii,[["__scopeId","data-v-69e71b87"]]);export{bi as default};
