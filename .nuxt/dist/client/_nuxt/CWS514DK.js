import{G as a,u as g}from"./CtDZ7Tkb.js";import{r as i}from"./BVza9Rm9.js";const _={$_get_dashboard_data:t=>{const e=t?{site_id:t}:{};return a.get("/reporting/reports/dashboard-data",{params:e})},$_get_utilization_level:t=>a.get(`/reporting/reports/utilization/${t}`),$_export_data:t=>a.post("/reporting/reports/export",t),$_schedule_report:t=>a.post("/reporting/reports/schedule",t),$_check_and_notify_alerts:t=>a.post("/reporting/reports/alerts/check-and-notify",t),$_export_audit_logs:t=>a.post("/audit/export",t)},f=()=>{const t=i(!1),e=i(null),{showToast:o}=g();return{loading:t,dashboardData:e,getDashboardData:async l=>{var s,n,d,u;t.value=!0;try{const r=await _.$_get_dashboard_data(l);if(r.type!=="ERROR")return e.value=r.data,r.data;{const p=((d=(n=(s=r==null?void 0:r.data)==null?void 0:s.detail)==null?void 0:n[0])==null?void 0:d.msg)||((u=r==null?void 0:r.data)==null?void 0:u.error)||"Failed to fetch dashboard data";return o({title:"Error",message:p,toastType:"error",duration:3e3}),null}}catch(r){return o({title:"Error",message:(r==null?void 0:r.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{t.value=!1}}}};export{_ as r,f as u};
