import{e as X,r as y,p,m as Z,G as ee,c as u,o as i,x as j,a as n,b as te,t as d,n as h,w as oe,F as b,E as w,T as ne}from"./BTnRPOtx.js";const se={key:0,class:"block text-sm font-medium text-gray-700 mb-2"},ae={class:"flex items-center gap-2 text-sm"},re={key:0,class:"text-gray-900"},le={key:1,class:"text-gray-400"},ue={class:"flex flex-wrap gap-2 mb-4 pb-4 border-b border-gray-100"},ie=["onClick"],de={class:"flex flex-col sm:flex-row gap-4"},ce={class:"flex-1"},me={class:"mb-3"},fe={class:"flex justify-between items-center mb-3"},ge={class:"font-semibold text-sm"},ve={class:"grid grid-cols-7 gap-1 mb-2"},pe={class:"grid grid-cols-7 gap-1"},he=["onClick","disabled"],be={class:"flex-1"},we={class:"mb-3"},De={class:"flex justify-between items-center mb-3"},ye={class:"font-semibold text-sm"},ke={class:"grid grid-cols-7 gap-1 mb-2"},xe={class:"grid grid-cols-7 gap-1"},Ve=["onClick","disabled"],Ce=X({__name:"DateRangePicker",props:{modelValue:{},label:{default:""},placeholder:{default:"Select date range"},format:{default:"MM/DD/YYYY"},pickerWidth:{default:"w-full sm:w-[600px]"}},emits:["update:modelValue"],setup(B,{emit:T}){const s=B,k=T,x=y(null),m=y(!1),f=y(new Date),c=y(new Date),V=["Su","Mo","Tu","We","Th","Fr","Sa"],L=[{label:"Today",getValue:()=>{const t=r(new Date);return{from:t,to:t}}},{label:"Yesterday",getValue:()=>{const t=new Date;t.setDate(t.getDate()-1);const e=r(t);return{from:e,to:e}}},{label:"Last 7 Days",getValue:()=>{const t=new Date,e=new Date;return e.setDate(e.getDate()-6),{from:r(e),to:r(t)}}},{label:"Last 30 Days",getValue:()=>{const t=new Date,e=new Date;return e.setDate(e.getDate()-29),{from:r(e),to:r(t)}}},{label:"This Month",getValue:()=>{const t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1),o=new Date(t.getFullYear(),t.getMonth()+1,0);return{from:r(e),to:r(o)}}},{label:"Last Month",getValue:()=>{const t=new Date,e=new Date(t.getFullYear(),t.getMonth()-1,1),o=new Date(t.getFullYear(),t.getMonth(),0);return{from:r(e),to:r(o)}}}],M=p(()=>{if(!s.modelValue.from&&!s.modelValue.to)return"";const t=s.modelValue.from?_(s.modelValue.from):"",e=s.modelValue.to?_(s.modelValue.to):"";return t&&e?`${t} - ${e}`:t?`From ${t}`:e?`To ${e}`:""}),R=p(()=>f.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),E=p(()=>c.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),P=p(()=>C(f.value,s.modelValue.from)),W=p(()=>C(c.value,s.modelValue.to)),C=(t,e)=>{const o=[],a=t.getFullYear(),g=t.getMonth(),A=new Date(a,g,1),G=new Date(a,g+1,0),H=A.getDay(),q=G.getDate(),J=new Date(a,g,0).getDate();for(let l=H-1;l>=0;l--){const v=J-l,Q=r(new Date(a,g-1,v));o.push({day:v,date:Q,isCurrentMonth:!1,isSelected:!1})}for(let l=1;l<=q;l++){const v=r(new Date(a,g,l));o.push({day:l,date:v,isCurrentMonth:!0,isSelected:v===e})}const K=42-o.length;for(let l=1;l<=K;l++){const v=r(new Date(a,g+1,l));o.push({day:l,date:v,isCurrentMonth:!1,isSelected:!1})}return o},r=t=>{const e=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${e}-${o}-${a}`},_=t=>{if(!t)return"";const e=new Date(t),o=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0"),g=e.getFullYear();return`${o}/${a}/${g}`},F=t=>s.modelValue.from?new Date(t)<new Date(s.modelValue.from):!1,z=t=>{if(!s.modelValue.from||!s.modelValue.to)return!1;const e=new Date(t),o=new Date(s.modelValue.from),a=new Date(s.modelValue.to);return e>=o&&e<=a},S=(t,e)=>{const o=["p-2 text-sm rounded"];return t.isCurrentMonth?(o.push("text-gray-900 hover:bg-blue-50 cursor-pointer"),t.isSelected?o.push("bg-[#005B8F] text-white hover:bg-[#004a73]"):z(t.date)&&o.push("bg-blue-100"),e==="to"&&F(t.date)&&o.push("text-gray-300 cursor-not-allowed hover:bg-transparent")):o.push("text-gray-300 cursor-not-allowed"),o.join(" ")},N=()=>{if(m.value=!m.value,m.value){if(s.modelValue.from&&(f.value=new Date(s.modelValue.from)),s.modelValue.to)c.value=new Date(s.modelValue.to);else if(s.modelValue.from){const t=new Date(s.modelValue.from);t.setMonth(t.getMonth()+1),c.value=t}}},D=(t,e)=>{t==="from"?f.value=new Date(f.value.getFullYear(),f.value.getMonth()+e,1):c.value=new Date(c.value.getFullYear(),c.value.getMonth()+e,1)},$=(t,e)=>{const o={...s.modelValue};t==="from"?(o.from=e,o.to&&new Date(e)>new Date(o.to)&&(o.to="")):o.to=e,k("update:modelValue",o)},O=t=>{const e=t.getValue();k("update:modelValue",e),f.value=new Date(e.from),c.value=new Date(e.to)},U=()=>{k("update:modelValue",{from:"",to:""}),f.value=new Date,c.value=new Date},I=()=>{m.value=!1},Y=t=>{x.value&&!x.value.contains(t.target)&&(m.value=!1)};return Z(()=>{document.addEventListener("click",Y)}),ee(()=>{document.removeEventListener("click",Y)}),(t,e)=>(i(),u("div",{class:"relative",ref_key:"dateRangeRef",ref:x},[t.label?(i(),u("label",se,d(t.label),1)):j("",!0),n("div",{onClick:N,class:h(["w-full px-3 py-3.5 border-[0.5px] border-gray-100 rounded-md outline-none cursor-pointer bg-white flex items-center justify-between",{"":m.value}])},[n("div",ae,[e[4]||(e[4]=n("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),M.value?(i(),u("span",re,d(M.value),1)):(i(),u("span",le,d(t.placeholder),1))]),(i(),u("svg",{class:h(["w-5 h-5 text-gray-400 transition-transform",{"transform rotate-180":m.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},e[5]||(e[5]=[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),te(ne,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:oe(()=>[m.value?(i(),u("div",{key:0,class:h(["absolute z-50 mt-1 bg-white border-[0.5px] border-gray-100 rounded-lg shadow-lg p-4",t.pickerWidth])},[n("div",ue,[(i(),u(b,null,w(L,o=>n("button",{key:o.label,onClick:a=>O(o),class:"px-3 py-1 text-sm border-[0.5px] border-gray-100 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},d(o.label),9,ie)),64))]),n("div",de,[n("div",ce,[e[8]||(e[8]=n("div",{class:"text-sm font-medium text-gray-700 mb-3"},"From",-1)),n("div",me,[n("div",fe,[n("button",{onClick:e[0]||(e[0]=o=>D("from",-1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},e[6]||(e[6]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),n("span",ge,d(R.value),1),n("button",{onClick:e[1]||(e[1]=o=>D("from",1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},e[7]||(e[7]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),n("div",ve,[(i(),u(b,null,w(V,o=>n("div",{key:o,class:"text-center text-xs font-semibold text-gray-600 py-1"},d(o),1)),64))]),n("div",pe,[(i(!0),u(b,null,w(P.value,o=>(i(),u("button",{key:o.date,onClick:a=>$("from",o.date),disabled:!o.isCurrentMonth,class:h(S(o,"from"))},d(o.day),11,he))),128))])])]),n("div",be,[e[11]||(e[11]=n("div",{class:"text-sm font-medium text-gray-700 mb-3"},"To",-1)),n("div",we,[n("div",De,[n("button",{onClick:e[2]||(e[2]=o=>D("to",-1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},e[9]||(e[9]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),n("span",ye,d(E.value),1),n("button",{onClick:e[3]||(e[3]=o=>D("to",1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},e[10]||(e[10]=[n("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),n("div",ke,[(i(),u(b,null,w(V,o=>n("div",{key:o,class:"text-center text-xs font-semibold text-gray-600 py-1"},d(o),1)),64))]),n("div",xe,[(i(!0),u(b,null,w(W.value,o=>(i(),u("button",{key:o.date,onClick:a=>$("to",o.date),disabled:!o.isCurrentMonth||F(o.date),class:h(S(o,"to"))},d(o.day),11,Ve))),128))])])])]),n("div",{class:"flex justify-end gap-2 pt-4 border-t border-gray-100"},[n("button",{onClick:U,class:"px-4 py-2 text-sm text-gray-700 bg-gray-50 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}," Clear "),n("button",{onClick:I,class:"px-4 py-2 text-sm text-white bg-[#005B8F] hover:bg-[#004a73] rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}," Apply ")])],2)):j("",!0)]),_:1})],512))}});export{Ce as _};
