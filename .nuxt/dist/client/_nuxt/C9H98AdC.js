import{G as c,u as f}from"./DIrjWiVX.js";import{r as b}from"./BTnRPOtx.js";const d={$_create_rack:t=>c.post("/biospecimen/attributes/racks/",t),$_get_racks:(t,a,r=!0)=>{const n={active_only:r};return t&&(n.site_id=t),a&&(n.freezer_id=a),c.get("/biospecimen/attributes/racks/",{params:n})},$_get_rack:t=>c.get(`/biospecimen/attributes/racks/${t}`)},$=()=>{const t=b(!1),a=b([]),{showToast:r}=f();return{loading:t,racks:a,getRacks:async({site_id:o,freezer_id:m,active_only:p=!1}={})=>{var g,i,u,l;t.value=!0;try{const e=await d.$_get_racks(o,m,p);if(e.type!=="ERROR")return a.value=e.data.racks,e.data.racks;{const s=((u=(i=(g=e==null?void 0:e.data)==null?void 0:g.detail)==null?void 0:i[0])==null?void 0:u.msg)||((l=e==null?void 0:e.data)==null?void 0:l.error)||"Failed to fetch racks";return r({title:"Error",message:s,toastType:"error",duration:3e3}),null}}catch(e){return r({title:"Error",message:(e==null?void 0:e.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{t.value=!1}}}},x={$_create_box:t=>c.post("/biospecimen/attributes/boxes/",t),$_get_boxes:(t,a,r,n=!0)=>{const o={active_only:n};return t&&(o.site_id=t),a&&(o.freezer_id=a),r&&(o.rack_id=r),c.get("/biospecimen/attributes/boxes/",{params:o})},$_get_box:t=>c.get(`/biospecimen/attributes/boxes/${t}`)},R=()=>{const t=b(!1),a=b([]),{showToast:r}=f();return{loading:t,boxes:a,getBoxes:async({site_id:o,freezer_id:m,rack_id:p,active_only:g=!1}={})=>{var i,u,l,e;t.value=!0;try{const s=await x.$_get_boxes(o,m,p,g);if(s.type!=="ERROR")return a.value=s.data.boxes,s.data.boxes;{const _=((l=(u=(i=s==null?void 0:s.data)==null?void 0:i.detail)==null?void 0:u[0])==null?void 0:l.msg)||((e=s==null?void 0:s.data)==null?void 0:e.error)||"Failed to fetch boxes";return r({title:"Error",message:_,toastType:"error",duration:3e3}),null}}catch(s){return r({title:"Error",message:(s==null?void 0:s.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{t.value=!1}}}};export{R as a,x as b,d as r,$ as u};
