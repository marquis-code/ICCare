import{G as o,u as m}from"./2rcGX2tL.js";import{r as g}from"./Dn5gIYSr.js";const d={$_create_freezer:e=>o.post("/biospecimen/attributes/freezers/",e),$_get_freezers:(e,a=!0)=>{const r={active_only:a};return e&&(r.site_id=e),o.get("/biospecimen/attributes/freezers/",{params:r})},$_get_freezer:e=>o.get(`/biospecimen/attributes/freezers/${e}`)},$=()=>{const e=g(!1),a=g([]),{showToast:r}=m();return{loading:e,freezers:a,getFreezers:async({site_id:f,active_only:c=!1}={})=>{var i,n,u,l;e.value=!0;try{const s=await d.$_get_freezers(f,c);if(s.type!=="ERROR")return a.value=s.data.freezers,s.data.freezers;{const t=((u=(n=(i=s==null?void 0:s.data)==null?void 0:i.detail)==null?void 0:n[0])==null?void 0:u.msg)||((l=s==null?void 0:s.data)==null?void 0:l.error)||"Failed to fetch freezers";return r({title:"Error",message:t,toastType:"error",duration:3e3}),null}}catch(s){return r({title:"Error",message:(s==null?void 0:s.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{e.value=!1}}}},z={$_create_site:e=>o.post("/biospecimen/attributes/sites/",e),$_get_sites:(e=!0)=>o.get("/biospecimen/attributes/sites/",{params:{active_only:e}}),$_get_site:e=>o.get(`/biospecimen/attributes/sites/${e}`)},T=()=>{const e=g(!1),a=g([]),{showToast:r}=m();return{loading:e,sites:a,getSites:async(f=!1)=>{var c,i,n,u,l,s;e.value=!0;try{const t=await z.$_get_sites(f);if(t.type!=="ERROR")return a.value=(c=t==null?void 0:t.data)==null?void 0:c.sites,(i=t==null?void 0:t.data)==null?void 0:i.sites;{const _=((l=(u=(n=t==null?void 0:t.data)==null?void 0:n.detail)==null?void 0:u[0])==null?void 0:l.msg)||((s=t==null?void 0:t.data)==null?void 0:s.error)||"Failed to fetch sites";return r({title:"Error",message:_,toastType:"error",duration:3e3}),null}}catch(t){return r({title:"Error",message:(t==null?void 0:t.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{e.value=!1}}}};export{$ as a,d as f,z as s,T as u};
