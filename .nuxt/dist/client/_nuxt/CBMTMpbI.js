import{_ as me}from"./BRcRICHt.js";import{_ as _e}from"./CtVaUcdc.js";import{r as y,e as le,q as H,b as f,w as A,T as E,H as ce,o as m,c as g,x as F,a as e,h as s,z as pe,n as B,g as _,d as L,v as C,t as h,F as O,C as Z,k as P,_ as ue,m as Ce,p as ke}from"./CXK3JPD_.js";import{G as T,u as xe}from"./p-Y5aR5t.js";import"./D0KZlueT.js";const ge={$_register_sample:v=>T.post("/biospecimen/samples/",v),$_get_all_samples:()=>T.get("/biospecimen/samples"),$_get_sample_by_id:v=>T.get(`/biospecimen/samples/${v}`),$_update_sample:(v,w)=>T.put(`/biospecimen/samples/${v}`,w),$_get_sample_status:v=>T.get(`/biospecimen/samples/${v}/status`),$_track_sample:v=>T.post("/biospecimen/samples/track",v),$_dispose_sample:v=>T.post("/biospecimen/samples/dispose",v)},Ie=()=>{const v=y(!1),w=y(null),{showToast:p}=xe();return{loading:v,sample:w,registerSample:async D=>{var d,r,V,b;v.value=!0;try{const l=await ge.$_register_sample(D);if(l.type!=="ERROR")return w.value=l.data,p({title:"Success",message:"Sample registered successfully",toastType:"success",duration:3e3}),l.data;{const j=((V=(r=(d=l==null?void 0:l.data)==null?void 0:d.detail)==null?void 0:r[0])==null?void 0:V.msg)||((b=l==null?void 0:l.data)==null?void 0:b.error)||"Failed to register sample";return p({title:"Error",message:j,toastType:"error",duration:3e3}),null}}catch(l){return p({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{v.value=!1}}}},De={class:"bg-white rounded-xl w-full max-w-2xl shadow-2xl transform transition-all flex flex-col max-h-[95vh] sm:max-h-[90vh]"},Ve={class:"flex-shrink-0 p-4 sm:p-6 border-b border-gray-200"},Me={class:"flex items-center justify-between"},Be=["disabled"],Fe={class:"flex-1 overflow-y-auto custom-scrollbar"},$e={class:"p-4 sm:p-6 md:p-8"},Le={class:"mb-6 sm:mb-10"},Se={class:"flex items-center justify-between relative"},Te={class:"flex flex-col items-center flex-1 relative z-10"},Ae={key:1},Ee={class:"flex-1 h-[0.5px] mx-1 sm:mx-2 md:mx-4 relative",style:{top:"-16px"}},Re={class:"flex flex-col items-center flex-1 relative z-10"},ze={key:1},He={class:"flex-1 h-[0.5px] mx-1 sm:mx-2 md:mx-4 relative",style:{top:"-16px"}},je={class:"flex flex-col items-center flex-1 relative z-10"},Pe={key:1},Ue={class:"flex-1 h-[0.5px] mx-1 sm:mx-2 md:mx-4 relative",style:{top:"-16px"}},Ne={class:"flex flex-col items-center flex-1 relative z-10"},Je={key:"step1",class:"space-y-4 sm:space-y-6"},Oe={class:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-5"},Ze=["disabled"],Ge=["disabled"],We=["disabled"],qe=["disabled"],Ke=["disabled"],Ye=["disabled"],Qe={key:"step2",class:"space-y-4 sm:space-y-6"},Xe={class:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-5"},et={class:"bg-gray-25 p-2 sm:p-3 md:p-4 rounded-lg border border-gray-50 mb-3 sm:mb-4"},tt={class:"text-[10px] sm:text-xs text-gray-600 flex items-center gap-1 flex-wrap"},st={class:"font-semibold text-blue-600"},lt={class:"overflow-x-auto rounded-lg pb-2 sm:pb-4 bg-gray-25 p-2 sm:p-3"},ot={class:"inline-block min-w-full"},at={class:"grid gap-1 sm:gap-2 mb-4 sm:mb-6"},it=["onClick","disabled"],nt={key:"step3",class:"space-y-6 sm:space-y-8"},rt={class:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-5"},dt=["disabled"],mt=["disabled"],ct={class:"md:col-span-2"},pt=["disabled"],ut={class:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-5"},xt=["disabled"],gt=["disabled"],ft=["disabled"],bt={class:"md:col-span-2"},yt=["disabled"],vt={class:"grid grid-cols-1 gap-3 sm:gap-5"},ht=["disabled"],wt=["disabled"],_t=["disabled"],Ct={key:"step4",class:"space-y-4 sm:space-y-6"},kt={class:"space-y-3 sm:space-y-4"},It={class:"flex flex-col items-center gap-2 sm:gap-4"},Dt={class:"w-12 h-12 sm:w-14 sm:h-14 md:w-16 md:h-16 rounded-full bg-blue-100 flex items-center justify-center"},Vt=["disabled"],Mt={key:0,class:"space-y-2 sm:space-y-3"},Bt={class:"text-xs sm:text-sm font-semibold text-gray-700"},Ft={class:"grid grid-cols-1 gap-2 sm:gap-3"},$t={class:"flex items-start gap-2 sm:gap-3 md:gap-4"},Lt={class:"flex-shrink-0"},St={key:0,class:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-lg overflow-hidden border border-gray-200"},Tt=["src","alt"],At={key:1,class:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 rounded-lg bg-gray-100 flex items-center justify-center border border-gray-200"},Et={class:"flex-1 min-w-0"},Rt=["title"],zt={class:"text-[10px] sm:text-xs text-gray-500 mt-1"},Ht={key:0,class:"mt-1 sm:mt-2"},jt=["onClick"],Pt=["onClick","disabled"],Ut={key:1,class:"text-center py-6 sm:py-8"},Nt={class:"flex-shrink-0 border-t border-gray-200 p-4 sm:p-6 bg-gray-50"},Jt={class:"flex justify-end space-x-2 sm:space-x-4"},Ot=["disabled"],Zt=["disabled"],Gt=["disabled"],Wt=["disabled"],qt={key:1,class:"animate-spin h-4 w-4 sm:h-5 sm:w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Kt={class:"hidden sm:inline"},Yt={class:"sm:hidden"},Qt=le({__name:"NewSpecimenModal",props:{modelValue:{type:Boolean}},emits:["update:modelValue","saved"],setup(v,{emit:w}){const p=w,{loading:a,registerSample:D}=Ie(),d=y(1),r=y(!1),V=y(null),b=y([]),l=y({site_id:"",sample_category_id:"",sample_serial_no:"",sample_label:"",collection_date:"",collection_time:"",researcher_info:"",field_collector_info:"",storage_location:{site:"",freezer:"",rack:"",box:"",position:0},free_fields:{diagnosis:"",treatmentStatus:"",outcomes:"",dateOfBirth:"",age:"",sex:"",ethnicity:"",nationality:"",history:"",riskFactors:"",geolocation:""}}),j=y(new Set(["A3","B5","C7","D2","E9","A8","C2","D7","E3"])),G=y(["Serum","Plasma","Tissue","Blood","Urine"]),W=y(["Male","Female","Other"]),q=y(["Memorial Hospital","Central Lab","Research Facility"]),K=y(["Freezer A-301","Freezer B-105","Freezer C-202"]),Y=y(["Rack 1-A","Rack 2-B","Rack 3-C"]),Q=y(["Box 01","Box 02","Box 03"]),U=(n,t)=>(n.charCodeAt(0)-65)*10+t,X=n=>{if(!n)return"Select Position";const t=String.fromCharCode(65+Math.floor((n-1)/10)),c=(n-1)%10+1;return`${t}${c}`},u=(n,t)=>j.value.has(`${n}${t}`),i=(n,t)=>{l.value.storage_location.position=U(n,t)},k=()=>{var n;(n=V.value)==null||n.click()},S=async n=>{const t=n.target;t.files&&(await N(Array.from(t.files)),t.value="")},ee=async n=>{var t;r.value=!1,(t=n.dataTransfer)!=null&&t.files&&await N(Array.from(n.dataTransfer.files))},N=async n=>{for(const t of n){if(t.size>10*1024*1024){alert(`File ${t.name} is too large. Maximum size is 10MB.`);continue}const c={file:t,name:t.name,size:t.size,type:t.type};t.type.startsWith("image/")?c.preview=await x(t):t.type==="application/pdf"&&(c.preview=null),b.value.push(c)}},x=n=>new Promise((t,c)=>{const M=new FileReader;M.onload=o=>{var $;return t(($=o.target)==null?void 0:$.result)},M.onerror=c,M.readAsDataURL(n)}),te=n=>{b.value.splice(n,1)},R=n=>{if(n===0)return"0 Bytes";const t=1024,c=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(n)/Math.log(t));return Math.round(n/Math.pow(t,M)*100)/100+" "+c[M]},fe=n=>n.startsWith("image/")?"heroicons:photo":n==="application/pdf"?"heroicons:document-text":n.includes("sheet")||n.includes("csv")?"heroicons:table-cells":(n.includes("word")||n.includes("document"),"heroicons:document"),be=n=>n.startsWith("image/")?"Image":n==="application/pdf"?"PDF":n.includes("sheet")?"Excel":n.includes("csv")?"CSV":n.includes("word")?"Word Document":"Document",ye=n=>{const t=new Blob([n.file],{type:n.type}),c=URL.createObjectURL(t);window.open(c,"_blank")},oe=n=>{if(n===1){if(!l.value.sample_serial_no||!l.value.sample_category_id||!l.value.sample_label||!l.value.collection_date||!l.value.collection_time||!l.value.researcher_info||!l.value.field_collector_info)return alert("Please fill in all required fields"),!1}else if(n===2&&(!l.value.site_id||!l.value.storage_location.freezer||!l.value.storage_location.rack||!l.value.storage_location.box||!l.value.storage_location.position))return alert("Please complete all storage location fields and select a position"),!1;return!0},ve=()=>{oe(d.value)&&d.value<4&&(d.value++,window.scrollTo({top:0,behavior:"smooth"}))},he=()=>{d.value>1&&(d.value--,window.scrollTo({top:0,behavior:"smooth"}))},ae=()=>{l.value={site_id:"",sample_category_id:"",sample_serial_no:"",sample_label:"",collection_date:"",collection_time:"",researcher_info:"",field_collector_info:"",storage_location:{site:"",freezer:"",rack:"",box:"",position:0},free_fields:{diagnosis:"",treatmentStatus:"",outcomes:"",dateOfBirth:"",age:"",sex:"",ethnicity:"",nationality:"",history:"",riskFactors:"",geolocation:""}},b.value=[]},se=()=>{a.value||(d.value=1,ae(),p("update:modelValue",!1))},we=async()=>{if(!oe(d.value))return;l.value.storage_location.site=l.value.site_id;const n={site_id:l.value.site_id,sample_category_id:l.value.sample_category_id,sample_serial_no:l.value.sample_serial_no,sample_label:l.value.sample_label,collection_date:l.value.collection_date,collection_time:l.value.collection_time,researcher_info:l.value.researcher_info,field_collector_info:l.value.field_collector_info,storage_location:{site:l.value.storage_location.site,freezer:l.value.storage_location.freezer,rack:l.value.storage_location.rack,box:l.value.storage_location.box,position:l.value.storage_location.position},free_fields:l.value.free_fields,files:b.value.map(c=>({name:c.name,size:c.size,type:c.type,data:c.file}))},t=await D(n);t&&(p("saved",t),d.value=1,ae(),p("update:modelValue",!1))};return(n,t)=>{const c=pe("Icon"),M=me;return m(),H(ce,{to:"body"},[f(E,{name:"modal"},{default:A(()=>[n.modelValue?(m(),g("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",onClick:P(se,["self"])},[e("div",De,[e("div",Ve,[e("div",Me,[t[24]||(t[24]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"w-10 h-10 sm:w-12 sm:h-12 rounded-full flex items-center justify-center"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12.75 20.25V15.75H15.75L12 11.25L8.25 15.75H11.25V20.25H7.5V20.2125C7.374 20.22 7.254 20.25 7.125 20.25C5.63316 20.25 4.20242 19.6574 3.14752 18.6025C2.09263 17.5476 1.5 16.1168 1.5 14.625C1.5 11.739 3.6825 9.387 6.483 9.0645C6.72854 7.78094 7.41368 6.62306 8.42057 5.79001C9.42746 4.95696 10.6932 4.5008 12 4.5C13.307 4.50072 14.5729 4.95682 15.5801 5.78985C16.5872 6.62289 17.2727 7.78081 17.5185 9.0645C20.319 9.387 22.4985 11.739 22.4985 14.625C22.4985 16.1168 21.9059 17.5476 20.851 18.6025C19.7961 19.6574 18.3653 20.25 16.8735 20.25C16.7475 20.25 16.626 20.22 16.4985 20.2125V20.25H12.75Z",fill:"#005B8F"})])]),e("h2",{class:"text-lg sm:text-xl font-medium text-[#033958]"},"Register New Biospecimen")],-1)),e("button",{onClick:se,class:"text-gray-400 hover:text-gray-600 transition p-2 hover:bg-gray-100 rounded-lg flex-shrink-0",disabled:s(a)},[f(c,{name:"heroicons:x-mark",class:"w-5 h-5 sm:w-6 sm:h-6"})],8,Be)])]),e("div",Fe,[e("div",$e,[e("div",Le,[e("div",Se,[e("div",Te,[e("div",{class:B(["w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center font-bold text-sm sm:text-base md:text-lg transition-all duration-300",s(d)>=1?"bg-[#005B8F] text-white shadow-lg scale-110":"bg-gray-200 text-gray-600"])},[s(d)>1?(m(),H(c,{key:0,name:"heroicons:check",class:"w-4 h-4 sm:w-5 sm:h-5 md:w-7 md:h-7"})):(m(),g("span",Ae,"1"))],2),t[25]||(t[25]=e("span",{class:"mt-1 sm:mt-2 text-[10px] sm:text-xs md:text-sm font-medium text-gray-700 text-center"},"Basic",-1))]),e("div",Ee,[e("div",{class:B(["h-full rounded-full transition-all duration-500",s(d)>=2?"bg-[#005B8F]":"bg-gray-200"])},null,2)]),e("div",Re,[e("div",{class:B(["w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center font-bold text-sm sm:text-base md:text-lg transition-all duration-300",s(d)>=2?"bg-[#005B8F] text-white shadow-lg scale-110":"bg-gray-200 text-gray-600"])},[s(d)>2?(m(),H(c,{key:0,name:"heroicons:check",class:"w-4 h-4 sm:w-5 sm:h-5 md:w-7 md:h-7"})):(m(),g("span",ze,"2"))],2),t[26]||(t[26]=e("span",{class:"mt-1 sm:mt-2 text-[10px] sm:text-xs md:text-sm font-medium text-gray-700 text-center"},"Storage",-1))]),e("div",He,[e("div",{class:B(["h-full rounded-full transition-all duration-500",s(d)>=3?"bg-[#005B8F]":"bg-gray-200"])},null,2)]),e("div",je,[e("div",{class:B(["w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center font-bold text-sm sm:text-base md:text-lg transition-all duration-300",s(d)>=3?"bg-[#005B8F] text-white shadow-lg scale-110":"bg-gray-200 text-gray-600"])},[s(d)>3?(m(),H(c,{key:0,name:"heroicons:check",class:"w-4 h-4 sm:w-5 sm:h-5 md:w-7 md:h-7"})):(m(),g("span",Pe,"3"))],2),t[27]||(t[27]=e("span",{class:"mt-1 sm:mt-2 text-[10px] sm:text-xs md:text-sm font-medium text-gray-700 text-center"},"Data",-1))]),e("div",Ue,[e("div",{class:B(["h-full rounded-full transition-all duration-500",s(d)>=4?"bg-[#005B8F]":"bg-gray-200"])},null,2)]),e("div",Ne,[e("div",{class:B(["w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 rounded-full flex items-center justify-center font-bold text-sm sm:text-base md:text-lg transition-all duration-300",s(d)>=4?"bg-[#005B8F] text-white shadow-lg scale-110":"bg-gray-200 text-gray-600"])}," 4 ",2),t[28]||(t[28]=e("span",{class:"mt-1 sm:mt-2 text-[10px] sm:text-xs md:text-sm font-medium text-gray-700 text-center"},"Files",-1))])])]),f(E,{name:"fade",mode:"out-in"},{default:A(()=>[s(d)===1?(m(),g("div",Je,[t[35]||(t[35]=e("h3",{class:"text-base sm:text-lg font-medium text-[#033958] border-b-[0.5px] pb-2 sm:pb-3"},"Basic Information",-1)),e("div",Oe,[e("div",null,[t[29]||(t[29]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},[L(" Sample ID "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s(l).sample_serial_no=o),type:"text",placeholder:"e.g. MH-2024-0001",class:"custom-input",disabled:s(a)},null,8,Ze),[[C,s(l).sample_serial_no]])]),e("div",null,[f(M,{label:"Sample Type",options:s(G),position:"standalone",modelValue:s(l).sample_category_id,"onUpdate:modelValue":t[1]||(t[1]=o=>s(l).sample_category_id=o),disabled:s(a)},null,8,["options","modelValue","disabled"])]),e("div",null,[t[30]||(t[30]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},[L(" Sample Label "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s(l).sample_label=o),type:"text",placeholder:"e.g. Patient Sample A",class:"custom-input",disabled:s(a)},null,8,Ge),[[C,s(l).sample_label]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},[L(" Collection Date "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>s(l).collection_date=o),type:"date",class:"custom-input",disabled:s(a)},null,8,We),[[C,s(l).collection_date]])]),e("div",null,[t[32]||(t[32]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},[L(" Collection Time "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s(l).collection_time=o),type:"time",class:"custom-input",disabled:s(a)},null,8,qe),[[C,s(l).collection_time]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},[L(" Researcher Information "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>s(l).researcher_info=o),type:"text",placeholder:"e.g. Dr. John Smith",class:"custom-input",disabled:s(a)},null,8,Ke),[[C,s(l).researcher_info]])]),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},[L(" Field Collector Information "),e("span",{class:"text-red-500"},"*")],-1)),_(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>s(l).field_collector_info=o),type:"text",placeholder:"e.g. Lab Technician Jane Doe",class:"custom-input",disabled:s(a)},null,8,Ye),[[C,s(l).field_collector_info]])])])])):F("",!0)]),_:1}),f(E,{name:"fade",mode:"out-in"},{default:A(()=>{var o,$,J,ie,ne,re,de;return[s(d)===2?(m(),g("div",Qe,[t[38]||(t[38]=e("h3",{class:"text-base sm:text-lg font-medium text-[#033958] border-b-[0.5px] pb-2 sm:pb-3"},"Storage Location",-1)),e("div",Xe,[e("div",null,[f(M,{label:"Site",options:s(q),position:"standalone",modelValue:s(l).site_id,"onUpdate:modelValue":t[7]||(t[7]=I=>s(l).site_id=I),disabled:s(a)},null,8,["options","modelValue","disabled"])]),e("div",null,[f(M,{label:"Freezer",options:s(K),position:"standalone",modelValue:s(l).storage_location.freezer,"onUpdate:modelValue":t[8]||(t[8]=I=>s(l).storage_location.freezer=I),disabled:s(a)},null,8,["options","modelValue","disabled"])]),e("div",null,[f(M,{label:"Rack",options:s(Y),position:"standalone",modelValue:s(l).storage_location.rack,"onUpdate:modelValue":t[9]||(t[9]=I=>s(l).storage_location.rack=I),disabled:s(a)},null,8,["options","modelValue","disabled"])]),e("div",null,[f(M,{label:"Box",options:s(Q),position:"standalone",modelValue:s(l).storage_location.box,"onUpdate:modelValue":t[10]||(t[10]=I=>s(l).storage_location.box=I),disabled:s(a)},null,8,["options","modelValue","disabled"])])]),e("div",null,[t[36]||(t[36]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-2 sm:mb-3"},[L(" Select Position "),e("span",{class:"text-red-500"},"*")],-1)),e("div",et,[e("div",tt,[e("span",null,h(((o=s(l))==null?void 0:o.site_id)||"Select Site"),1),f(c,{name:"heroicons:chevron-right",class:"w-2 h-2 sm:w-3 sm:h-3"}),e("span",null,h(((J=($=s(l))==null?void 0:$.storage_location)==null?void 0:J.freezer)||"Select Freezer"),1),f(c,{name:"heroicons:chevron-right",class:"w-2 h-2 sm:w-3 sm:h-3"}),e("span",null,h(((ne=(ie=s(l))==null?void 0:ie.storage_location)==null?void 0:ne.rack)||"Select Rack"),1),f(c,{name:"heroicons:chevron-right",class:"w-2 h-2 sm:w-3 sm:h-3"}),e("span",null,h(((de=(re=s(l))==null?void 0:re.storage_location)==null?void 0:de.box)||"Select Box"),1),f(c,{name:"heroicons:chevron-right",class:"w-2 h-2 sm:w-3 sm:h-3"}),e("span",st,h(X(s(l).storage_location.position)),1)])]),e("div",lt,[e("div",ot,[e("div",at,[(m(),g(O,null,Z(["A","B","C","D","E"],I=>e("div",{key:I,class:"flex gap-1 sm:gap-2"},[(m(),g(O,null,Z(10,z=>e("button",{key:`${I}${z}`,type:"button",onClick:Gs=>i(I,z),class:B(["w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-[10px] sm:text-xs font-semibold rounded-lg border-[0.5px] transition-all duration-200 transform hover:scale-105",s(l).storage_location.position===U(I,z)?"bg-[#005B8F] text-white border-blue-700 shadow-lg scale-110":u(I,z)?"bg-gray-300 text-gray-500 border-gray-100 cursor-not-allowed opacity-60":"bg-white text-gray-700 border-gray-100 hover:border-blue-400 hover:shadow-md"]),disabled:u(I,z)||s(a)},h(I)+h(z),11,it)),64))])),64))])])]),t[37]||(t[37]=e("div",{class:"flex flex-wrap gap-3 sm:gap-6 text-xs sm:text-sm bg-white p-3 sm:p-4 rounded-lg border-[0.5px] border-gray-50"},[e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-white border-[0.5px] border-gray-300 rounded-lg flex-shrink-0"}),e("span",{class:"text-gray-700"},"Available")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-300 border-[0.5px] border-gray-400 rounded-lg flex-shrink-0"}),e("span",{class:"text-gray-700"},"Occupied")]),e("div",{class:"flex items-center gap-2"},[e("div",{class:"w-6 h-6 sm:w-8 sm:h-8 bg-[#005B8F] border-[0.5px] border-blue-700 rounded-lg flex-shrink-0"}),e("span",{class:"text-gray-700"},"Selected")])],-1))])])):F("",!0)]}),_:1}),f(E,{name:"fade",mode:"out-in"},{default:A(()=>[s(d)===3?(m(),g("div",nt,[e("div",null,[t[42]||(t[42]=e("h3",{class:"text-xs sm:text-sm font-medium text-[#033958] border-b-[0.5px] pb-2 sm:pb-3 mb-3 sm:mb-5"},"Clinical Data",-1)),e("div",rt,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Diagnosis",-1)),_(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>s(l).free_fields.diagnosis=o),type:"text",placeholder:"e.g. Type 2 Diabetes",class:"custom-input",disabled:s(a)},null,8,dt),[[C,s(l).free_fields.diagnosis]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Treatment Status",-1)),_(e("input",{"onUpdate:modelValue":t[12]||(t[12]=o=>s(l).free_fields.treatmentStatus=o),type:"text",placeholder:"e.g. Ongoing",class:"custom-input",disabled:s(a)},null,8,mt),[[C,s(l).free_fields.treatmentStatus]])]),e("div",ct,[t[41]||(t[41]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Outcomes",-1)),_(e("textarea",{"onUpdate:modelValue":t[13]||(t[13]=o=>s(l).free_fields.outcomes=o),placeholder:"Enter clinical outcomes and observations...",rows:"3",class:"custom-input resize-none",disabled:s(a)},null,8,pt),[[C,s(l).free_fields.outcomes]])])])]),e("div",null,[t[47]||(t[47]=e("h3",{class:"text-xs sm:text-sm font-medium text-[#033958] border-b-[0.5px] pb-2 sm:pb-3 mb-3 sm:mb-5"},"Demographic Data",-1)),e("div",ut,[e("div",null,[t[43]||(t[43]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Date of Birth",-1)),_(e("input",{"onUpdate:modelValue":t[14]||(t[14]=o=>s(l).free_fields.dateOfBirth=o),type:"date",class:"custom-input",disabled:s(a)},null,8,xt),[[C,s(l).free_fields.dateOfBirth]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Age",-1)),_(e("input",{"onUpdate:modelValue":t[15]||(t[15]=o=>s(l).free_fields.age=o),type:"number",placeholder:"e.g. 45",class:"custom-input",disabled:s(a)},null,8,gt),[[C,s(l).free_fields.age]])]),e("div",null,[f(M,{label:"Gender",options:s(W),position:"standalone",modelValue:s(l).free_fields.sex,"onUpdate:modelValue":t[16]||(t[16]=o=>s(l).free_fields.sex=o),disabled:s(a)},null,8,["options","modelValue","disabled"])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Ethnicity",-1)),_(e("input",{"onUpdate:modelValue":t[17]||(t[17]=o=>s(l).free_fields.ethnicity=o),type:"text",placeholder:"e.g. Caucasian",class:"custom-input",disabled:s(a)},null,8,ft),[[C,s(l).free_fields.ethnicity]])]),e("div",bt,[t[46]||(t[46]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Nationality",-1)),_(e("input",{"onUpdate:modelValue":t[18]||(t[18]=o=>s(l).free_fields.nationality=o),type:"text",placeholder:"e.g. Nigerian",class:"custom-input",disabled:s(a)},null,8,yt),[[C,s(l).free_fields.nationality]])])])]),e("div",null,[t[51]||(t[51]=e("h3",{class:"text-xs sm:text-sm font-medium text-[#033958] border-b-[0.5px] pb-2 sm:pb-3 mb-3 sm:mb-5"},"Epidemiological Data",-1)),e("div",vt,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"History",-1)),_(e("textarea",{"onUpdate:modelValue":t[19]||(t[19]=o=>s(l).free_fields.history=o),placeholder:"Enter medical history, family history, or relevant background...",rows:"3",class:"custom-input resize-none",disabled:s(a)},null,8,ht),[[C,s(l).free_fields.history]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Risk Factors",-1)),_(e("textarea",{"onUpdate:modelValue":t[20]||(t[20]=o=>s(l).free_fields.riskFactors=o),placeholder:"Enter known risk factors (e.g., smoking, obesity, exposure)...",rows:"3",class:"custom-input resize-none",disabled:s(a)},null,8,wt),[[C,s(l).free_fields.riskFactors]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"},"Geolocation",-1)),_(e("input",{"onUpdate:modelValue":t[21]||(t[21]=o=>s(l).free_fields.geolocation=o),type:"text",placeholder:"e.g. Lagos, Nigeria or GPS coordinates",class:"custom-input",disabled:s(a)},null,8,_t),[[C,s(l).free_fields.geolocation]])])])])])):F("",!0)]),_:1}),f(E,{name:"fade",mode:"out-in"},{default:A(()=>[s(d)===4?(m(),g("div",Ct,[t[56]||(t[56]=e("h3",{class:"text-base sm:text-lg font-medium text-[#033958] border-b-[0.5px] pb-2 sm:pb-3"},"Sample Files & Documents",-1)),e("div",kt,[t[55]||(t[55]=e("p",{class:"text-xs sm:text-sm text-gray-600"}," Upload any relevant files such as images, PDFs, CSV data files, or other documents related to this biospecimen. ",-1)),e("div",{onClick:k,onDragover:t[22]||(t[22]=P(o=>r.value=!0,["prevent"])),onDragleave:t[23]||(t[23]=P(o=>r.value=!1,["prevent"])),onDrop:P(ee,["prevent"]),class:B(["border-2 border-dashed rounded-xl p-4 sm:p-6 md:p-8 text-center cursor-pointer transition-all duration-300",s(r)?"border-[#005B8F] bg-blue-50":"border-gray-300 hover:border-[#005B8F] hover:bg-gray-50"])},[e("div",It,[e("div",Dt,[f(c,{name:"heroicons:cloud-arrow-up",class:"w-6 h-6 sm:w-7 sm:h-7 md:w-8 md:h-8 text-[#005B8F]"})]),t[52]||(t[52]=e("div",null,[e("p",{class:"text-sm sm:text-base md:text-lg font-medium text-gray-700 mb-1"}," Click to upload or drag and drop "),e("p",{class:"text-xs sm:text-sm text-gray-500"}," Images, PDFs, CSV, Excel, Documents (Max 10MB per file) ")],-1)),e("input",{ref_key:"fileInput",ref:V,type:"file",multiple:"",accept:"image/*,.pdf,.csv,.xlsx,.xls,.doc,.docx,.txt",onChange:S,class:"hidden",disabled:s(a)},null,40,Vt)])],34),s(b).length>0?(m(),g("div",Mt,[e("h4",Bt," Uploaded Files ("+h(s(b).length)+") ",1),e("div",Ft,[(m(!0),g(O,null,Z(s(b),(o,$)=>(m(),g("div",{key:$,class:"border border-gray-200 rounded-lg p-3 sm:p-4 hover:shadow-md transition-shadow"},[e("div",$t,[e("div",Lt,[o.preview&&o.type.startsWith("image/")?(m(),g("div",St,[e("img",{src:o.preview,alt:o.name,class:"w-full h-full object-cover"},null,8,Tt)])):(m(),g("div",At,[f(c,{name:fe(o.type),class:"w-6 h-6 sm:w-8 sm:h-8 md:w-10 md:h-10 text-gray-500"},null,8,["name"])]))]),e("div",Et,[e("p",{class:"text-xs sm:text-sm font-medium text-gray-900 truncate",title:o.name},h(o.name),9,Rt),e("p",zt,h(R(o.size))+" â€¢ "+h(be(o.type)),1),o.preview&&o.type==="application/pdf"?(m(),g("div",Ht,[e("button",{onClick:J=>ye(o),class:"text-[10px] sm:text-xs text-[#005B8F] hover:underline flex items-center gap-1"},[f(c,{name:"heroicons:eye",class:"w-3 h-3"}),t[53]||(t[53]=L(" Preview PDF "))],8,jt)])):F("",!0)]),e("button",{onClick:J=>te($),class:"flex-shrink-0 p-1 sm:p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",disabled:s(a)},[f(c,{name:"heroicons:trash",class:"w-4 h-4 sm:w-5 sm:h-5"})],8,Pt)])]))),128))])])):(m(),g("div",Ut,[f(c,{name:"heroicons:document",class:"w-10 h-10 sm:w-12 sm:h-12 text-gray-300 mx-auto mb-2"}),t[54]||(t[54]=e("p",{class:"text-xs sm:text-sm text-gray-500"},"No files uploaded yet",-1))]))])])):F("",!0)]),_:1})])]),e("div",Nt,[e("div",Jt,[s(d)>1?(m(),g("button",{key:0,type:"button",onClick:he,class:"px-3 py-2 sm:px-4 sm:py-2.5 md:px-6 md:py-3 border-[0.5px] border-gray-50 bg-white rounded-lg hover:bg-gray-50 transition-all font-medium flex items-center gap-1 sm:gap-2 text-xs sm:text-sm",disabled:s(a)},t[57]||(t[57]=[e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 sm:w-5 sm:h-5"},[e("path",{d:"M13.9796 6L15.3896 7.41L10.8096 12L15.3896 16.59L13.9796 18L7.97965 12L13.9796 6Z",fill:"#005B8F"})],-1),e("span",{class:"hidden sm:inline"},"Back",-1)]),8,Ot)):(m(),g("button",{key:1,type:"button",onClick:se,class:"px-3 py-2 sm:px-4 sm:py-2.5 md:px-6 md:py-3 border-[0.5px] border-gray-50 rounded-lg hover:bg-gray-50 transition-all font-medium text-xs sm:text-sm",disabled:s(a)}," Cancel ",8,Zt)),s(d)<4?(m(),g("button",{key:2,type:"button",onClick:ve,class:"px-3 py-2 sm:px-4 sm:py-2.5 md:px-6 md:py-3 bg-[#005B8F] text-white rounded-lg transition-all font-medium flex items-center gap-1 sm:gap-2 shadow-lg hover:shadow-xl text-xs sm:text-sm",disabled:s(a)},t[58]||(t[58]=[e("span",null,"Next",-1),e("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 sm:w-5 sm:h-5"},[e("path",{d:"M10.0204 6L8.61035 7.41L13.1904 12L8.61035 16.59L10.0204 18L16.0204 12L10.0204 6Z",fill:"white"})],-1)]),8,Gt)):(m(),g("button",{key:3,type:"button",onClick:we,class:"px-3 py-2 sm:px-4 sm:py-2.5 md:px-6 md:py-3 bg-[#005B8F] text-white rounded-lg transition-all font-medium flex items-center gap-1 sm:gap-2 shadow-lg hover:shadow-xl text-xs sm:text-sm",disabled:s(a)},[s(a)?(m(),g("svg",qt,t[59]||(t[59]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(m(),H(c,{key:0,name:"heroicons:check",class:"w-4 h-4 sm:w-5 sm:h-5"})),e("span",Kt,h(s(a)?"Saving...":"Save"),1),e("span",Yt,h(s(a)?"...":"Save"),1)],8,Wt))])])])])):F("",!0)]),_:1})])}}}),Xt=ue(Qt,[["__scopeId","data-v-d2a19668"]]),es={class:"bg-white rounded-xl max-w-3xl w-full max-h-[90vh] shadow-2xl transform transition-all flex flex-col"},ts={class:"p-6 md:p-8 flex-shrink-0 border-b border-gray-100"},ss={class:"flex items-center justify-between mb-6"},ls={class:"flex items-center gap-4"},os={class:"flex-1 overflow-y-auto p-6 md:p-8"},as={class:"border-b border-gray-200 mb-6"},is={class:"flex gap-8"},ns={key:0,class:"space-y-6"},rs={key:1,class:"space-y-6"},ds={key:2,class:"space-y-6"},ms={class:"bg-gray-50 rounded-lg p-6 text-center"},cs=le({__name:"DetailsModal",props:{modelValue:{type:Boolean},specimen:{}},emits:["update:modelValue"],setup(v,{emit:w}){const p=w,a=y("clinical"),D=()=>{a.value="clinical",p("update:modelValue",!1)};return(d,r)=>{const V=pe("Icon");return m(),H(ce,{to:"body"},[f(E,{name:"modal"},{default:A(()=>[d.modelValue&&d.specimen?(m(),g("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:P(D,["self"])},[e("div",es,[e("div",ts,[e("div",ss,[e("div",ls,[e("button",{onClick:D,class:"p-2 hover:bg-gray-100 rounded-lg transition"},[f(V,{name:"heroicons:arrow-left",class:"w-6 h-6 text-gray-600"})]),r[3]||(r[3]=e("h2",{class:"text-2xl font-bold text-gray-900"},"Biospecimen Details",-1))]),r[4]||(r[4]=e("button",{class:"px-4 py-2.5 bg-[#005B8F] text-white rounded-lg transition flex items-center gap-2 shadow-md"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 16L7 11L8.4 9.55L11 12.15V4H13V12.15L15.6 9.55L17 11L12 16ZM6 20C5.45 20 4.97933 19.8043 4.588 19.413C4.19667 19.0217 4.00067 18.5507 4 18V15H6V18H18V15H20V18C20 18.55 19.8043 19.021 19.413 19.413C19.0217 19.805 18.5507 20.0007 18 20H6Z",fill:"white"})]),e("span",{class:"text-sm font-medium"},"Download Biosample")],-1))]),r[5]||(r[5]=e("div",{class:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100"},[e("div",{class:"flex flex-col items-center text-center"},[e("div",{class:"rounded-full flex items-center justify-center mb-3"},[e("svg",{width:"66",height:"66",viewBox:"0 0 66 66",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{"clip-path":"url(#clip0_2030_1458)"},[e("path",{d:"M32.998 65.9946C51.2237 65.9946 65.998 51.2203 65.998 32.9946C65.998 14.769 51.2237 -0.00537109 32.998 -0.00537109C14.7724 -0.00537109 -0.00195312 14.769 -0.00195312 32.9946C-0.00195312 51.2203 14.7724 65.9946 32.998 65.9946Z",fill:"#DEEEFF"}),e("path",{d:"M49.2949 47.5312L36.0509 27.9595L39.5984 20.9951H26.3984L29.9459 27.9595L16.7019 47.5312C16.4012 47.983 16.2287 48.5079 16.2027 49.0499C16.1767 49.592 16.2982 50.131 16.5543 50.6094C16.8104 51.0879 17.1915 51.4879 17.6569 51.7669C18.1224 52.046 18.6548 52.1935 19.1975 52.1939H46.7979C47.3408 52.1937 47.8735 52.0462 48.3391 51.7671C48.8048 51.488 49.186 51.0878 49.4422 50.6091C49.6983 50.1304 49.8198 49.5912 49.7936 49.0489C49.7674 48.5067 49.5946 47.9816 49.2935 47.5299",fill:"#2E3ECD"}),e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M43.0593 42.7422L45.6085 46.5647C45.8421 46.9148 45.9762 47.3217 45.9966 47.742C46.0169 48.1623 45.9228 48.5803 45.7242 48.9513C45.5255 49.3223 45.2299 49.6324 44.8688 49.8485C44.5077 50.0645 44.0947 50.1785 43.6739 50.1782H22.3009C21.8802 50.1786 21.4673 50.0647 21.1064 49.8486C20.7454 49.6326 20.4499 49.3226 20.2514 48.9517C20.0529 48.5808 19.9588 48.163 19.9793 47.7428C19.9998 47.3226 20.134 46.9159 20.3676 46.5661L22.9169 42.7436H26.0381C26.0774 42.5445 26.1684 42.3593 26.302 42.2066C26.4356 42.0539 26.6071 41.939 26.7992 41.8737C26.9912 41.8083 27.1972 41.7947 27.3962 41.8342C27.5952 41.8737 27.7803 41.9649 27.9329 42.0987C28.0229 41.7513 28.2256 41.4435 28.5092 41.2235C28.7929 41.0036 29.1415 40.8839 29.5004 40.8832C30.4491 40.8832 31.2508 41.7082 31.1036 42.7422H34.4022C34.3672 42.4501 34.3946 42.1539 34.4827 41.8731C34.5707 41.5924 34.7175 41.3336 34.9132 41.1139C35.1088 40.8942 35.349 40.7185 35.6176 40.5987C35.8863 40.4788 36.1774 40.4173 36.4716 40.4185C37.2774 40.4185 37.969 40.8805 38.3183 41.5487C38.5292 41.422 38.77 41.3537 39.016 41.3506C39.2621 41.3476 39.5045 41.4099 39.7185 41.5314C39.9325 41.6528 40.1105 41.8289 40.2341 42.0416C40.3577 42.2544 40.4225 42.4962 40.422 42.7422H43.0593Z",fill:"#6BAFFF"}),e("path",{d:"M29.5981 18.5927C29.9163 18.5927 30.2214 18.4663 30.4464 18.2414C30.6714 18.0164 30.7978 17.7112 30.7978 17.393C30.7978 17.0749 30.6714 16.7697 30.4464 16.5447C30.2214 16.3198 29.9163 16.1934 29.5981 16.1934C29.2799 16.1934 28.9748 16.3198 28.7498 16.5447C28.5248 16.7697 28.3984 17.0749 28.3984 17.393C28.3984 17.7112 28.5248 18.0164 28.7498 18.2414C28.9748 18.4663 29.2799 18.5927 29.5981 18.5927ZM43.9971 23.3929C44.3151 23.3929 44.6201 23.2665 44.8449 23.0417C45.0698 22.8168 45.1961 22.5119 45.1961 22.1939C45.1961 21.8759 45.0698 21.5709 44.8449 21.346C44.6201 21.1212 44.3151 20.9949 43.9971 20.9949C43.6791 20.9949 43.3742 21.1212 43.1493 21.346C42.9244 21.5709 42.7981 21.8759 42.7981 22.1939C42.7981 22.5119 42.9244 22.8168 43.1493 23.0417C43.3742 23.2665 43.6791 23.3929 43.9971 23.3929Z",fill:"#2E3ECD"}),e("path",{d:"M36.5981 38.9936C36.9163 38.9936 37.2214 38.8672 37.4464 38.6422C37.6714 38.4172 37.7978 38.1121 37.7978 37.7939C37.7978 37.4757 37.6714 37.1706 37.4464 36.9456C37.2214 36.7206 36.9163 36.5942 36.5981 36.5942C36.2799 36.5942 35.9748 36.7206 35.7498 36.9456C35.5248 37.1706 35.3984 37.4757 35.3984 37.7939C35.3984 38.1121 35.5248 38.4172 35.7498 38.6422C35.9748 38.8672 36.2799 38.9936 36.5981 38.9936Z",fill:"#6BAFFF"}),e("path",{d:"M40.3974 18.5942C41.0338 18.5942 41.6441 18.3414 42.094 17.8914C42.544 17.4414 42.7968 16.8311 42.7968 16.1948C42.7968 15.5584 42.544 14.9481 42.094 14.4982C41.6441 14.0482 41.0338 13.7954 40.3974 13.7954C39.7611 13.7954 39.1508 14.0482 38.7008 14.4982C38.2508 14.9481 37.998 15.5584 37.998 16.1948C37.998 16.8311 38.2508 17.4414 38.7008 17.8914C39.1508 18.3414 39.7611 18.5942 40.3974 18.5942Z",fill:"#2E3ECD"}),e("path",{d:"M29.398 38.9953C30.0347 38.9953 30.6453 38.7424 31.0956 38.2922C31.5458 37.842 31.7987 37.2313 31.7987 36.5946C31.7987 35.9579 31.5458 35.3472 31.0956 34.897C30.6453 34.4468 30.0347 34.1938 29.398 34.1938C28.7714 34.2088 28.1755 34.4683 27.7377 34.9168C27.2998 35.3652 27.0547 35.9671 27.0547 36.5939C27.0547 37.2207 27.2998 37.8226 27.7377 38.2711C28.1755 38.7195 28.7714 38.979 29.398 38.994",fill:"#6BAFFF"})]),e("defs",null,[e("clipPath",{id:"clip0_2030_1458"},[e("rect",{width:"66",height:"66",fill:"white"})])])])]),e("h3",{class:"text-2xl font-bold text-gray-900 mb-2"},"MH-2024-00234"),e("span",{class:"inline-flex px-4 py-1.5 bg-green-100 text-green-700 rounded-full text-sm font-medium"}," Serum ")])],-1))]),e("div",os,[r[10]||(r[10]=e("div",{class:"space-y-6 mb-8"},[e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[e("div",{class:"flex justify-between items-center py-3 border-b border-gray-200"},[e("span",{class:"text-sm font-medium text-gray-600"},"Volume"),e("span",{class:"text-sm font-semibold text-gray-900"},"50mL")]),e("div",{class:"flex justify-between items-center py-3 border-b border-gray-200"},[e("span",{class:"text-sm font-medium text-gray-600"},"Collection Date"),e("span",{class:"text-sm font-semibold text-gray-900"},"Jan 15, 2024")]),e("div",{class:"flex justify-between items-center py-3 border-b border-gray-200"},[e("span",{class:"text-sm font-medium text-gray-600"},"Collection Time"),e("span",{class:"text-sm font-semibold text-gray-900"},"09:00 AM")]),e("div",{class:"flex justify-between items-center py-3 border-b border-gray-200"},[e("span",{class:"text-sm font-medium text-gray-600"},"Collector"),e("span",{class:"text-sm font-semibold text-gray-900"},"Dr, John Mackins")]),e("div",{class:"md:col-span-2 flex justify-between items-center py-3 border-b border-gray-200"},[e("span",{class:"text-sm font-medium text-gray-600"},"Storage Location"),e("span",{class:"text-sm font-semibold text-gray-900"},"Freezer A-001, Rack2-B, Box 047,")])])],-1)),e("div",as,[e("div",is,[e("button",{onClick:r[0]||(r[0]=b=>a.value="clinical"),class:B(["pb-4 text-sm font-semibold transition-all border-b-2",s(a)==="clinical"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"])}," Clinical Information ",2),e("button",{onClick:r[1]||(r[1]=b=>a.value="demographic"),class:B(["pb-4 text-sm font-semibold transition-all border-b-2",s(a)==="demographic"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"])}," Demographic Information ",2),e("button",{onClick:r[2]||(r[2]=b=>a.value="epi"),class:B(["pb-4 text-sm font-semibold transition-all border-b-2",s(a)==="epi"?"text-blue-600 border-blue-600":"text-gray-500 border-transparent hover:text-gray-700"])}," EpiInformation ",2)])]),f(E,{name:"fade",mode:"out-in"},{default:A(()=>[s(a)==="clinical"?(m(),g("div",ns,r[6]||(r[6]=[e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Patient Clinical Data",-1),e("div",{class:"space-y-4"},[e("div",{class:"flex justify-between items-start py-3 border-b border-gray-100"},[e("span",{class:"text-sm font-medium text-gray-600 w-1/3"},"Diagnosis"),e("span",{class:"text-sm text-gray-900 w-2/3 text-right"},"Type 2 Diabetes Vellite")]),e("div",{class:"flex justify-between items-start py-3 border-b border-gray-100"},[e("span",{class:"text-sm font-medium text-gray-600 w-1/3"},"Treatment Status"),e("span",{class:"text-sm text-gray-900 w-2/3 text-right"},"Ongoing")]),e("div",{class:"flex justify-between items-start py-3 border-b border-gray-100"},[e("span",{class:"text-sm font-medium text-gray-600 w-1/3"},"Comorbidities"),e("span",{class:"text-sm text-gray-900 w-2/3 text-right"},"Hypertension, Obesity")]),e("div",{class:"flex justify-between items-start py-3 border-b border-gray-100"},[e("span",{class:"text-sm font-medium text-gray-600 w-1/3"},"Medication"),e("span",{class:"text-sm text-gray-900 w-2/3 text-right"},"Metformin 500mg")]),e("div",{class:"flex justify-between items-start py-3 border-b border-gray-100"},[e("span",{class:"text-sm font-medium text-gray-600 w-1/3"},"Clinical Notes"),e("span",{class:"text-sm text-gray-900 w-2/3 text-right"},"Patient presents with well-controlled glucose levels with current medication regimen. Continue monitoring HbA1c quarterly.")]),e("div",{class:"flex justify-between items-start py-3"},[e("span",{class:"text-sm font-medium text-gray-600 w-1/3"},"Attending Physician"),e("span",{class:"text-sm text-gray-900 w-2/3 text-right"},"Dr. James Wilson")])],-1)]))):s(a)==="demographic"?(m(),g("div",rs,r[7]||(r[7]=[e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Patient Demographic Data",-1),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[e("div",{class:"space-y-4"},[e("div",null,[e("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Date of Birth"),e("p",{class:"text-sm font-semibold text-gray-900 mt-1"},"March 15, 1978")]),e("div",null,[e("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Age"),e("p",{class:"text-sm font-semibold text-gray-900 mt-1"},"46 years")]),e("div",null,[e("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Sex"),e("p",{class:"text-sm font-semibold text-gray-900 mt-1"},"Male")])]),e("div",{class:"space-y-4"},[e("div",null,[e("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Ethnicity"),e("p",{class:"text-sm font-semibold text-gray-900 mt-1"},"Caucasian")]),e("div",null,[e("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Nationality"),e("p",{class:"text-sm font-semibold text-gray-900 mt-1"},"American")]),e("div",null,[e("label",{class:"text-xs font-medium text-gray-500 uppercase tracking-wider"},"Blood Type"),e("p",{class:"text-sm font-semibold text-gray-900 mt-1"},"O+")])])],-1)]))):s(a)==="epi"?(m(),g("div",ds,[r[9]||(r[9]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"},"Epidemiological Information",-1)),e("div",ms,[f(V,{name:"heroicons:document-text",class:"w-16 h-16 text-gray-300 mx-auto mb-3"}),r[8]||(r[8]=e("p",{class:"text-gray-500"},"No epidemiological data available",-1))])])):F("",!0)]),_:1})]),r[11]||(r[11]=e("div",{class:"flex-shrink-0 p-6 md:p-8 border-t border-gray-100"},[e("div",{class:"flex justify-end"},[e("button",{class:"px-6 py-3 bg-[#005B8F] text-white rounded-lg transition flex items-center gap-2 shadow-md"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M18.988 2.01221L21.988 5.01221L19.701 7.30021L16.701 4.30021L18.988 2.01221ZM8 16.0002H11L18.287 8.71321L15.287 5.71321L8 13.0002V16.0002Z",fill:"white"}),e("path",{d:"M19 19H8.158C8.132 19 8.105 19.01 8.079 19.01C8.046 19.01 8.013 19.001 7.979 19H5V5H11.847L13.847 3H5C3.897 3 3 3.896 3 5V19C3 20.104 3.897 21 5 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V10.332L19 12.332V19Z",fill:"white"})]),e("span",{class:"font-medium"},"Edit")])])],-1))])])):F("",!0)]),_:1})])}}}),ps=ue(cs,[["__scopeId","data-v-b24cb7f1"]]),us=()=>{const v=y(!1),w=y([]),{showToast:p}=xe(),a=async()=>{var D,d,r,V;v.value=!0;try{const b=await ge.$_get_all_samples();if(b.type!=="ERROR")return w.value=b.data,b.data;{const l=((r=(d=(D=b==null?void 0:b.data)==null?void 0:D.detail)==null?void 0:d[0])==null?void 0:r.msg)||((V=b==null?void 0:b.data)==null?void 0:V.error)||"Failed to fetch samples";return p({title:"Error",message:l,toastType:"error",duration:3e3}),null}}catch(b){return p({title:"Error",message:(b==null?void 0:b.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{v.value=!1}};return Ce(()=>{a()}),{loading:v,samples:w,getAllSamples:a}},xs={class:"min-h-screen"},gs={class:"flex"},fs={class:"flex-1 p-4 md:p-6"},bs={class:"mb-6 space-y-6"},ys={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6"},vs={class:"grid grid-cols-1 md:grid-cols-12 gap-3 items-end"},hs={class:"md:col-span-2"},ws={class:"md:col-span-2"},_s={class:"md:col-span-2"},Cs={class:"md:col-span-3"},ks={class:"bg-white rounded-lg shadow-sm overflow-hidden border border-gray-100"},Is={class:"overflow-x-auto"},Ds={class:"w-full min-w-max"},Vs={class:"divide-y divide-gray-100 bg-white"},Ms={class:"px-4 py-4 text-sm text-gray-900"},Bs={class:"px-4 py-4 text-sm text-gray-900"},Fs={class:"flex items-center gap-2"},$s={class:"font-medium"},Ls=["onClick"],Ss={class:"px-4 py-4 text-sm text-gray-700"},Ts={class:"flex items-center gap-2"},As={class:"px-4 py-4 text-sm"},Es={class:"px-4 py-4 text-sm text-gray-700"},Rs={class:"px-4 py-4 text-sm text-gray-700"},zs={class:"px-4 py-4 text-sm"},Hs=["onClick"],js={class:"px-4 py-4 text-sm"},Ps=["onClick"],Us={class:"px-4 py-4 text-sm"},Ns=["onClick"],Js={class:"px-4 py-4 text-sm"},Os=["onClick"],Zs={key:0},Xs=le({__name:"registration",setup(v){us();const w=y(""),p=y({type:"All Types",location:"All Locations",dateRange:{from:"",to:""}}),a=y(!1),D=y(!1),d=y(null),r=y(["All Types","Serum","Plasma","Tissue","DNA","RNA","Pending"]),V=y(["All Locations","Ikeja medical centre","Freezer B-105, Rack 1-A","Freezer A-301, Rack 2-B","Cold Storage Unit 5"]),b=y([{id:1,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Serum",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:2,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Plasma",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:3,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Tissue",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:4,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"DNA",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:5,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Tissue",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:6,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Serum",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:7,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Plasma",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:8,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Tissue",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:9,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"DNA",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"},{id:10,sampleId:"MH-2024-0023",location:"Ikeja medical centre",type:"Pending",collectionDateTime:"Jan 15, 2024, 09:30 AM",collectorInfo:"John Romans",clinicalInfo:"CLI-00234",demoInfoId:"DEM-00234",epiInfoId:"EPI-00234"}]),l=ke(()=>{let u=b.value;if(w.value){const i=w.value.toLowerCase();u=u.filter(k=>k.sampleId.toLowerCase().includes(i)||k.location.toLowerCase().includes(i)||k.type.toLowerCase().includes(i)||k.collectorInfo.toLowerCase().includes(i)||k.clinicalInfo.toLowerCase().includes(i)||k.demoInfoId.toLowerCase().includes(i)||k.epiInfoId.toLowerCase().includes(i))}if(p.value.type&&p.value.type!=="All Types"&&(u=u.filter(i=>i.type===p.value.type)),p.value.location&&p.value.location!=="All Locations"&&(u=u.filter(i=>i.location===p.value.location)),p.value.dateRange.from){const i=new Date(p.value.dateRange.from);i.setHours(0,0,0,0),u=u.filter(k=>{const S=new Date(k.collectionDateTime);return S.setHours(0,0,0,0),S>=i})}if(p.value.dateRange.to){const i=new Date(p.value.dateRange.to);i.setHours(23,59,59,999),u=u.filter(k=>new Date(k.collectionDateTime)<=i)}return u}),j=u=>({Serum:"bg-green-100 text-green-700",Plasma:"bg-blue-100 text-blue-700",Tissue:"bg-orange-100 text-orange-700",DNA:"bg-pink-100 text-pink-700",RNA:"bg-purple-100 text-purple-700",Pending:"bg-yellow-100 text-yellow-700"})[u]||"bg-gray-100 text-gray-700",G=async u=>{try{await navigator.clipboard.writeText(u),console.log("Copied to clipboard:",u)}catch(i){console.error("Failed to copy:",i)}},W=()=>{console.log("Applying filters:",p.value)},q=()=>{w.value="",p.value={type:"All Types",location:"All Locations",dateRange:{from:"",to:""}}},K=u=>{d.value=u,D.value=!0},Y=u=>{console.log("View clinical info:",u)},Q=u=>{console.log("View demo info:",u)},U=u=>{console.log("View epi info:",u)},X=u=>{console.log("New specimen saved:",u)};return(u,i)=>{const k=me,S=_e,ee=Xt,N=ps;return m(),g("div",xs,[e("div",gs,[e("main",fs,[e("div",bs,[e("div",ys,[i[8]||(i[8]=e("h1",{class:"text-2xl font-bold text-gray-900"},"BioSpecimen Registration",-1)),e("button",{onClick:i[0]||(i[0]=x=>a.value=!0),class:"bg-[#005B8F] text-white px-4 py-2.5 rounded-lg hover:bg-[#004a73] transition-colors flex items-center gap-2 justify-center shadow-sm"},i[7]||(i[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("span",{class:"font-medium"},"Register Biospecimen",-1)]))]),e("section",vs,[e("div",hs,[f(k,{label:"All Types",options:r.value,position:"standalone",modelValue:p.value.type,"onUpdate:modelValue":i[1]||(i[1]=x=>p.value.type=x)},null,8,["options","modelValue"])]),e("div",ws,[f(k,{label:"All Locations",options:V.value,position:"standalone",modelValue:p.value.location,"onUpdate:modelValue":i[2]||(i[2]=x=>p.value.location=x)},null,8,["options","modelValue"])]),e("div",_s,[f(S,{modelValue:p.value.dateRange,"onUpdate:modelValue":i[3]||(i[3]=x=>p.value.dateRange=x),label:"Date Range",placeholder:"Select date range"},null,8,["modelValue"])]),e("div",Cs,[i[9]||(i[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Filter Table",-1)),_(e("input",{"onUpdate:modelValue":i[4]||(i[4]=x=>w.value=x),type:"text",placeholder:"Filter Table",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#005B8F] focus:border-transparent"},null,512),[[C,w.value]])]),e("div",{class:"md:col-span-3 flex gap-2"},[e("button",{onClick:W,class:"flex-1 bg-[#005B8F] text-white px-6 py-2.5 rounded-lg hover:bg-[#004a73] transition-colors text-sm font-medium shadow-sm"}," Search "),e("button",{onClick:q,class:"flex-1 border border-[#005B8F] text-[#005B8F] px-6 py-2.5 rounded-lg hover:bg-blue-50 transition-colors text-sm font-medium"}," Clear Filter ")])]),e("div",ks,[e("div",Is,[e("table",Ds,[i[14]||(i[14]=e("thead",{class:"bg-gray-50 border-b border-gray-200"},[e("tr",null,[e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," SN "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Sample ID "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Location "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Type "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Collection Date/Time "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Collector Info "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Clinical Info "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Demo_Info_ID "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Epi_Info_ID "),e("th",{class:"px-4 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",Vs,[(m(!0),g(O,null,Z(l.value,(x,te)=>(m(),g("tr",{key:x.id,class:"hover:bg-gray-50 transition"},[e("td",Ms,h(te+1),1),e("td",Bs,[e("div",Fs,[e("span",$s,h(x.sampleId),1),e("button",{onClick:R=>G(x.sampleId),class:"text-gray-400 hover:text-gray-600 transition"},i[10]||(i[10]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1)]),8,Ls)])]),e("td",Ss,[e("div",Ts,[i[11]||(i[11]=e("svg",{class:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z","clip-rule":"evenodd"})],-1)),e("span",null,h(x.location),1)])]),e("td",As,[e("span",{class:B([j(x.type),"inline-flex px-3 py-1 rounded-full text-xs font-medium"])},h(x.type),3)]),e("td",Es,h(x.collectionDateTime),1),e("td",Rs,h(x.collectorInfo),1),e("td",zs,[e("button",{onClick:R=>Y(x.clinicalInfo),class:"text-[#005B8F] hover:text-[#004a73] font-medium hover:underline"},h(x.clinicalInfo),9,Hs)]),e("td",js,[e("button",{onClick:R=>Q(x.demoInfoId),class:"text-[#005B8F] hover:text-[#004a73] font-medium hover:underline"},h(x.demoInfoId),9,Ps)]),e("td",Us,[e("button",{onClick:R=>U(x.epiInfoId),class:"text-[#005B8F] hover:text-[#004a73] font-medium hover:underline"},h(x.epiInfoId),9,Ns)]),e("td",Js,[e("button",{onClick:R=>K(x),class:"p-2 hover:bg-gray-100 rounded-lg transition"},i[12]||(i[12]=[e("svg",{class:"w-5 h-5 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),e("path",{"fill-rule":"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z","clip-rule":"evenodd"})],-1)]),8,Os)])]))),128)),l.value.length===0?(m(),g("tr",Zs,i[13]||(i[13]=[e("td",{colspan:"10",class:"px-4 py-12 text-center"},[e("svg",{class:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("p",{class:"text-gray-500 text-sm"},"No specimens found")],-1)]))):F("",!0)])])])])])])]),f(ee,{modelValue:a.value,"onUpdate:modelValue":i[5]||(i[5]=x=>a.value=x),onSaved:X},null,8,["modelValue"]),f(N,{modelValue:D.value,"onUpdate:modelValue":i[6]||(i[6]=x=>D.value=x),specimen:d.value},null,8,["modelValue","specimen"])])}}});export{Xs as default};
