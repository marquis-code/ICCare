import{_ as ye}from"./BqLtcNC0.js";import{_ as he}from"./B19KwiZ8.js";import{e as we,r as b,p as Z,l as ee,m as ke,q as A,w as Ve,s as ze,o as i,a as e,c as d,x as f,h as s,t as o,b as m,d as r,n as z,z as H,_ as Ce}from"./BTnRPOtx.js";import{u as je,a as Se,b as Ae,c as Ue,_ as U,d as De}from"./CSN_k7Fe.js";import{u as Me}from"./COqWjZaL.js";import{_ as Fe}from"./FPCULyyy.js";import{u as Re,a as Be}from"./BH61r_ud.js";import"./DIrjWiVX.js";import"./BVZSfUIK.js";const Ne={class:"min-h-screen"},Ee={class:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8"},Le={key:0,class:"mb-6 bg-white rounded-xl shadow-sm border border-gray-100 p-6"},Te={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},He={class:"text-center p-6 bg-blue-50 rounded-lg"},Oe={class:"text-3xl font-bold text-blue-900"},qe={class:"text-center p-6 bg-green-50 rounded-lg"},Ge={class:"text-3xl font-bold text-green-900"},Ie={class:"text-center p-6 bg-purple-50 rounded-lg"},$e={class:"text-3xl font-bold text-purple-900"},Pe={class:"mt-4 flex items-center justify-between text-xs text-gray-500"},Ke={class:"mb-6"},Qe={class:"flex justify-between items-center pb-6"},We={class:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:justify-end"},Je=["disabled"],Xe={key:0},Ye={key:1,class:"flex items-center justify-center gap-2"},Ze={class:"bg-white rounded-xl p-6 space-y-4 shadow-sm border border-gray-100"},et={class:"my-6"},tt={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},st={class:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200"},lt=["disabled"],ot=["disabled"],nt={key:0,class:"mt-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 shadow-sm border border-purple-100"},it={class:"text-lg font-medium text-gray-900 mb-4"},rt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},at={class:"bg-white rounded-lg p-4 shadow-sm"},dt={class:"text-2xl font-bold text-gray-900"},ut={class:"bg-white rounded-lg p-4 shadow-sm"},mt={class:"text-2xl font-bold text-blue-900"},pt={class:"bg-white rounded-lg p-4 shadow-sm"},ct={key:1,class:"mt-6 bg-green-50 border border-green-200 rounded-xl p-6"},xt={class:"flex items-start gap-3"},gt={class:"flex-1"},ft={class:"mt-2 text-sm text-green-700 space-y-1"},vt={key:2,class:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-6"},bt={class:"flex items-start gap-3"},_t={class:"flex-1"},yt={class:"mt-2 text-sm text-blue-700 space-y-1"},ht={class:"flex items-start gap-3"},wt={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},kt={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},Vt={class:"flex-1"},zt={key:0},Ct={class:"mt-2"},jt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},St={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},At={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ut={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Dt={class:"sm:flex sm:items-start"},Mt={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},Ft={class:"mt-4"},Rt={class:"text-sm text-gray-500 mb-4"},Bt={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2"},Nt=["disabled"],Et={key:0},Lt={key:1,class:"flex items-center gap-2"},Tt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Ht={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},Ot={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},qt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Gt={class:"sm:flex sm:items-start"},It={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},$t={class:"mt-4 space-y-4"},Pt={class:"bg-gray-50 px-4 py-3 sm:px-6 w-full sm:flex sm:flex-row-reverse gap-2"},Kt=["disabled"],Qt={key:0},Wt={key:1,class:"flex items-center gap-2"},Jt={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},Xt={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},Yt={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Zt={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},es={class:"sm:flex sm:items-start"},ts={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},ss={class:"mt-4 space-y-4"},ls={class:"grid grid-cols-2 gap-4"},os={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2"},ns=["disabled"],is={key:0},rs={key:1,class:"flex items-center gap-2"},as=we({__name:"index",setup(ds){const{loading:O,dashboardData:h,getDashboardData:w}=Me(),{sites:k,getSites:te}=Re(),{freezers:C,getFreezers:D}=Be(),{loading:se,utilizationData:_,getUtilizationLevel:le}=je(),{scheduleReport:oe,loading:q,scheduleData:V}=Se(),{exportData:ne,loading:G,exportData:v}=Ae(),{checkAndNotifyAlerts:ie,loading:I,alertResponse:p}=Ue(),M=b({from:"",to:""}),y=b([]),c=b({site_id:"",freezer_id:""}),F=b(!1),R=b(!1),B=b(!1),j=b("excel"),x=b({report_name:"",scheduled_period:"weekly",recipient_emails_text:"",recipient_roles_text:""}),u=b({item:"",units:"",threshold_value:0,current_value:0,admin_notes:""}),re=[{value:"samples",label:"Samples"},{value:"workflows",label:"Workflows"},{value:"freezer_inventory",label:"Freezer Inventory"},{value:"alerts",label:"Alerts"},{value:"audit_logs",label:"Audit Logs"},{value:"utilization_metrics",label:"Utilization Metrics"},{value:"chain_of_custody",label:"Chain of Custody"}],S=l=>l?new Date(l).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",ae=l=>l>=90?"text-red-600":l>=75?"text-orange-600":l>=50?"text-yellow-600":"text-green-600",de=()=>{c.value={site_id:"",freezer_id:""},y.value=[],M.value={from:"",to:""},v.value=null,V.value=null,p.value=null,_.value=null,w()},ue=async()=>{var l;if(c.value.site_id&&c.value.site_id!=="All Sites"){const t=(l=k.value)==null?void 0:l.find(a=>a.site_name===c.value.site_id);if(t){await w(t.site_id);return}}await w()},me=async()=>{var t;if(!c.value.freezer_id){alert("Please select a Freezer");return}const l=(t=C.value)==null?void 0:t.find(a=>a.freezer_name===c.value.freezer_id);l&&await le(l.freezer_id)},pe=()=>{if(y.value.length===0){alert("Please select at least one dataset to export");return}F.value=!0},N=()=>{F.value=!1,j.value="excel"},ce=async()=>{try{await ne({items_to_export:y.value,format:j.value}),N()}catch(l){console.error("Export error:",l)}},xe=()=>{R.value=!0},E=()=>{R.value=!1,x.value={report_name:"",scheduled_period:"weekly",recipient_emails_text:"",recipient_roles_text:""}},ge=async()=>{try{const l=x.value.recipient_emails_text.split(",").map(a=>a.trim()).filter(a=>a.length>0),t=x.value.recipient_roles_text.split(",").map(a=>a.trim()).filter(a=>a.length>0);await oe({report_name:x.value.report_name,scheduled_period:x.value.scheduled_period,recipient_emails:l.length>0?l:void 0,recipient_roles:t.length>0?t:void 0}),E()}catch(l){console.error("Schedule error:",l)}},fe=Z(()=>!k.value||k.value.length===0?["All Sites"]:["All Sites",...k.value.map(l=>l.site_name)]),ve=Z(()=>!C.value||C.value.length===0?[]:C.value.map(l=>l.freezer_name));ee(()=>c.value.site_id,async(l,t)=>{var a;if(l!==t)if(l&&l!=="All Sites"){const g=(a=k.value)==null?void 0:a.find(T=>T.site_name===l);g&&await w(g.site_id)}else await w()}),ee(()=>c.value.site_id,async l=>{var t;if(l&&l!=="All Sites"){const a=(t=k.value)==null?void 0:t.find(g=>g.site_name===l);a&&await D(a.site_id)}else await D();c.value.freezer_id=""});const be=()=>{B.value=!0},L=()=>{B.value=!1,u.value={item:"",units:"",threshold_value:0,current_value:0,admin_notes:""}},_e=async()=>{try{await ie({threshold_data:{item:u.value.item,units:u.value.units,number:u.value.threshold_value,admin_notes:u.value.admin_notes||void 0},current_value:u.value.current_value}),L()}catch(l){console.error("Alert check error:",l)}};return ke(async()=>{await w(),await te(),await D()}),(l,t)=>{const a=ye,g=he,T=ze;return i(),A(T,{name:"dashboard"},{default:Ve(()=>{var $,P,K,Q,W,J,X,Y;return[e("div",Ne,[e("div",Ee,[t[48]||(t[48]=e("div",{class:"mb-6 sm:mb-8"},[e("h1",{class:"text-2xl font-semibold text-gray-900"},"Reports & Analytics"),e("p",{class:"mt-2 text-sm text-gray-600"}," Generate, export, and schedule biosample reports. Monitor dashboard metrics and set up automated alerts. ")],-1)),s(h)?(i(),d("div",Le,[t[17]||(t[17]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Dashboard Overview",-1)),e("div",Te,[e("div",He,[e("p",Oe,o((($=s(h).metrics)==null?void 0:$.total_records)||0),1),t[14]||(t[14]=e("p",{class:"text-sm text-gray-600 mt-2"},"Total Records",-1))]),e("div",qe,[e("p",Ge,o(((P=s(h).metrics)==null?void 0:P.new_records_last_24h)||0),1),t[15]||(t[15]=e("p",{class:"text-sm text-gray-600 mt-2"},"New Records (24h)",-1))]),e("div",Ie,[e("p",$e,o(((((K=s(h).metrics)==null?void 0:K.data_quality_score)||0)*100).toFixed(1))+"%",1),t[16]||(t[16]=e("p",{class:"text-sm text-gray-600 mt-2"},"Data Quality Score",-1))])]),e("div",Pe,[e("span",null,"Scope: "+o(((Q=s(h).metrics)==null?void 0:Q.scope)||"N/A"),1),e("span",null,"Last Updated: "+o(S(s(h).timestamp)),1)])])):f("",!0),e("div",Ke,[e("div",Qe,[t[19]||(t[19]=e("h2",{class:"text-lg font-medium text-gray-900"}," Filter & Export Data ",-1)),e("div",We,[e("button",{onClick:de,class:"w-full sm:w-auto outline-none px-6 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors"}," Reset Filters "),e("button",{onClick:ue,disabled:s(O),class:"w-full sm:w-auto outline-none px-6 py-2.5 bg-[#005B8F] text-white rounded-xl hover:bg-[#004a73] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[s(O)?(i(),d("span",Ye,[m(U,{size:"sm"}),t[18]||(t[18]=r(" Loading... "))])):(i(),d("span",Xe,"Refresh Dashboard"))],8,Je)])]),e("section",Ze,[e("div",null,[m(Fe,{modelValue:M.value,"onUpdate:modelValue":t[0]||(t[0]=n=>M.value=n),label:"Date Range",placeholder:"Select date range"},null,8,["modelValue"])]),e("div",et,[m(De,{modelValue:y.value,"onUpdate:modelValue":t[1]||(t[1]=n=>y.value=n),options:re,label:"Select Datasets to Export",placeholder:"Choose one or more datasets",searchable:!0,"select-all":!0},null,8,["modelValue"])]),e("div",tt,[e("div",null,[m(a,{modelValue:c.value.site_id,"onUpdate:modelValue":t[2]||(t[2]=n=>c.value.site_id=n),options:fe.value,label:"Site"},null,8,["modelValue","options"])]),e("div",null,[m(a,{modelValue:c.value.freezer_id,"onUpdate:modelValue":t[3]||(t[3]=n=>c.value.freezer_id=n),options:ve.value,label:"Freezer"},null,8,["modelValue","options"])])]),e("div",st,[e("button",{onClick:pe,disabled:y.value.length===0,class:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},t[20]||(t[20]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),r(" Export Data ")]),8,lt),e("button",{onClick:xe,class:"flex items-center justify-center gap-2 px-4 py-3 bg-[#005b8f] text-white rounded-lg transition-colors"},t[21]||(t[21]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),r(" Schedule Report ")])),e("button",{onClick:be,class:"flex items-center justify-center gap-2 px-4 py-3 bg-[#005B8F] text-white rounded-lg transition-colors"},t[22]||(t[22]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),r(" Check & Notify Alerts ")])),c.value.freezer_id?(i(),d("button",{key:0,onClick:me,disabled:s(se),class:"flex items-center justify-center gap-2 px-4 py-3 bg-[#005B8F] text-white rounded-lg transition-colors disabled:opacity-50"},t[23]||(t[23]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),r(" Check Utilization ")]),8,ot)):f("",!0)])]),s(_)?(i(),d("div",nt,[e("h3",it," Freezer Utilization: "+o(s(_).freezer_id),1),e("div",rt,[e("div",at,[t[24]||(t[24]=e("p",{class:"text-sm text-gray-600"},"Total Capacity",-1)),e("p",dt,o(s(_).capacity_total_units)+" units",1)]),e("div",ut,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-600"},"Units Used",-1)),e("p",mt,o(s(_).units_used)+" units",1)]),e("div",pt,[t[26]||(t[26]=e("p",{class:"text-sm text-gray-600"},"Utilization",-1)),e("p",{class:z(["text-2xl font-bold",ae(s(_).utilization_percentage)])},o(s(_).utilization_percentage)+"% ",3)])])])):f("",!0),s(v)?(i(),d("div",ct,[e("div",xt,[t[35]||(t[35]=e("svg",{class:"w-6 h-6 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",gt,[t[34]||(t[34]=e("h4",{class:"text-sm font-medium text-green-900"},"Export Completed Successfully",-1)),e("div",ft,[e("p",null,[t[27]||(t[27]=e("strong",null,"Export ID:",-1)),r(" "+o(s(v).export_id),1)]),e("p",null,[t[28]||(t[28]=e("strong",null,"File Name:",-1)),r(" "+o(s(v).file_name),1)]),e("p",null,[t[29]||(t[29]=e("strong",null,"Format:",-1)),r(" "+o((W=s(v).format)==null?void 0:W.toUpperCase()),1)]),e("p",null,[t[30]||(t[30]=e("strong",null,"Total Records:",-1)),r(" "+o(((J=s(v).preview)==null?void 0:J.total_records)||0),1)]),e("p",null,[t[31]||(t[31]=e("strong",null,"File Size:",-1)),r(" "+o(((X=s(v).preview)==null?void 0:X.file_size_kb)||0)+" KB",1)]),e("p",null,[t[32]||(t[32]=e("strong",null,"Requested By:",-1)),r(" "+o(s(v).requested_by),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"Timestamp:",-1)),r(" "+o(S(s(v).timestamp)),1)])])])])])):f("",!0),s(V)?(i(),d("div",vt,[e("div",bt,[t[42]||(t[42]=e("svg",{class:"w-6 h-6 text-blue-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",_t,[t[41]||(t[41]=e("h4",{class:"text-sm font-medium text-blue-900"},"Report Scheduled Successfully",-1)),e("div",yt,[e("p",null,[t[36]||(t[36]=e("strong",null,"Schedule ID:",-1)),r(" "+o(s(V).schedule_id),1)]),e("p",null,[t[37]||(t[37]=e("strong",null,"Report Name:",-1)),r(" "+o(s(V).report_name),1)]),e("p",null,[t[38]||(t[38]=e("strong",null,"Frequency:",-1)),r(" "+o(s(V).scheduled_period),1)]),e("p",null,[t[39]||(t[39]=e("strong",null,"Next Run:",-1)),r(" "+o(S(s(V).next_run)),1)]),t[40]||(t[40]=e("p",null,[e("strong",null,"Status:"),r(),e("span",{class:"text-green-600 font-medium"},"Active")],-1))])])])])):f("",!0),s(p)?(i(),d("div",{key:3,class:z(["mt-6 rounded-xl p-6",s(p).alert_triggered?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"])},[e("div",ht,[(i(),d("svg",{class:z(["w-6 h-6 flex-shrink-0",s(p).alert_triggered?"text-red-600":"text-green-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[s(p).alert_triggered?(i(),d("path",wt)):(i(),d("path",kt))],2)),e("div",Vt,[e("h4",{class:z(["text-sm font-medium",s(p).alert_triggered?"text-red-900":"text-green-900"])},o(s(p).alert_triggered?"Alert Triggered!":"All Clear"),3),e("div",{class:z(["mt-2 text-sm space-y-1",s(p).alert_triggered?"text-red-700":"text-green-700"])},[e("p",null,[t[43]||(t[43]=e("strong",null,"Item:",-1)),r(" "+o(s(p).item),1)]),e("p",null,[t[44]||(t[44]=e("strong",null,"Current Value:",-1)),r(" "+o(s(p).current_value),1)]),e("p",null,[t[45]||(t[45]=e("strong",null,"Threshold:",-1)),r(" "+o(s(p).threshold_value),1)]),e("p",null,o(s(p).message),1),s(p).alert_triggered&&s(p).notification_sent?(i(),d("div",zt,[e("p",Ct,[t[46]||(t[46]=e("strong",null,"Alert ID:",-1)),r(" "+o(s(p).alert_id),1)]),e("p",null,[t[47]||(t[47]=e("strong",null,"Notification Sent:",-1)),r(" "+o(S((Y=s(p).notification_details)==null?void 0:Y.sent_at)),1)])])):f("",!0)],2)])])],2)):f("",!0)])]),(i(),A(H,{to:"body"},[F.value?(i(),d("div",jt,[e("div",St,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:N}),e("div",At,[e("div",Ut,[e("div",Dt,[t[50]||(t[50]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",Mt,[t[49]||(t[49]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Export Data",-1)),e("div",Ft,[e("p",Rt," Selected datasets: "+o(y.value.join(", ")),1),m(a,{options:["excel","csv","json"],modelValue:j.value,"onUpdate:modelValue":t[4]||(t[4]=n=>j.value=n),label:"Select Export Format"},null,8,["modelValue"])])])])]),e("div",Bt,[e("button",{onClick:ce,disabled:s(G),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[s(G)?(i(),d("span",Lt,[m(U,{size:"sm"}),t[51]||(t[51]=r(" Exporting... "))])):(i(),d("span",Et,"Export"))],8,Nt),e("button",{onClick:N,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):f("",!0)])),(i(),A(H,{to:"body"},[R.value?(i(),d("div",Tt,[e("div",Ht,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:E}),e("div",Ot,[e("div",qt,[e("div",Gt,[t[53]||(t[53]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",It,[t[52]||(t[52]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Schedule Report",-1)),e("div",$t,[e("div",null,[m(g,{modelValue:x.value.report_name,"onUpdate:modelValue":t[5]||(t[5]=n=>x.value.report_name=n),type:"text",label:"Report Name",position:"standalone"},null,8,["modelValue"])]),e("div",null,[m(a,{options:["daily","weekly","monthly"],modelValue:x.value.scheduled_period,"onUpdate:modelValue":t[6]||(t[6]=n=>x.value.scheduled_period=n),label:"Frequency"},null,8,["modelValue"])]),e("div",null,[m(g,{modelValue:x.value.recipient_emails_text,"onUpdate:modelValue":t[7]||(t[7]=n=>x.value.recipient_emails_text=n),rows:2,type:"textarea",label:"Recipient Emails (comma-separated)"},null,8,["modelValue"])]),e("div",null,[m(g,{modelValue:x.value.recipient_roles_text,"onUpdate:modelValue":t[8]||(t[8]=n=>x.value.recipient_roles_text=n),type:"text",label:"Recipient Roles (comma-separated)"},null,8,["modelValue"])])])])])]),e("div",Pt,[e("button",{onClick:ge,disabled:s(q)||!x.value.report_name,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 bg-[#005B8F] text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[s(q)?(i(),d("span",Wt,[m(U,{size:"sm"}),t[54]||(t[54]=r(" Scheduling... "))])):(i(),d("span",Qt,"Schedule"))],8,Kt),e("button",{onClick:E,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-3 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):f("",!0)])),(i(),A(H,{to:"body"},[B.value?(i(),d("div",Jt,[e("div",Xt,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:L}),e("div",Yt,[e("div",Zt,[e("div",es,[t[59]||(t[59]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-[#005b8f]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])],-1)),e("div",ts,[t[58]||(t[58]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Check & Notify Alerts",-1)),e("div",ss,[e("div",null,[m(g,{modelValue:u.value.item,"onUpdate:modelValue":t[9]||(t[9]=n=>u.value.item=n),type:"text",label:"Item Name"},null,8,["modelValue"])]),e("div",null,[m(g,{modelValue:u.value.units,"onUpdate:modelValue":t[10]||(t[10]=n=>u.value.units=n),type:"text",label:"Units"},null,8,["modelValue"])]),e("div",ls,[e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Threshold Value",-1)),m(g,{modelValue:u.value.threshold_value,"onUpdate:modelValue":t[11]||(t[11]=n=>u.value.threshold_value=n),modelModifiers:{number:!0},type:"number",label:"Threshold Value"},null,8,["modelValue"])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Value",-1)),m(g,{modelValue:u.value.current_value,"onUpdate:modelValue":t[12]||(t[12]=n=>u.value.current_value=n),modelModifiers:{number:!0},type:"number",label:"Current Value"},null,8,["modelValue"])])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Admin Notes (optional)",-1)),m(g,{modelValue:u.value.admin_notes,"onUpdate:modelValue":t[13]||(t[13]=n=>u.value.admin_notes=n),label:"Admin Notes (optional)",rows:2},null,8,["modelValue"])])])])])]),e("div",os,[e("button",{onClick:_e,disabled:s(I)||!u.value.item||!u.value.units,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-[#005B8F] text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[s(I)?(i(),d("span",rs,[m(U,{size:"sm"}),t[60]||(t[60]=r(" Checking... "))])):(i(),d("span",is,"Check & Notify"))],8,ns),e("button",{onClick:L,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):f("",!0)]))])]}),_:1})}}}),_s=Ce(as,[["__scopeId","data-v-e92fb4ed"]]);export{_s as default};
