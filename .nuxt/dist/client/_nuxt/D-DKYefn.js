import{_ as Fe}from"./C0bG9IaZ.js";import{_ as je}from"./CsZ3gmJx.js";import{e as oe,r as z,p as U,m as fe,B as Ce,c as i,o as r,x as A,a as e,b as S,t as d,F as q,z as P,d as w,k as ee,n as T,w as ve,g as Re,v as Ae,T as Me,l as De,q as te,s as Te,h as a,A as ge,_ as Be}from"./Cg4hTmiE.js";import{r as le,u as Ue}from"./oLaijwJc.js";import{u as ne}from"./BTL_lBg7.js";import{u as Ee,a as Le}from"./AERNjgPa.js";import"./DgjJmHsf.js";const Ne={key:0,class:"block text-sm font-medium text-gray-700 mb-2"},Oe={class:"flex flex-wrap gap-1 flex-1"},Ye={key:0,class:"text-gray-400"},Ie=["onClick"],He={key:0,class:"absolute z-50 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto"},qe={key:0,class:"p-2 border-b border-gray-200"},Pe=["checked",".indeterminate"],Ge={key:2},We=["onClick"],Qe=["checked"],Ke={class:"text-sm text-gray-700"},Je={key:3,class:"px-3 py-4 text-sm text-gray-500 text-center"},Xe=oe({__name:"MultiSelect",props:{modelValue:{},options:{},label:{default:""},placeholder:{default:"Select items..."},searchable:{type:Boolean,default:!0},selectAll:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(C,{emit:V}){const n=C,D=V,h=z(null),p=z(!1),f=z(""),x=U(()=>n.options.filter(k=>n.modelValue.includes(k.value))),u=U(()=>{if(!f.value)return n.options;const k=f.value.toLowerCase();return n.options.filter(v=>v.label.toLowerCase().includes(k))}),g=U(()=>n.options.length>0&&n.modelValue.length===n.options.length),_=U(()=>n.modelValue.length>0&&n.modelValue.length<n.options.length),I=k=>n.modelValue.includes(k),G=()=>{p.value=!p.value,p.value||(f.value="")},E=k=>{const v=[...n.modelValue],m=v.indexOf(k.value);m>-1?v.splice(m,1):v.push(k.value),D("update:modelValue",v)},K=k=>{const v=n.modelValue.filter(m=>m!==k);D("update:modelValue",v)},H=()=>{g.value?D("update:modelValue",[]):D("update:modelValue",n.options.map(k=>k.value))},y=k=>{h.value&&!h.value.contains(k.target)&&(p.value=!1,f.value="")};return fe(()=>{document.addEventListener("click",y)}),Ce(()=>{document.removeEventListener("click",y)}),(k,v)=>(r(),i("div",{class:"relative",ref_key:"multiselectRef",ref:h},[k.label?(r(),i("label",Ne,d(k.label),1)):A("",!0),e("div",{onClick:G,class:T(["w-full px-3 py-3 border-[0.5px] border-gray-100 outline-none rounded-xl focus:outline-nonecursor-pointer bg-white min-h-[42px] flex items-center justify-between",{"ring-2 ring-blue-500":p.value}])},[e("div",Oe,[x.value.length===0?(r(),i("span",Ye,d(k.placeholder),1)):A("",!0),(r(!0),i(q,null,P(x.value,m=>(r(),i("span",{key:m.value,class:"inline-flex items-center gap-1 px-2 py-2 bg-blue-100 text-blue-800 rounded-full text-sm"},[w(d(m.label)+" ",1),e("button",{onClick:ee(Y=>K(m.value),["stop"]),class:"hover:text-blue-600 focus:outline-none"},v[4]||(v[4]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Ie)]))),128))]),(r(),i("svg",{class:T(["w-5 h-5 text-gray-400 transition-transform",{"transform rotate-180":p.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},v[5]||(v[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),S(Me,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:ve(()=>[p.value?(r(),i("div",He,[k.searchable?(r(),i("div",qe,[Re(e("input",{"onUpdate:modelValue":v[0]||(v[0]=m=>f.value=m),type:"text",placeholder:"Search...",class:"custom-input",onClick:v[1]||(v[1]=ee(()=>{},["stop"]))},null,512),[[Ae,f.value]])])):A("",!0),k.selectAll?(r(),i("div",{key:1,class:"px-3 py-2 hover:bg-gray-50 cursor-pointer border-b border-gray-200 flex items-center gap-2",onClick:H},[e("input",{type:"checkbox",checked:g.value,".indeterminate":_.value,class:"custom-checkbox",onClick:v[2]||(v[2]=ee(()=>{},["stop"]))},null,40,Pe),v[6]||(v[6]=e("span",{class:"text-sm font-medium text-gray-700"},"Select All",-1))])):A("",!0),u.value.length>0?(r(),i("div",Ge,[(r(!0),i(q,null,P(u.value,m=>(r(),i("div",{key:m.value,class:"px-3 py-2 hover:bg-gray-50 cursor-pointer flex items-center gap-2",onClick:Y=>E(m)},[e("input",{type:"checkbox",checked:I(m.value),class:"custom-checkbox",onClick:v[3]||(v[3]=ee(()=>{},["stop"]))},null,8,Qe),e("span",Ke,d(m.label),1)],8,We))),128))])):(r(),i("div",Je," No options found "))])):A("",!0)]),_:1})],512))}}),Ze=()=>{const C=z(!1),V=z(null),{showToast:n}=ne();return{loading:C,utilizationData:V,getUtilizationLevel:async h=>{var p,f,x,u;C.value=!0;try{const g=await le.$_get_utilization_level(h);if(g.type!=="ERROR")return V.value=g.data,g.data;{const _=((x=(f=(p=g==null?void 0:g.data)==null?void 0:p.detail)==null?void 0:f[0])==null?void 0:x.msg)||((u=g==null?void 0:g.data)==null?void 0:u.error)||"Failed to fetch utilization data";return n({title:"Error",message:_,toastType:"error",duration:3e3}),null}}catch(g){return n({title:"Error",message:(g==null?void 0:g.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{C.value=!1}}}},et=()=>{const C=z(!1),{showToast:V}=ne();return{loading:C,scheduleReport:async D=>{var h,p,f,x;C.value=!0;try{const u=await le.$_schedule_report(D);if(u.type!=="ERROR")return V({title:"Success",message:"Report scheduled successfully",toastType:"success",duration:3e3}),u.data;{const g=((f=(p=(h=u==null?void 0:u.data)==null?void 0:h.detail)==null?void 0:p[0])==null?void 0:f.msg)||((x=u==null?void 0:u.data)==null?void 0:x.error)||"Failed to schedule report";return V({title:"Error",message:g,toastType:"error",duration:3e3}),null}}catch(u){return V({title:"Error",message:(u==null?void 0:u.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{C.value=!1}}}},tt=()=>{const C=z(!1),{showToast:V}=ne();return{loading:C,exportData:async D=>{var h,p,f,x;C.value=!0;try{const u=await le.$_export_data(D);if(u.type!=="ERROR")return V({title:"Success",message:"Data exported successfully",toastType:"success",duration:3e3}),u.data;{const g=((f=(p=(h=u==null?void 0:u.data)==null?void 0:h.detail)==null?void 0:p[0])==null?void 0:f.msg)||((x=u==null?void 0:u.data)==null?void 0:x.error)||"Failed to export data";return V({title:"Error",message:g,toastType:"error",duration:3e3}),null}}catch(u){return V({title:"Error",message:(u==null?void 0:u.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{C.value=!1}}}},st=()=>{const C=z(!1),V=z(null),{showToast:n}=ne();return{loading:C,alertResponse:V,checkAndNotifyAlerts:async h=>{var p,f,x,u,g;C.value=!0,V.value=null;try{const _=await le.$_check_and_notify_alerts(h);if(_.type!=="ERROR")return V.value=_.data,(p=_.data)!=null&&p.alert_triggered?n({title:"Alert Triggered",message:_.data.message||"Alert has been triggered and notifications sent",toastType:"warning",duration:5e3}):n({title:"All Clear",message:_.data.message||"Inventory levels are normal",toastType:"success",duration:3e3}),_.data;{const I=((u=(x=(f=_==null?void 0:_.data)==null?void 0:f.detail)==null?void 0:x[0])==null?void 0:u.msg)||((g=_==null?void 0:_.data)==null?void 0:g.error)||"Failed to check alerts";return n({title:"Error",message:I,toastType:"error",duration:3e3}),null}}catch(_){return n({title:"Error",message:(_==null?void 0:_.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{C.value=!1}}}},ot={key:0,class:"block text-sm font-medium text-gray-700 mb-2"},lt={class:"flex items-center gap-2 text-sm"},nt={key:0,class:"text-gray-900"},rt={key:1,class:"text-gray-400"},at={class:"flex flex-wrap gap-2 mb-4 pb-4 border-b border-gray-100"},it=["onClick"],dt={class:"flex flex-col sm:flex-row gap-4"},ut={class:"flex-1"},ct={class:"mb-3"},mt={class:"flex justify-between items-center mb-3"},pt={class:"font-semibold text-sm"},gt={class:"grid grid-cols-7 gap-1 mb-2"},ft={class:"grid grid-cols-7 gap-1"},vt=["onClick","disabled"],xt={class:"flex-1"},bt={class:"mb-3"},ht={class:"flex justify-between items-center mb-3"},yt={class:"font-semibold text-sm"},wt={class:"grid grid-cols-7 gap-1 mb-2"},_t={class:"grid grid-cols-7 gap-1"},kt=["onClick","disabled"],Vt=oe({__name:"DateRangePicker",props:{modelValue:{},label:{default:""},placeholder:{default:"Select date range"},format:{default:"MM/DD/YYYY"},pickerWidth:{default:"w-full sm:w-[600px]"}},emits:["update:modelValue"],setup(C,{emit:V}){const n=C,D=V,h=z(null),p=z(!1),f=z(new Date),x=z(new Date),u=["Su","Mo","Tu","We","Th","Fr","Sa"],g=[{label:"Today",getValue:()=>{const s=y(new Date);return{from:s,to:s}}},{label:"Yesterday",getValue:()=>{const s=new Date;s.setDate(s.getDate()-1);const o=y(s);return{from:o,to:o}}},{label:"Last 7 Days",getValue:()=>{const s=new Date,o=new Date;return o.setDate(o.getDate()-6),{from:y(o),to:y(s)}}},{label:"Last 30 Days",getValue:()=>{const s=new Date,o=new Date;return o.setDate(o.getDate()-29),{from:y(o),to:y(s)}}},{label:"This Month",getValue:()=>{const s=new Date,o=new Date(s.getFullYear(),s.getMonth(),1),l=new Date(s.getFullYear(),s.getMonth()+1,0);return{from:y(o),to:y(l)}}},{label:"Last Month",getValue:()=>{const s=new Date,o=new Date(s.getFullYear(),s.getMonth()-1,1),l=new Date(s.getFullYear(),s.getMonth(),0);return{from:y(o),to:y(l)}}}],_=U(()=>{if(!n.modelValue.from&&!n.modelValue.to)return"";const s=n.modelValue.from?k(n.modelValue.from):"",o=n.modelValue.to?k(n.modelValue.to):"";return s&&o?`${s} - ${o}`:s?`From ${s}`:o?`To ${o}`:""}),I=U(()=>f.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),G=U(()=>x.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),E=U(()=>H(f.value,n.modelValue.from)),K=U(()=>H(x.value,n.modelValue.to)),H=(s,o)=>{const l=[],j=s.getFullYear(),L=s.getMonth(),re=new Date(j,L,1),ae=new Date(j,L+1,0),ie=re.getDay(),Z=ae.getDate(),de=new Date(j,L,0).getDate();for(let R=ie-1;R>=0;R--){const O=de-R,ce=y(new Date(j,L-1,O));l.push({day:O,date:ce,isCurrentMonth:!1,isSelected:!1})}for(let R=1;R<=Z;R++){const O=y(new Date(j,L,R));l.push({day:R,date:O,isCurrentMonth:!0,isSelected:O===o})}const ue=42-l.length;for(let R=1;R<=ue;R++){const O=y(new Date(j,L+1,R));l.push({day:R,date:O,isCurrentMonth:!1,isSelected:!1})}return l},y=s=>{const o=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0"),j=String(s.getDate()).padStart(2,"0");return`${o}-${l}-${j}`},k=s=>{if(!s)return"";const o=new Date(s),l=String(o.getMonth()+1).padStart(2,"0"),j=String(o.getDate()).padStart(2,"0"),L=o.getFullYear();return`${l}/${j}/${L}`},v=s=>n.modelValue.from?new Date(s)<new Date(n.modelValue.from):!1,m=s=>{if(!n.modelValue.from||!n.modelValue.to)return!1;const o=new Date(s),l=new Date(n.modelValue.from),j=new Date(n.modelValue.to);return o>=l&&o<=j},Y=(s,o)=>{const l=["p-2 text-sm rounded"];return s.isCurrentMonth?(l.push("text-gray-900 hover:bg-blue-50 cursor-pointer"),s.isSelected?l.push("bg-[#005B8F] text-white hover:bg-[#004a73]"):m(s.date)&&l.push("bg-blue-100"),o==="to"&&v(s.date)&&l.push("text-gray-300 cursor-not-allowed hover:bg-transparent")):l.push("text-gray-300 cursor-not-allowed"),l.join(" ")},N=()=>{if(p.value=!p.value,p.value){if(n.modelValue.from&&(f.value=new Date(n.modelValue.from)),n.modelValue.to)x.value=new Date(n.modelValue.to);else if(n.modelValue.from){const s=new Date(n.modelValue.from);s.setMonth(s.getMonth()+1),x.value=s}}},$=(s,o)=>{s==="from"?f.value=new Date(f.value.getFullYear(),f.value.getMonth()+o,1):x.value=new Date(x.value.getFullYear(),x.value.getMonth()+o,1)},W=(s,o)=>{const l={...n.modelValue};s==="from"?(l.from=o,l.to&&new Date(o)>new Date(l.to)&&(l.to="")):l.to=o,D("update:modelValue",l)},J=s=>{const o=s.getValue();D("update:modelValue",o),f.value=new Date(o.from),x.value=new Date(o.to)},X=()=>{D("update:modelValue",{from:"",to:""}),f.value=new Date,x.value=new Date},Q=()=>{p.value=!1},F=s=>{h.value&&!h.value.contains(s.target)&&(p.value=!1)};return fe(()=>{document.addEventListener("click",F)}),Ce(()=>{document.removeEventListener("click",F)}),(s,o)=>(r(),i("div",{class:"relative",ref_key:"dateRangeRef",ref:h},[s.label?(r(),i("label",ot,d(s.label),1)):A("",!0),e("div",{onClick:N,class:T(["w-full px-3 py-3.5 border-[0.5px] border-gray-100 rounded-md outline-none cursor-pointer bg-white flex items-center justify-between",{"":p.value}])},[e("div",lt,[o[4]||(o[4]=e("svg",{class:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),_.value?(r(),i("span",nt,d(_.value),1)):(r(),i("span",rt,d(s.placeholder),1))]),(r(),i("svg",{class:T(["w-5 h-5 text-gray-400 transition-transform",{"transform rotate-180":p.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},o[5]||(o[5]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))],2),S(Me,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:ve(()=>[p.value?(r(),i("div",{key:0,class:T(["absolute z-50 mt-1 bg-white border-[0.5px] border-gray-100 rounded-lg shadow-lg p-4",s.pickerWidth])},[e("div",at,[(r(),i(q,null,P(g,l=>e("button",{key:l.label,onClick:j=>J(l),class:"px-3 py-1 text-sm border-[0.5px] border-gray-100 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},d(l.label),9,it)),64))]),e("div",dt,[e("div",ut,[o[8]||(o[8]=e("div",{class:"text-sm font-medium text-gray-700 mb-3"},"From",-1)),e("div",ct,[e("div",mt,[e("button",{onClick:o[0]||(o[0]=l=>$("from",-1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},o[6]||(o[6]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("span",pt,d(I.value),1),e("button",{onClick:o[1]||(o[1]=l=>$("from",1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},o[7]||(o[7]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),e("div",gt,[(r(),i(q,null,P(u,l=>e("div",{key:l,class:"text-center text-xs font-semibold text-gray-600 py-1"},d(l),1)),64))]),e("div",ft,[(r(!0),i(q,null,P(E.value,l=>(r(),i("button",{key:l.date,onClick:j=>W("from",l.date),disabled:!l.isCurrentMonth,class:T(Y(l,"from"))},d(l.day),11,vt))),128))])])]),e("div",xt,[o[11]||(o[11]=e("div",{class:"text-sm font-medium text-gray-700 mb-3"},"To",-1)),e("div",bt,[e("div",ht,[e("button",{onClick:o[2]||(o[2]=l=>$("to",-1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},o[9]||(o[9]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),e("span",yt,d(G.value),1),e("button",{onClick:o[3]||(o[3]=l=>$("to",1)),class:"p-1 hover:bg-gray-50 rounded focus:outline-none"},o[10]||(o[10]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),e("div",wt,[(r(),i(q,null,P(u,l=>e("div",{key:l,class:"text-center text-xs font-semibold text-gray-600 py-1"},d(l),1)),64))]),e("div",_t,[(r(!0),i(q,null,P(K.value,l=>(r(),i("button",{key:l.date,onClick:j=>W("to",l.date),disabled:!l.isCurrentMonth||v(l.date),class:T(Y(l,"to"))},d(l.day),11,kt))),128))])])])]),e("div",{class:"flex justify-end gap-2 pt-4 border-t border-gray-100"},[e("button",{onClick:X,class:"px-4 py-2 text-sm text-gray-700 bg-gray-50 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500"}," Clear "),e("button",{onClick:Q,class:"px-4 py-2 text-sm text-white bg-[#005B8F] hover:bg-[#004a73] rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}," Apply ")])],2)):A("",!0)]),_:1})],512))}}),se=oe({__name:"LoadingSpinner",props:{size:{default:"md"},color:{default:"text-blue-600"}},setup(C){const V=C,n=U(()=>({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"})[V.size]),D=U(()=>`flex justify-center items-center ${V.color}`);return(h,p)=>(r(),i("div",{class:T(D.value)},[(r(),i("svg",{class:T(["animate-spin",n.value]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},p[0]||(p[0]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),2))],2))}}),Dt={class:"min-h-screen"},Ct={class:"px-4 sm:px-6 lg:px-8 py-6 sm:py-8"},Mt={key:0,class:"mb-6 bg-white rounded-xl shadow-sm border border-gray-100 p-6"},zt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},St={class:"text-center p-6 bg-blue-50 rounded-lg"},$t={class:"text-3xl font-bold text-blue-900"},Ft={class:"text-center p-6 bg-green-50 rounded-lg"},jt={class:"text-3xl font-bold text-green-900"},Rt={class:"text-center p-6 bg-purple-50 rounded-lg"},At={class:"text-3xl font-bold text-purple-900"},Tt={class:"mt-4 flex items-center justify-between text-xs text-gray-500"},Bt={class:"mb-6"},Ut={class:"flex justify-between items-center pb-6"},Et={class:"flex flex-col sm:flex-row gap-3 sm:gap-4 sm:justify-end"},Lt=["disabled"],Nt={key:0},Ot={key:1,class:"flex items-center justify-center gap-2"},Yt={class:"bg-white rounded-xl p-6 space-y-4 shadow-sm border border-gray-100"},It={class:"my-6"},Ht={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},qt={class:"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200"},Pt=["disabled"],Gt=["disabled"],Wt={key:0,class:"mt-6 bg-gradient-to-r from-purple-50 to-blue-50 rounded-xl p-6 shadow-sm border border-purple-100"},Qt={class:"text-lg font-medium text-gray-900 mb-4"},Kt={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Jt={class:"bg-white rounded-lg p-4 shadow-sm"},Xt={class:"text-2xl font-bold text-gray-900"},Zt={class:"bg-white rounded-lg p-4 shadow-sm"},es={class:"text-2xl font-bold text-blue-900"},ts={class:"bg-white rounded-lg p-4 shadow-sm"},ss={key:1,class:"mt-6 bg-green-50 border border-green-200 rounded-xl p-6"},os={class:"flex items-start gap-3"},ls={class:"flex-1"},ns={class:"mt-2 text-sm text-green-700 space-y-1"},rs={key:2,class:"mt-6 bg-blue-50 border border-blue-200 rounded-xl p-6"},as={class:"flex items-start gap-3"},is={class:"flex-1"},ds={class:"mt-2 text-sm text-blue-700 space-y-1"},us={class:"flex items-start gap-3"},cs={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"},ms={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},ps={class:"flex-1"},gs={key:0},fs={class:"mt-2"},vs={key:0,class:"fixed backdrop-blur-lg inset-0 z-[9999] overflow-y-auto"},xs={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},bs={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},hs={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ys={class:"sm:flex sm:items-start"},ws={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},_s={class:"mt-4"},ks={class:"text-sm text-gray-500 mb-4"},Vs={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2"},Ds=["disabled"],Cs={key:0},Ms={key:1,class:"flex items-center gap-2"},zs={key:0,class:"fixed backdrop-blur-lg inset-0 z-[9999] overflow-y-auto"},Ss={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},$s={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Fs={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},js={class:"sm:flex sm:items-start"},Rs={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},As={class:"mt-4 space-y-4"},Ts={class:"bg-gray-50 px-4 py-3 sm:px-6 w-full sm:flex sm:flex-row-reverse gap-2"},Bs=["disabled"],Us={key:0},Es={key:1,class:"flex items-center gap-2"},Ls={key:0,class:"fixed backdrop-blur-lg inset-0 z-[9999] overflow-y-auto"},Ns={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0"},Os={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},Ys={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Is={class:"sm:flex sm:items-start"},Hs={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-1"},qs={class:"mt-4 space-y-4"},Ps={class:"grid grid-cols-2 gap-4"},Gs={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-2"},Ws=["disabled"],Qs={key:0},Ks={key:1,class:"flex items-center gap-2"},Js=oe({__name:"index",setup(C){const{loading:V,dashboardData:n,getDashboardData:D}=Ue(),{sites:h,getSites:p}=Ee(),{freezers:f,getFreezers:x}=Le(),{loading:u,utilizationData:g,getUtilizationLevel:_}=Ze(),{scheduleReport:I,loading:G,scheduleData:E}=et(),{exportData:K,loading:H,exportData:y}=tt(),{checkAndNotifyAlerts:k,loading:v,alertResponse:m}=st(),Y=z({from:"",to:""}),N=z([]),$=z({site_id:"",freezer_id:""}),W=z(!1),J=z(!1),X=z(!1),Q=z("excel"),F=z({report_name:"",scheduled_period:"weekly",recipient_emails_text:"",recipient_roles_text:""}),s=z({item:"",units:"",threshold_value:0,current_value:0,admin_notes:""}),o=[{value:"samples",label:"Samples"},{value:"workflows",label:"Workflows"},{value:"freezer_inventory",label:"Freezer Inventory"},{value:"alerts",label:"Alerts"},{value:"audit_logs",label:"Audit Logs"},{value:"utilization_metrics",label:"Utilization Metrics"},{value:"chain_of_custody",label:"Chain of Custody"}],l=c=>c?new Date(c).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",j=c=>c>=90?"text-red-600":c>=75?"text-orange-600":c>=50?"text-yellow-600":"text-green-600",L=()=>{$.value={site_id:"",freezer_id:""},N.value=[],Y.value={from:"",to:""},y.value=null,E.value=null,m.value=null,g.value=null,D()},re=async()=>{var c;if($.value.site_id&&$.value.site_id!=="All Sites"){const t=(c=h.value)==null?void 0:c.find(M=>M.site_name===$.value.site_id);if(t){await D(t.site_id);return}}await D()},ae=async()=>{var t;if(!$.value.freezer_id){alert("Please select a Freezer");return}const c=(t=f.value)==null?void 0:t.find(M=>M.freezer_name===$.value.freezer_id);c&&await _(c.freezer_id)},ie=()=>{if(N.value.length===0){alert("Please select at least one dataset to export");return}W.value=!0},Z=()=>{W.value=!1,Q.value="excel"},de=async()=>{try{await K({items_to_export:N.value,format:Q.value}),Z()}catch(c){console.error("Export error:",c)}},ue=()=>{J.value=!0},R=()=>{J.value=!1,F.value={report_name:"",scheduled_period:"weekly",recipient_emails_text:"",recipient_roles_text:""}},O=async()=>{try{const c=F.value.recipient_emails_text.split(",").map(M=>M.trim()).filter(M=>M.length>0),t=F.value.recipient_roles_text.split(",").map(M=>M.trim()).filter(M=>M.length>0);await I({report_name:F.value.report_name,scheduled_period:F.value.scheduled_period,recipient_emails:c.length>0?c:void 0,recipient_roles:t.length>0?t:void 0}),R()}catch(c){console.error("Schedule error:",c)}},ce=U(()=>!h.value||h.value.length===0?["All Sites"]:["All Sites",...h.value.map(c=>c.site_name)]),ze=U(()=>!f.value||f.value.length===0?[]:f.value.map(c=>c.freezer_name));De(()=>$.value.site_id,async(c,t)=>{var M;if(c!==t)if(c&&c!=="All Sites"){const B=(M=h.value)==null?void 0:M.find(pe=>pe.site_name===c);B&&await D(B.site_id)}else await D()}),De(()=>$.value.site_id,async c=>{var t;if(c&&c!=="All Sites"){const M=(t=h.value)==null?void 0:t.find(B=>B.site_name===c);M&&await x(M.site_id)}else await x();$.value.freezer_id=""});const Se=()=>{X.value=!0},me=()=>{X.value=!1,s.value={item:"",units:"",threshold_value:0,current_value:0,admin_notes:""}},$e=async()=>{try{await k({threshold_data:{item:s.value.item,units:s.value.units,number:s.value.threshold_value,admin_notes:s.value.admin_notes||void 0},current_value:s.value.current_value}),me()}catch(c){console.error("Alert check error:",c)}};return fe(async()=>{await D(),await p(),await x()}),(c,t)=>{const M=Fe,B=je,pe=Te;return r(),te(pe,{name:"dashboard"},{default:ve(()=>{var xe,be,he,ye,we,_e,ke,Ve;return[e("div",Dt,[e("div",Ct,[t[48]||(t[48]=e("div",{class:"sm:mb-8 rounded-xl bg-[#005B8F] px-6 md:px-8 py-4 mb-6"},[e("h1",{class:"text-2xl font-semibold text-white"},"Reports & Analytics"),e("p",{class:"mt-2 text-base text-white"}," Generate, export, and schedule biosample reports. Monitor dashboard metrics and set up automated alerts. ")],-1)),a(n)?(r(),i("div",Mt,[t[17]||(t[17]=e("h2",{class:"text-lg font-medium text-gray-900 mb-4"},"Dashboard Overview",-1)),e("div",zt,[e("div",St,[e("p",$t,d(((xe=a(n).metrics)==null?void 0:xe.total_records)||0),1),t[14]||(t[14]=e("p",{class:"text-sm text-gray-600 mt-2"},"Total Records",-1))]),e("div",Ft,[e("p",jt,d(((be=a(n).metrics)==null?void 0:be.new_records_last_24h)||0),1),t[15]||(t[15]=e("p",{class:"text-sm text-gray-600 mt-2"},"New Records (24h)",-1))]),e("div",Rt,[e("p",At,d(((((he=a(n).metrics)==null?void 0:he.data_quality_score)||0)*100).toFixed(1))+"%",1),t[16]||(t[16]=e("p",{class:"text-sm text-gray-600 mt-2"},"Data Quality Score",-1))])]),e("div",Tt,[e("span",null,"Scope: "+d(((ye=a(n).metrics)==null?void 0:ye.scope)||"N/A"),1),e("span",null,"Last Updated: "+d(l(a(n).timestamp)),1)])])):A("",!0),e("div",Bt,[e("div",Ut,[t[19]||(t[19]=e("h2",{class:"text-lg font-medium text-gray-900"}," Filter & Export Data ",-1)),e("div",Et,[e("button",{onClick:L,class:"w-full sm:w-auto outline-none px-6 py-2.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors"}," Reset Filters "),e("button",{onClick:re,disabled:a(V),class:"w-full sm:w-auto outline-none px-6 py-2.5 bg-[#005B8F] text-white rounded-xl hover:bg-[#004a73] transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},[a(V)?(r(),i("span",Ot,[S(se,{size:"sm"}),t[18]||(t[18]=w(" Loading... "))])):(r(),i("span",Nt,"Refresh Dashboard"))],8,Lt)])]),e("section",Yt,[e("div",null,[S(Vt,{modelValue:Y.value,"onUpdate:modelValue":t[0]||(t[0]=b=>Y.value=b),label:"Date Range",placeholder:"Select date range"},null,8,["modelValue"])]),e("div",It,[S(Xe,{modelValue:N.value,"onUpdate:modelValue":t[1]||(t[1]=b=>N.value=b),options:o,label:"Select Datasets to Export",placeholder:"Choose one or more datasets",searchable:!0,"select-all":!0},null,8,["modelValue"])]),e("div",Ht,[e("div",null,[S(M,{modelValue:$.value.site_id,"onUpdate:modelValue":t[2]||(t[2]=b=>$.value.site_id=b),options:ce.value,label:"Site"},null,8,["modelValue","options"])]),e("div",null,[S(M,{modelValue:$.value.freezer_id,"onUpdate:modelValue":t[3]||(t[3]=b=>$.value.freezer_id=b),options:ze.value,label:"Freezer"},null,8,["modelValue","options"])])]),e("div",qt,[e("button",{onClick:ie,disabled:N.value.length===0,class:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},t[20]||(t[20]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),w(" Export Data ")]),8,Pt),e("button",{onClick:ue,class:"flex items-center justify-center gap-2 px-4 py-3 bg-[#005b8f] text-white rounded-lg transition-colors"},t[21]||(t[21]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),w(" Schedule Report ")])),e("button",{onClick:Se,class:"flex items-center justify-center gap-2 px-4 py-3 bg-[#005B8F] text-white rounded-lg transition-colors"},t[22]||(t[22]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1),w(" Check & Notify Alerts ")])),$.value.freezer_id?(r(),i("button",{key:0,onClick:ae,disabled:a(u),class:"flex items-center justify-center gap-2 px-4 py-3 bg-[#005B8F] text-white rounded-lg transition-colors disabled:opacity-50"},t[23]||(t[23]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1),w(" Check Utilization ")]),8,Gt)):A("",!0)])]),a(g)?(r(),i("div",Wt,[e("h3",Qt," Freezer Utilization: "+d(a(g).freezer_id),1),e("div",Kt,[e("div",Jt,[t[24]||(t[24]=e("p",{class:"text-sm text-gray-600"},"Total Capacity",-1)),e("p",Xt,d(a(g).capacity_total_units)+" units",1)]),e("div",Zt,[t[25]||(t[25]=e("p",{class:"text-sm text-gray-600"},"Units Used",-1)),e("p",es,d(a(g).units_used)+" units",1)]),e("div",ts,[t[26]||(t[26]=e("p",{class:"text-sm text-gray-600"},"Utilization",-1)),e("p",{class:T(["text-2xl font-bold",j(a(g).utilization_percentage)])},d(a(g).utilization_percentage)+"% ",3)])])])):A("",!0),a(y)?(r(),i("div",ss,[e("div",os,[t[35]||(t[35]=e("svg",{class:"w-6 h-6 text-green-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",ls,[t[34]||(t[34]=e("h4",{class:"text-sm font-medium text-green-900"},"Export Completed Successfully",-1)),e("div",ns,[e("p",null,[t[27]||(t[27]=e("strong",null,"Export ID:",-1)),w(" "+d(a(y).export_id),1)]),e("p",null,[t[28]||(t[28]=e("strong",null,"File Name:",-1)),w(" "+d(a(y).file_name),1)]),e("p",null,[t[29]||(t[29]=e("strong",null,"Format:",-1)),w(" "+d((we=a(y).format)==null?void 0:we.toUpperCase()),1)]),e("p",null,[t[30]||(t[30]=e("strong",null,"Total Records:",-1)),w(" "+d(((_e=a(y).preview)==null?void 0:_e.total_records)||0),1)]),e("p",null,[t[31]||(t[31]=e("strong",null,"File Size:",-1)),w(" "+d(((ke=a(y).preview)==null?void 0:ke.file_size_kb)||0)+" KB",1)]),e("p",null,[t[32]||(t[32]=e("strong",null,"Requested By:",-1)),w(" "+d(a(y).requested_by),1)]),e("p",null,[t[33]||(t[33]=e("strong",null,"Timestamp:",-1)),w(" "+d(l(a(y).timestamp)),1)])])])])])):A("",!0),a(E)?(r(),i("div",rs,[e("div",as,[t[42]||(t[42]=e("svg",{class:"w-6 h-6 text-blue-600 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("div",is,[t[41]||(t[41]=e("h4",{class:"text-sm font-medium text-blue-900"},"Report Scheduled Successfully",-1)),e("div",ds,[e("p",null,[t[36]||(t[36]=e("strong",null,"Schedule ID:",-1)),w(" "+d(a(E).schedule_id),1)]),e("p",null,[t[37]||(t[37]=e("strong",null,"Report Name:",-1)),w(" "+d(a(E).report_name),1)]),e("p",null,[t[38]||(t[38]=e("strong",null,"Frequency:",-1)),w(" "+d(a(E).scheduled_period),1)]),e("p",null,[t[39]||(t[39]=e("strong",null,"Next Run:",-1)),w(" "+d(l(a(E).next_run)),1)]),t[40]||(t[40]=e("p",null,[e("strong",null,"Status:"),w(),e("span",{class:"text-green-600 font-medium"},"Active")],-1))])])])])):A("",!0),a(m)?(r(),i("div",{key:3,class:T(["mt-6 rounded-xl p-6",a(m).alert_triggered?"bg-red-50 border border-red-200":"bg-green-50 border border-green-200"])},[e("div",us,[(r(),i("svg",{class:T(["w-6 h-6 flex-shrink-0",a(m).alert_triggered?"text-red-600":"text-green-600"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[a(m).alert_triggered?(r(),i("path",cs)):(r(),i("path",ms))],2)),e("div",ps,[e("h4",{class:T(["text-sm font-medium",a(m).alert_triggered?"text-red-900":"text-green-900"])},d(a(m).alert_triggered?"Alert Triggered!":"All Clear"),3),e("div",{class:T(["mt-2 text-sm space-y-1",a(m).alert_triggered?"text-red-700":"text-green-700"])},[e("p",null,[t[43]||(t[43]=e("strong",null,"Item:",-1)),w(" "+d(a(m).item),1)]),e("p",null,[t[44]||(t[44]=e("strong",null,"Current Value:",-1)),w(" "+d(a(m).current_value),1)]),e("p",null,[t[45]||(t[45]=e("strong",null,"Threshold:",-1)),w(" "+d(a(m).threshold_value),1)]),e("p",null,d(a(m).message),1),a(m).alert_triggered&&a(m).notification_sent?(r(),i("div",gs,[e("p",fs,[t[46]||(t[46]=e("strong",null,"Alert ID:",-1)),w(" "+d(a(m).alert_id),1)]),e("p",null,[t[47]||(t[47]=e("strong",null,"Notification Sent:",-1)),w(" "+d(l((Ve=a(m).notification_details)==null?void 0:Ve.sent_at)),1)])])):A("",!0)],2)])])],2)):A("",!0)])]),(r(),te(ge,{to:"body"},[W.value?(r(),i("div",vs,[e("div",xs,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:Z}),e("div",bs,[e("div",hs,[e("div",ys,[t[50]||(t[50]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-blue-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",ws,[t[49]||(t[49]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Export Data",-1)),e("div",_s,[e("p",ks," Selected datasets: "+d(N.value.join(", ")),1),S(M,{options:["excel","csv","json"],modelValue:Q.value,"onUpdate:modelValue":t[4]||(t[4]=b=>Q.value=b),label:"Select Export Format"},null,8,["modelValue"])])])])]),e("div",Vs,[e("button",{onClick:de,disabled:a(H),class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[a(H)?(r(),i("span",Ms,[S(se,{size:"sm"}),t[51]||(t[51]=w(" Exporting... "))])):(r(),i("span",Cs,"Export"))],8,Ds),e("button",{onClick:Z,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):A("",!0)])),(r(),te(ge,{to:"body"},[J.value?(r(),i("div",zs,[e("div",Ss,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:R}),e("div",$s,[e("div",Fs,[e("div",js,[t[53]||(t[53]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Rs,[t[52]||(t[52]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Schedule Report",-1)),e("div",As,[e("div",null,[S(B,{modelValue:F.value.report_name,"onUpdate:modelValue":t[5]||(t[5]=b=>F.value.report_name=b),type:"text",label:"Report Name",position:"standalone"},null,8,["modelValue"])]),e("div",null,[S(M,{options:["daily","weekly","monthly"],modelValue:F.value.scheduled_period,"onUpdate:modelValue":t[6]||(t[6]=b=>F.value.scheduled_period=b),label:"Frequency"},null,8,["modelValue"])]),e("div",null,[S(B,{modelValue:F.value.recipient_emails_text,"onUpdate:modelValue":t[7]||(t[7]=b=>F.value.recipient_emails_text=b),rows:2,type:"textarea",label:"Recipient Emails (comma-separated)"},null,8,["modelValue"])]),e("div",null,[S(B,{modelValue:F.value.recipient_roles_text,"onUpdate:modelValue":t[8]||(t[8]=b=>F.value.recipient_roles_text=b),type:"text",label:"Recipient Roles (comma-separated)"},null,8,["modelValue"])])])])])]),e("div",Ts,[e("button",{onClick:O,disabled:a(G)||!F.value.report_name,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 bg-[#005B8F] text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[a(G)?(r(),i("span",Es,[S(se,{size:"sm"}),t[54]||(t[54]=w(" Scheduling... "))])):(r(),i("span",Us,"Schedule"))],8,Bs),e("button",{onClick:R,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-3 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):A("",!0)])),(r(),te(ge,{to:"body"},[X.value?(r(),i("div",Ls,[e("div",Ns,[e("div",{class:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:me}),e("div",Os,[e("div",Ys,[e("div",Is,[t[59]||(t[59]=e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-orange-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{class:"h-6 w-6 text-[#005b8f]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})])],-1)),e("div",Hs,[t[58]||(t[58]=e("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Check & Notify Alerts",-1)),e("div",qs,[e("div",null,[S(B,{modelValue:s.value.item,"onUpdate:modelValue":t[9]||(t[9]=b=>s.value.item=b),type:"text",label:"Item Name"},null,8,["modelValue"])]),e("div",null,[S(B,{modelValue:s.value.units,"onUpdate:modelValue":t[10]||(t[10]=b=>s.value.units=b),type:"text",label:"Units"},null,8,["modelValue"])]),e("div",Ps,[e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Threshold Value",-1)),S(B,{modelValue:s.value.threshold_value,"onUpdate:modelValue":t[11]||(t[11]=b=>s.value.threshold_value=b),modelModifiers:{number:!0},type:"number",label:"Threshold Value"},null,8,["modelValue"])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Current Value",-1)),S(B,{modelValue:s.value.current_value,"onUpdate:modelValue":t[12]||(t[12]=b=>s.value.current_value=b),modelModifiers:{number:!0},type:"number",label:"Current Value"},null,8,["modelValue"])])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Admin Notes (optional)",-1)),S(B,{modelValue:s.value.admin_notes,"onUpdate:modelValue":t[13]||(t[13]=b=>s.value.admin_notes=b),label:"Admin Notes (optional)",rows:2},null,8,["modelValue"])])])])])]),e("div",Gs,[e("button",{onClick:$e,disabled:a(v)||!s.value.item||!s.value.units,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-[#005B8F] text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[a(v)?(r(),i("span",Ks,[S(se,{size:"sm"}),t[60]||(t[60]=w(" Checking... "))])):(r(),i("span",Qs,"Check & Notify"))],8,Ws),e("button",{onClick:me,type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):A("",!0)]))])]}),_:1})}}}),no=Be(Js,[["__scopeId","data-v-f61b3d3b"]]);export{no as default};
