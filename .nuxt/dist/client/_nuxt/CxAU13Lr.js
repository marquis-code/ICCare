import{G as a,u as m}from"./DY4jcAV6.js";import{r as c}from"./-CC84MIu.js";const _={$_create_category:t=>a.post("/biospecimen/attributes/categories/",t),$_get_categories:(t=!0)=>a.get("/biospecimen/attributes/categories/",{params:{active_only:t}}),$_get_category:t=>a.get(`/biospecimen/attributes/categories/${t}`)},b=()=>{const t=c(!1),s=c([]),{showToast:r}=m();return{loading:t,categories:s,getCategories:async(g=!1)=>{var o,i,n,l;t.value=!0;try{const e=await _.$_get_categories(g);if(e.type!=="ERROR")return s.value=e.data.categories,e.data.categories;{const u=((n=(i=(o=e==null?void 0:e.data)==null?void 0:o.detail)==null?void 0:i[0])==null?void 0:n.msg)||((l=e==null?void 0:e.data)==null?void 0:l.error)||"Failed to fetch categories";return r({title:"Error",message:u,toastType:"error",duration:3e3}),null}}catch(e){return r({title:"Error",message:(e==null?void 0:e.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{t.value=!1}}}},d={$_create_template:t=>a.post("/biospecimen/attributes/templates/",t),$_get_templates:(t=!0)=>a.get("/biospecimen/attributes/templates/",{params:{active_only:t}}),$_get_template:t=>a.get(`/biospecimen/attributes/templates/${t}`)},T=()=>{const t=c(!1),s=c([]),{showToast:r}=m();return{loading:t,templates:s,getTemplates:async(g=!1)=>{var o,i,n,l;t.value=!0;try{const e=await d.$_get_templates(g);if(e.type!=="ERROR")return s.value=e.data.templates,e.data.templates;{const u=((n=(i=(o=e==null?void 0:e.data)==null?void 0:o.detail)==null?void 0:i[0])==null?void 0:n.msg)||((l=e==null?void 0:e.data)==null?void 0:l.error)||"Failed to fetch templates";return r({title:"Error",message:u,toastType:"error",duration:3e3}),null}}catch(e){return r({title:"Error",message:(e==null?void 0:e.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{t.value=!1}}}};export{T as a,_ as c,d as t,b as u};
