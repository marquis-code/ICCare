import{_ as Et}from"./CsZ3gmJx.js";import{_ as Dt}from"./C0bG9IaZ.js";import{r as u,e as Ct,p as Tt,m as Vt,q as M,w as j,s as It,o as n,a as t,c,x as D,d as ot,F as lt,z as at,n as q,t as d,b as x,h as f,A as Y,T as J,k as Z,_ as Rt}from"./Cg4hTmiE.js";import{G as I,u as H}from"./BTL_lBg7.js";import"./DgjJmHsf.js";const N={$_create_audit_log:o=>I.post("/audit/log",o),$_get_audit_logs:o=>I.get("/audit/logs",{params:o}),$_search_audit_logs:o=>I.post("/audit/search",o),$_export_audit_logs:o=>I.post("/audit/export",o),$_record_custody_event:o=>I.post("/audit/coc/events",o),$_get_custody_events:o=>I.get("/audit/coc/events",{params:o}),$_record_transfer:o=>I.post("/audit/coc/transfer",o),$_get_custody_report:(o,g)=>I.get(`/audit/coc/report/${o}`,{params:{format:g}})},At=()=>{const o=u(!1),g=u(null),{showToast:i}=H();return{loading:o,auditLogs:g,getAuditLogs:async k=>{var m,v,b,r;o.value=!0;try{const a={};k&&Object.keys(k).forEach(p=>{const h=k[p];h!=null&&h!==""&&(a[p]=h)});const l=await N.$_get_audit_logs(a);if(l.type!=="ERROR")return g.value=l.data,l.data;{const p=((b=(v=(m=l==null?void 0:l.data)==null?void 0:m.detail)==null?void 0:v[0])==null?void 0:b.msg)||((r=l==null?void 0:l.data)==null?void 0:r.error)||"Failed to fetch audit logs";return i({title:"Error",message:p,toastType:"error",duration:3e3}),null}}catch(a){return i({title:"Error",message:(a==null?void 0:a.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},St=()=>{const o=u(!1),g=u([]),{showToast:i}=H();return{loading:o,custodyEvents:g,recordCustodyEvent:async m=>{var v,b,r,a;o.value=!0;try{const l=await N.$_record_custody_event(m);if(l.type!=="ERROR")return i({title:"Success",message:"Custody event recorded successfully",toastType:"success",duration:3e3}),l.data;{const p=((r=(b=(v=l==null?void 0:l.data)==null?void 0:v.detail)==null?void 0:b[0])==null?void 0:r.msg)||((a=l==null?void 0:l.data)==null?void 0:a.error)||"Failed to record custody event";return i({title:"Error",message:p,toastType:"error",duration:3e3}),null}}catch(l){return i({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}},getCustodyEvents:async m=>{var v,b,r,a;o.value=!0;try{const l={};m&&Object.keys(m).forEach(h=>{const E=m[h];E!=null&&E!==""&&(l[h]=E)});const p=await N.$_get_custody_events(l);if(p.type!=="ERROR")return g.value=p.data,p.data;{const h=((r=(b=(v=p==null?void 0:p.data)==null?void 0:v.detail)==null?void 0:b[0])==null?void 0:r.msg)||((a=p==null?void 0:p.data)==null?void 0:a.error)||"Failed to fetch custody events";return i({title:"Error",message:h,toastType:"error",duration:3e3}),null}}catch(l){return i({title:"Error",message:(l==null?void 0:l.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},Ft=()=>{const o=u(!1),{showToast:g}=H();return{loading:o,exportAuditLogs:async C=>{var k,m,v,b;o.value=!0;try{const r=await N.$_export_audit_logs(C);if(r.type!=="ERROR")return g({title:"Success",message:`Audit logs exported successfully as ${C.format}`,toastType:"success",duration:3e3}),r.data;{const a=((v=(m=(k=r==null?void 0:r.data)==null?void 0:k.detail)==null?void 0:m[0])==null?void 0:v.msg)||((b=r==null?void 0:r.data)==null?void 0:b.error)||"Failed to export audit logs";return g({title:"Error",message:a,toastType:"error",duration:3e3}),null}}catch(r){return g({title:"Error",message:(r==null?void 0:r.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},Lt=()=>{const o=u(!1),{showToast:g}=H();return{loading:o,generateCustodyReport:async(C,k)=>{var m,v,b,r;o.value=!0;try{const a=await N.$_get_custody_report(C,k);if(a.type!=="ERROR")return g({title:"Success",message:`Custody report generated successfully for ${C}`,toastType:"success",duration:3e3}),a.data;{const l=((b=(v=(m=a==null?void 0:a.data)==null?void 0:m.detail)==null?void 0:v[0])==null?void 0:b.msg)||((r=a==null?void 0:a.data)==null?void 0:r.error)||"Failed to generate custody report";return g({title:"Error",message:l,toastType:"error",duration:3e3}),null}}catch(a){return g({title:"Error",message:(a==null?void 0:a.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{o.value=!1}}}},Mt={class:"min-h-screen"},jt={class:"flex"},Nt={class:"flex-1 p-4 md:p-6 lg:p-8"},Ut={class:"container mx-auto"},Bt={class:"mb-6 border-b border-gray-200"},Ot={class:"-mb-px flex space-x-8"},$t=["onClick"],Pt={key:0,class:"space-y-6"},zt={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-6"},Gt={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},qt={class:"bg-white rounded-xl shadow-sm border border-gray-50 overflow-hidden"},Yt={key:0,class:"flex items-center justify-center py-12"},Jt={key:1,class:"overflow-x-auto"},Zt={class:"w-full"},Ht={class:"divide-y-[0.5px] divide-gray-50 bg-white"},Kt={class:"px-6 py-4 text-sm text-gray-900"},Wt={class:"px-6 py-4 text-sm text-gray-700 font-mono"},Qt={class:"px-6 py-4 text-sm text-gray-700"},Xt={class:"px-6 py-4 text-sm"},te={class:"px-6 py-4 text-sm text-gray-700"},ee={class:"px-6 py-4 text-sm text-gray-700"},se={class:"px-6 py-4 text-sm"},oe=["onClick"],le={key:0},ae={key:2,class:"px-6 py-4 border-t border-gray-200 flex items-center justify-between"},re={class:"text-sm text-gray-700"},ne={class:"flex gap-2"},de=["disabled"],ie=["disabled"],ue={key:1,class:"space-y-6"},ce={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 md:p-6"},pe={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},ye={class:"bg-white rounded-xl shadow-sm border border-gray-50 overflow-hidden"},xe={key:0,class:"flex items-center justify-center py-12"},ge={key:1,class:"overflow-x-auto"},me={class:"w-full"},ve={class:"divide-y-[0.5px] divide-gray-50 bg-white"},be={class:"px-6 py-4 text-sm text-gray-900"},fe={class:"px-6 py-4 text-sm text-gray-700 font-mono"},he={class:"px-6 py-4 text-sm text-gray-700"},_e={class:"px-6 py-4 text-sm text-gray-700"},we={class:"px-6 py-4 text-sm"},ke={class:"px-6 py-4 text-sm text-gray-700"},Ee={class:"px-6 py-4 text-sm text-gray-700"},De={class:"px-6 py-4 text-sm"},Ce=["onClick"],Te={key:0},Ve={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center"},Ie={class:"inline-block w-full max-w-md my-8 overflow-hidden text-left align-middle transition-all transform bg-white rounded-lg shadow-xl"},Re={class:"px-6 py-6 space-y-4"},Ae={class:"flex justify-end gap-3 px-6 py-4 bg-gray-50 border-t border-gray-200"},Se=["disabled"],Fe={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center"},Le={class:"inline-block w-full max-w-lg my-8 overflow-hidden text-left align-middle transition-all transform bg-white rounded-lg shadow-xl"},Me={class:"px-6 py-6 space-y-4"},je={class:"flex justify-end gap-3 px-6 py-4 bg-gray-50 border-t border-gray-200"},Ne=["disabled"],Ue={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center"},Be={class:"inline-block w-full max-w-md my-8 overflow-hidden text-left align-middle transition-all transform bg-white rounded-lg shadow-xl"},Oe={class:"px-6 py-6 space-y-4"},$e={class:"text-sm text-gray-600"},Pe={class:"font-semibold"},ze={class:"flex justify-end gap-3 px-6 py-4 bg-gray-50 border-t border-gray-200"},Ge=["disabled"],qe={class:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center"},Ye={class:"inline-block w-full max-w-2xl my-8 overflow-hidden text-left align-middle transition-all transform bg-white rounded-lg shadow-xl"},Je={key:0,class:"px-6 py-6 space-y-4"},Ze={class:"grid grid-cols-2 gap-4"},He={class:"text-sm text-gray-900"},Ke={class:"text-sm text-gray-900"},We={class:"text-sm text-gray-900"},Qe={class:"text-sm text-gray-900 bg-gray-50 p-4 rounded-lg overflow-x-auto"},Xe=Ct({__name:"activity-log",setup(o){const{loading:g,auditLogs:i,getAuditLogs:C}=At(),{loading:k,custodyEvents:m,recordCustodyEvent:v,getCustodyEvents:b}=St(),{loading:r,exportAuditLogs:a}=Ft(),{loading:l,generateCustodyReport:p}=Lt(),h=u("audit"),E=u(1),K=u(50),ct=[{id:"audit",name:"Audit Logs"},{id:"custody",name:"Chain of Custody"}],y=u({userID:"",actionType:"",keyword:"",startDate:"",endDate:"",limit:K.value,offset:0}),R=u({sampleID:"",userID:"",eventType:"",limit:100,offset:0}),W=u(!1),Q=u(!1),X=u(!1),tt=u(!1),U=u("CSV"),B=u(!1),w=u({sampleID:"",userID:"",eventType:"RECEIVED",notes:""}),O=u(""),$=u("PDF"),V=u(null),rt=Tt(()=>i.value?i.value.offset+i.value.data.length<i.value.total:!1);Vt(async()=>{await P(),await et()});const P=async()=>{await C(y.value)},et=async()=>{await b(R.value)},pt=async()=>{E.value>1&&(E.value--,y.value.offset=(E.value-1)*K.value,await P())},yt=async()=>{rt.value&&(E.value++,y.value.offset=(E.value-1)*K.value,await P())},xt=()=>{W.value=!0},A=()=>{W.value=!1,U.value="CSV"},gt=async()=>{await a({format:U.value,filters:{startDate:y.value.startDate,endDate:y.value.endDate,userID:y.value.userID,actionType:y.value.actionType,keyword:y.value.keyword}})&&A()},mt=()=>{Q.value=!0},S=()=>{Q.value=!1,w.value={sampleID:"",userID:"",eventType:"RECEIVED",notes:""}},vt=async()=>{if(!w.value.sampleID||!w.value.userID||!w.value.eventType){alert("Please fill in all required fields");return}B.value=!0;const _=await v(w.value);B.value=!1,_&&(S(),await et())},bt=_=>{O.value=_,X.value=!0},F=()=>{X.value=!1,O.value="",$.value="PDF"},ft=async()=>{await p(O.value,$.value)&&F()},ht=_=>{V.value=_,tt.value=!0},z=()=>{tt.value=!1,V.value=null},nt=_=>({CREATE:"bg-green-100 text-green-700",UPDATE:"bg-blue-100 text-blue-700",DELETE:"bg-red-100 text-red-700",LOGIN:"bg-purple-100 text-purple-700"})[_]||"bg-gray-100 text-gray-700",_t=_=>({RECEIVED:"bg-blue-100 text-blue-700",TRANSFERRED:"bg-yellow-100 text-yellow-700",ANALYZED:"bg-purple-100 text-purple-700",STORED:"bg-green-100 text-green-700",DISPOSED:"bg-red-100 text-red-700"})[_]||"bg-gray-100 text-gray-700",st=_=>new Date(_).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(_,e)=>{const T=Et,L=Dt,wt=It;return n(),M(wt,{name:"dashboard"},{default:j(()=>{var dt,it,ut;return[t("div",Mt,[t("div",jt,[t("main",Nt,[t("div",Ut,[t("div",{class:"mb-6 flex justify-between items-center rounded-xl bg-[#005B8F] px-6 md:px-8 py-4 mb-6"},[e[15]||(e[15]=t("div",null,[t("h1",{class:"text-xl font-bold text-white"},"Audit & Activity Log"),t("p",{class:"text-base text-white mt-1"},"Track system activities, chain of custody, and generate compliance reports.")],-1)),t("div",{class:"flex gap-2"},[t("button",{onClick:xt,class:"px-4 py-2 text-[#005B8F] bg-[#D8F1FE] font-semibold rounded-lg hover:bg-[#004a73] transition text-sm font-medium shadow-sm flex items-center gap-2"},e[14]||(e[14]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})],-1),ot(" Export Logs ")]))])]),t("div",Bt,[t("nav",Ot,[(n(),c(lt,null,at(ct,s=>t("button",{key:s.id,onClick:G=>h.value=s.id,class:q(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",h.value===s.id?"border-[#005B8F] text-[#005B8F]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},d(s.name),11,$t)),64))])]),h.value==="audit"?(n(),c("div",Pt,[t("div",zt,[e[17]||(e[17]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Filter Audit Logs",-1)),t("div",Gt,[t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"User ID",-1)),x(T,{modelValue:y.value.userID,"onUpdate:modelValue":e[0]||(e[0]=s=>y.value.userID=s),type:"text",label:"User ID"},null,8,["modelValue"])]),t("div",null,[x(L,{label:"Action Type",options:["","CREATE","UPDATE","DELETE","LOGIN"],modelValue:y.value.actionType,"onUpdate:modelValue":e[1]||(e[1]=s=>y.value.actionType=s)},null,8,["modelValue"])]),t("div",null,[x(T,{modelValue:y.value.keyword,"onUpdate:modelValue":e[2]||(e[2]=s=>y.value.keyword=s),type:"text",label:"Keyword"},null,8,["modelValue"])]),t("div",null,[x(T,{modelValue:y.value.startDate,"onUpdate:modelValue":e[3]||(e[3]=s=>y.value.startDate=s),type:"date",label:"Start Date"},null,8,["modelValue"])]),t("div",null,[x(T,{modelValue:y.value.endDate,"onUpdate:modelValue":e[4]||(e[4]=s=>y.value.endDate=s),type:"date",label:"End Date"},null,8,["modelValue"])]),t("div",{class:"flex items-end"},[t("button",{onClick:P,class:"w-full px-4 py-2.5 bg-[#005B8F] text-white rounded-lg hover:bg-[#004a73] transition text-sm font-medium"}," Apply Filters ")])])]),t("div",qt,[f(g)?(n(),c("div",Yt,e[18]||(e[18]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#005B8F]"},null,-1)]))):(n(),c("div",Jt,[t("table",Zt,[e[21]||(e[21]=t("thead",{class:"bg-gray-25 border-b border-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"SN"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Log ID"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"User ID"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Action"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Entity"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Timestamp"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Actions")])],-1)),t("tbody",Ht,[(n(!0),c(lt,null,at(((dt=f(i))==null?void 0:dt.data)||[],(s,G)=>(n(),c("tr",{key:s.logID,class:"hover:bg-gray-50 transition"},[t("td",Kt,d(G+1),1),t("td",Wt,d(s.logID),1),t("td",Qt,d(s.userID),1),t("td",Xt,[t("span",{class:q([nt(s.actionType),"inline-flex px-3 py-1 rounded-full text-xs font-medium"])},d(s.actionType),3)]),t("td",te,d(s.affectedEntity),1),t("td",ee,d(st(s.timestamp)),1),t("td",se,[t("button",{onClick:kt=>ht(s),class:"text-blue-600 hover:text-blue-800",title:"View Details"},e[19]||(e[19]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)]),8,oe)])]))),128)),!((it=f(i))!=null&&it.data)||f(i).data.length===0?(n(),c("tr",le,e[20]||(e[20]=[t("td",{colspan:"7",class:"px-6 py-12 text-center"},[t("p",{class:"text-sm text-gray-500"},"No audit logs found")],-1)]))):D("",!0)])])])),(ut=f(i))!=null&&ut.total&&f(i).total>0?(n(),c("div",ae,[t("p",re," Showing "+d(f(i).data.length)+" of "+d(f(i).total)+" entries ",1),t("div",ne,[t("button",{onClick:pt,disabled:E.value===1,class:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50"}," Previous ",8,de),t("button",{onClick:yt,disabled:!rt.value,class:"px-3 py-1 border border-gray-300 rounded text-sm disabled:opacity-50"}," Next ",8,ie)])])):D("",!0)])])):D("",!0),h.value==="custody"?(n(),c("div",ue,[t("div",{class:"flex justify-end"},[t("button",{onClick:mt,class:"px-4 py-2 bg-[#005B8F] text-white rounded-lg hover:bg-[#004a73] transition text-sm font-medium flex items-center gap-2"},e[22]||(e[22]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ot(" Record Custody Event ")]))]),t("div",ce,[e[23]||(e[23]=t("h3",{class:"text-sm font-semibold text-gray-900 mb-4"},"Filter Custody Events",-1)),t("div",pe,[t("div",null,[x(T,{modelValue:R.value.sampleID,"onUpdate:modelValue":e[5]||(e[5]=s=>R.value.sampleID=s),type:"text",label:"Sample ID"},null,8,["modelValue"])]),t("div",null,[x(T,{modelValue:R.value.userID,"onUpdate:modelValue":e[6]||(e[6]=s=>R.value.userID=s),type:"text",label:"User ID"},null,8,["modelValue"])]),t("div",null,[x(L,{label:"Event Type",options:["","RECEIVED","TRANSFERRED","ANALYZED","STORED","DISPOSED"],modelValue:R.value.eventType,"onUpdate:modelValue":e[7]||(e[7]=s=>R.value.eventType=s)},null,8,["modelValue"])]),t("div",{class:"flex items-end"},[t("button",{onClick:et,class:"w-full px-4 py-2.5 bg-[#005B8F] text-white rounded-lg hover:bg-[#004a73] transition text-sm font-medium"}," Apply Filters ")])])]),t("div",ye,[f(k)?(n(),c("div",xe,e[24]||(e[24]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#005B8F]"},null,-1)]))):(n(),c("div",ge,[t("table",me,[e[27]||(e[27]=t("thead",{class:"bg-gray-25 border-b border-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"SN"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Event ID"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Sample ID"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"User ID"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Event Type"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Notes"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Timestamp"),t("th",{class:"px-6 py-6 text-left text-xs font-semibold text-gray-600 uppercase"},"Actions")])],-1)),t("tbody",ve,[(n(!0),c(lt,null,at(f(m),(s,G)=>(n(),c("tr",{key:s.eventID,class:"hover:bg-gray-50 transition"},[t("td",be,d(G+1),1),t("td",fe,d(s.eventID),1),t("td",he,d(s.sampleID),1),t("td",_e,d(s.userID),1),t("td",we,[t("span",{class:q([_t(s.eventType),"inline-flex px-3 py-1 rounded-full text-xs font-medium"])},d(s.eventType),3)]),t("td",ke,d(s.notes||"-"),1),t("td",Ee,d(st(s.timestamp)),1),t("td",De,[t("button",{onClick:kt=>bt(s.sampleID),class:"text-blue-600 hover:text-blue-800",title:"Generate Report"},e[25]||(e[25]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)]),8,Ce)])]))),128)),f(m).length===0?(n(),c("tr",Te,e[26]||(e[26]=[t("td",{colspan:"8",class:"px-6 py-12 text-center"},[t("p",{class:"text-sm text-gray-500"},"No custody events found")],-1)]))):D("",!0)])])]))])])):D("",!0)])])])]),(n(),M(Y,{to:"body"},[x(J,{name:"modal"},{default:j(()=>[W.value?(n(),c("div",{key:0,class:"fixed backdrop-blur-lg inset-0 z-[9999] overflow-y-auto",onClick:Z(A,["self"])},[t("div",Ve,[t("div",{class:"fixed inset-0 transition-opacity bg-gray-900 bg-opacity-75",onClick:A}),t("div",Ie,[t("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[e[29]||(e[29]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Export Audit Logs",-1)),t("button",{onClick:A,class:"text-gray-400 hover:text-gray-600"},e[28]||(e[28]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Re,[t("div",null,[x(L,{label:"Export Format",options:["CSV","PDF","JSON"],modelValue:U.value,"onUpdate:modelValue":e[8]||(e[8]=s=>U.value=s)},null,8,["modelValue"])])]),t("div",Ae,[t("button",{onClick:A,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),t("button",{onClick:gt,disabled:f(r),class:"px-4 py-2 text-sm font-medium text-white bg-[#005B8F] rounded-md hover:bg-[#004a73] disabled:opacity-50"},d(f(r)?"Exporting...":"Export"),9,Se)])])])])):D("",!0)]),_:1})])),(n(),M(Y,{to:"body"},[x(J,{name:"modal"},{default:j(()=>[Q.value?(n(),c("div",{key:0,class:"fixed backdrop-blur-lg inset-0 z-[9999] overflow-y-auto",onClick:Z(S,["self"])},[t("div",Fe,[t("div",{class:"fixed inset-0 transition-opacity bg-gray-900 bg-opacity-75",onClick:S}),t("div",Le,[t("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[e[31]||(e[31]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Record Custody Event",-1)),t("button",{onClick:S,class:"text-gray-400 hover:text-gray-600"},e[30]||(e[30]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Me,[t("div",null,[x(T,{modelValue:w.value.sampleID,"onUpdate:modelValue":e[9]||(e[9]=s=>w.value.sampleID=s),type:"text",label:"Sample ID",required:""},null,8,["modelValue"])]),t("div",null,[x(T,{modelValue:w.value.userID,"onUpdate:modelValue":e[10]||(e[10]=s=>w.value.userID=s),type:"text",label:"User ID",required:""},null,8,["modelValue"])]),t("div",null,[x(L,{label:"Event Type",options:["","RECEIVED","TRANSFERRED","ANALYZED","STORED","DISPOSED"],modelValue:w.value.eventType,"onUpdate:modelValue":e[11]||(e[11]=s=>w.value.eventType=s)},null,8,["modelValue"])]),t("div",null,[x(T,{modelValue:w.value.notes,"onUpdate:modelValue":e[12]||(e[12]=s=>w.value.notes=s),label:"Notes (Optional)",rows:6},null,8,["modelValue"])])]),t("div",je,[t("button",{onClick:S,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),t("button",{onClick:vt,disabled:B.value,class:"px-4 py-2 text-sm font-medium text-white bg-[#005B8F] rounded-md hover:bg-[#004a73] disabled:opacity-50"},d(B.value?"Recording...":"Record Event"),9,Ne)])])])])):D("",!0)]),_:1})])),(n(),M(Y,{to:"body"},[x(J,{name:"modal"},{default:j(()=>[X.value?(n(),c("div",{key:0,class:"fixed backdrop-blur-lg inset-0 z-[9999] overflow-y-auto",onClick:Z(F,["self"])},[t("div",Ue,[t("div",{class:"fixed inset-0 transition-opacity bg-gray-900 bg-opacity-75",onClick:F}),t("div",Be,[t("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Generate Custody Report",-1)),t("button",{onClick:F,class:"text-gray-400 hover:text-gray-600"},e[32]||(e[32]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),t("div",Oe,[t("p",$e,[e[34]||(e[34]=ot("Sample ID: ")),t("span",Pe,d(O.value),1)]),t("div",null,[x(L,{label:"Report Format",options:["CSV","PDF","JSON"],modelValue:$.value,"onUpdate:modelValue":e[13]||(e[13]=s=>$.value=s)},null,8,["modelValue"])])]),t("div",ze,[t("button",{onClick:F,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Cancel "),t("button",{onClick:ft,disabled:f(l),class:"px-4 py-2 text-sm font-medium text-white bg-[#005B8F] rounded-md hover:bg-[#004a73] disabled:opacity-50"},d(f(l)?"Generating...":"Generate Report"),9,Ge)])])])])):D("",!0)]),_:1})])),(n(),M(Y,{to:"body"},[x(J,{name:"modal"},{default:j(()=>[tt.value?(n(),c("div",{key:0,class:"fixed backdrop-blur-lg inset-0 z-[9999] overflow-y-auto",onClick:Z(z,["self"])},[t("div",qe,[t("div",{class:"fixed inset-0 transition-opacity bg-gray-900 bg-opacity-75",onClick:z}),t("div",Ye,[t("div",{class:"flex items-center justify-between px-6 py-4 border-b border-gray-200"},[e[36]||(e[36]=t("h3",{class:"text-lg font-semibold text-gray-900"},"Audit Log Details",-1)),t("button",{onClick:z,class:"text-gray-400 hover:text-gray-600"},e[35]||(e[35]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),V.value?(n(),c("div",Je,[t("div",Ze,[t("div",null,[e[37]||(e[37]=t("label",{class:"text-sm font-medium text-gray-500"},"Action Type",-1)),t("p",He,[t("span",{class:q([nt(V.value.actionType),"inline-flex px-3 py-1 rounded-full text-xs font-medium"])},d(V.value.actionType),3)])]),t("div",null,[e[38]||(e[38]=t("label",{class:"text-sm font-medium text-gray-500"},"Timestamp",-1)),t("p",Ke,d(st(V.value.timestamp)),1)])]),t("div",null,[e[39]||(e[39]=t("label",{class:"text-sm font-medium text-gray-500"},"Affected Entity",-1)),t("p",We,d(V.value.affectedEntity),1)]),t("div",null,[e[40]||(e[40]=t("label",{class:"text-sm font-medium text-gray-500"},"Details",-1)),t("pre",Qe,d(JSON.stringify(V.value.details,null,2)),1)])])):D("",!0),t("div",{class:"flex justify-end px-6 py-4 bg-gray-50 border-t border-gray-200"},[t("button",{onClick:z,class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50"}," Close ")])])])])):D("",!0)]),_:1})]))]}),_:1})}}}),as=Rt(Xe,[["__scopeId","data-v-2397a1aa"]]);export{as as default};
