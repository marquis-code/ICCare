import{G as r,u as d}from"./CQckq9Yq.js";import{r as m,m as b}from"./DdfR3j8y.js";const f={$_register_sample:e=>r.post("/biospecimen/samples/",e),$_get_all_samples:()=>r.get("/biospecimen/samples/"),$_get_samples:()=>r.get("/biospecimen/samples/"),$_get_sample_by_id:e=>r.get(`/biospecimen/samples/${e}`),$_update_sample:(e,a)=>r.put(`/biospecimen/samples/${e}`,a),$_get_sample_status:e=>r.get(`/biospecimen/samples/${e}/status`),$_track_sample:e=>r.post("/biospecimen/samples/track",e),$_dispose_sample:e=>r.post("/biospecimen/samples/dispose/request",e)},w=()=>{const e=m(!1),a=m([]),{showToast:n}=d(),l=async()=>{var o,c,p,u;e.value=!0;try{const t=await f.$_get_all_samples();if(t.type!=="ERROR")return a.value=t.data,t.data;{const i=((p=(c=(o=t==null?void 0:t.data)==null?void 0:o.detail)==null?void 0:c[0])==null?void 0:p.msg)||((u=t==null?void 0:t.data)==null?void 0:u.error)||"Failed to fetch samples";return n({title:"Error",message:i,toastType:"error",duration:3e3}),null}}catch(t){return n({title:"Error",message:(t==null?void 0:t.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{e.value=!1}};return b(()=>{l()}),{loading:e,samples:a,getAllSamples:l}},$={$_get_box_occupancy:(e,a,n,l)=>{const o={};return a&&(o.site_id=a),n&&(o.freezer_id=n),l&&(o.rack_id=l),r.get(`/biospecimen/attributes/boxes/${e}/occupancy`,{params:o})}},x=()=>{const e=m(!1),a=m(null),{showToast:n}=d();return{loading:e,occupancy:a,getBoxOccupancy:async({box_id:o,site_id:c,freezer_id:p,rack_id:u})=>{var t,i,g,_;e.value=!0;try{const s=await $.$_get_box_occupancy(o,c,p,u);if(s.type!=="ERROR")return a.value=s.data,s.data;{const y=((g=(i=(t=s==null?void 0:s.data)==null?void 0:t.detail)==null?void 0:i[0])==null?void 0:g.msg)||((_=s==null?void 0:s.data)==null?void 0:_.error)||"Failed to fetch box occupancy";return n({title:"Error",message:y,toastType:"error",duration:3e3}),null}}catch(s){return n({title:"Error",message:(s==null?void 0:s.message)||"Something went wrong",toastType:"error",duration:3e3}),null}finally{e.value=!1}}}};export{w as a,f as b,x as u};
