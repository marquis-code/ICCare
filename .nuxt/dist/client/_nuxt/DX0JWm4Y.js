import{e as h,j as $,c as d,o as r,a as e,k as x,F as T,l as D,n as w,t as l,b as f,w as _,d as k,_ as L,r as N,i as C,m as g,p as A,g as u}from"./B8cRixjd.js";import{_ as F}from"./D6qcDHsY.js";const z={class:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden"},B={class:"overflow-y-auto max-h-[calc(100vh-250px)] divide-y divide-gray-200"},M=["onClick"],j={class:"flex-1 min-w-0"},U={class:"flex items-center justify-between gap-2 mb-1"},E={class:"text-sm font-semibold text-gray-900 truncate"},P={key:0,class:"px-2 py-0.5 bg-blue-600 text-white text-xs font-medium rounded-full flex-shrink-0"},V={class:"text-xs text-gray-500"},G={key:0,class:"px-4 py-12 text-center"},O=h({__name:"NotificationList",props:{notifications:{},selectedId:{}},emits:["select","markRead","delete"],setup(y){return(s,o)=>{const m=$("Icon");return r(),d("div",z,[o[1]||(o[1]=e("div",{class:"px-4 py-3 border-b border-gray-200 bg-gray-50"},[e("h2",{class:"text-sm font-semibold text-gray-900"},"Notifications")],-1)),e("div",B,[(r(!0),d(T,null,D(s.notifications,t=>(r(),d("button",{key:t.id,onClick:i=>s.$emit("select",t),class:w(["w-full px-4 py-4 flex items-center gap-3 hover:bg-gray-50 transition-colors text-left",s.selectedId===t.id?"bg-blue-50 hover:bg-blue-50":"",t.isRead?"bg-green-50 hover:bg-green-100":"bg-red-50 hover:bg-red-100"])},[e("div",{class:w(["w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 text-sm font-semibold",t.isRead?"bg-green-200 text-green-700":"bg-red-200 text-red-700"])}," LI ",2),e("div",j,[e("div",U,[e("h3",E,l(t.title),1),t.isNew?(r(),d("span",P," New ")):x("",!0)]),e("p",V,l(t.timestamp),1)])],10,M))),128)),s.notifications.length===0?(r(),d("div",G,[f(m,{name:"heroicons:bell-slash",class:"w-12 h-12 text-gray-300 mx-auto mb-3"}),o[0]||(o[0]=e("p",{class:"text-sm text-gray-500"},"No notifications",-1))])):x("",!0)])])}}}),q={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},H={class:"flex items-start justify-between gap-4 mb-6 pb-6 border-b border-gray-200"},J={class:"text-xl font-bold text-gray-900"},K={class:"flex gap-2 flex-shrink-0"},Q={class:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6"},W={class:"text-sm text-gray-700 leading-relaxed"},X={key:0,class:"mb-6"},Y={class:"overflow-x-auto"},Z={class:"w-full"},ee={class:"bg-white divide-y divide-gray-200"},te={class:"px-4 py-3 text-sm"},se={class:"px-4 py-3 text-sm text-gray-700"},oe={class:"px-4 py-3 text-sm"},ie={class:"inline-flex px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full"},ae={key:1,class:"mb-6"},ne={class:"overflow-x-auto"},re={class:"w-full"},le={class:"bg-white divide-y divide-gray-200"},de={class:"px-4 py-3 text-sm"},ce={class:"px-4 py-3 text-sm"},me={class:"inline-flex px-3 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full"},pe={class:"px-4 py-3 text-sm text-gray-700"},fe=h({__name:"NotificationDetail",props:{notification:{}},emits:["markRead","markUnread","delete"],setup(y,{emit:s}){const o=s,m=()=>{confirm("Are you sure you want to delete this notification?")&&o("delete")};return(t,i)=>{const p=F;return r(),d("div",q,[e("div",H,[e("h2",J,l(t.notification.title)+" - Serum Sample ",1),e("div",K,[e("button",{onClick:i[0]||(i[0]=b=>t.$emit("markUnread",t.notification.id)),class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition"}," Mark as Unread "),e("button",{onClick:m,class:"px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-lg hover:bg-red-700 transition"}," Delete Message ")])]),e("div",Q,[e("p",W,l(t.notification.message),1)]),t.notification.relatedSample?(r(),d("div",X,[i[2]||(i[2]=e("h3",{class:"text-base font-semibold text-gray-900 mb-4"},"Related Sample Information",-1)),e("div",Y,[e("table",Z,[i[1]||(i[1]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Sample ID "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Current Location "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Type ")])],-1)),e("tbody",ee,[e("tr",null,[e("td",te,[f(p,{to:`/samples/${t.notification.relatedSample.sampleId}`,class:"text-blue-600 hover:text-blue-700 font-medium"},{default:_(()=>[k(l(t.notification.relatedSample.sampleId),1)]),_:1},8,["to"])]),e("td",se,l(t.notification.relatedSample.currentLocation),1),e("td",oe,[e("span",ie,l(t.notification.relatedSample.type),1)])])])])])])):x("",!0),t.notification.relatedTransfer?(r(),d("div",ae,[i[4]||(i[4]=e("h3",{class:"text-base font-semibold text-gray-900 mb-4"},"Related Transfer Record",-1)),e("div",ne,[e("table",re,[i[3]||(i[3]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Transfer ID "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Status "),e("th",{class:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider"}," Expected Delivery ")])],-1)),e("tbody",le,[e("tr",null,[e("td",de,[f(p,{to:`/transfers/${t.notification.relatedTransfer.transferId}`,class:"text-blue-600 hover:text-blue-700 font-medium"},{default:_(()=>[k(l(t.notification.relatedTransfer.transferId),1)]),_:1},8,["to"])]),e("td",ce,[e("span",me,l(t.notification.relatedTransfer.status),1)]),e("td",pe,l(t.notification.relatedTransfer.expectedDelivery),1)])])])])])):x("",!0)])}}}),ue={},xe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 flex flex-col items-center justify-center min-h-[500px]"},ye={class:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mb-6"};function ge(y,s){const o=$("Icon");return r(),d("div",xe,[e("div",ye,[f(o,{name:"heroicons:bell-slash",class:"w-10 h-10 text-gray-400"})]),s[0]||(s[0]=e("h3",{class:"text-xl font-semibold text-gray-900 mb-2"},"No Notification Selected",-1)),s[1]||(s[1]=e("p",{class:"text-sm text-gray-500 text-center max-w-md"}," Select a notification from the list to view its details and take action. ",-1))])}const _e=L(ue,[["render",ge]]),he={class:"min-h-screen"},be={class:"flex"},ve={class:"flex-1 p-4 md:p-6 lg:p-8"},we={class:"max-w-7xl mx-auto"},ke={class:"grid grid-cols-1 lg:grid-cols-12 gap-6"},Ne={class:"lg:col-span-5 xl:col-span-4"},$e={class:"lg:col-span-7 xl:col-span-8"},Se=h({__name:"notification",setup(y){const s=N([{id:"1",title:"Low Inventory Alert",message:"The inventory level for Serum sample type at Freezer A-301 is critical (5 samples remaining). Please initiate procurement or transfer to avoid stock depletion for ongoing and future studies.",timestamp:"1 hour ago",isRead:!1,isNew:!0,type:"inventory",relatedSample:{sampleId:"SMP-2024-00123",currentLocation:"Freezer A-301, Rack 2-B, Box 047",type:"Blood"},relatedTransfer:{transferId:"TR-2024-00054",status:"Pending Confirmation",expectedDelivery:"Tomorrow, 10:00 AM"}},{id:"2",title:"Low Inventory Alert",message:"The inventory level for Plasma sample type at Freezer B-105 is critical.",timestamp:"1 hour ago",isRead:!0,isNew:!1,type:"inventory"},{id:"3",title:"Low Inventory Alert",message:"The inventory level for Tissue sample type at Freezer C-202 is critical.",timestamp:"1 hour ago",isRead:!1,isNew:!0,type:"inventory"},{id:"4",title:"Low Inventory Alert",message:"The inventory level for Blood sample type at Freezer D-303 is critical.",timestamp:"1 hour ago",isRead:!0,isNew:!1,type:"inventory"},{id:"5",title:"Low Inventory Alert",message:"The inventory level for Urine sample type at Freezer E-404 is critical.",timestamp:"1 hour ago",isRead:!0,isNew:!1,type:"inventory"},{id:"6",title:"Low Inventory Alert",message:"The inventory level for Saliva sample type at Freezer F-505 is critical.",timestamp:"1 hour ago",isRead:!0,isNew:!1,type:"inventory"},{id:"7",title:"Low Inventory Alert",message:"The inventory level for DNA sample type at Freezer G-606 is critical.",timestamp:"1 hour ago",isRead:!0,isNew:!1,type:"inventory"}]),o=N(null);C(()=>s.value.filter(a=>!a.isRead).length);const m=a=>{o.value=a,a.isRead||t(a.id)},t=a=>{const n=s.value.find(c=>c.id===a);n&&(n.isRead=!0,n.isNew=!1)},i=a=>{const n=s.value.find(c=>c.id===a);n&&(n.isRead=!1)},p=a=>{const n=s.value.findIndex(c=>c.id===a);n!==-1&&s.value.splice(n,1)},b=()=>{o.value&&(p(o.value.id),o.value=null)};return(a,n)=>{const c=O,I=fe,R=_e,S=A;return r(),g(S,{name:"dashboard"},{default:_(()=>{var v;return[e("div",he,[e("div",be,[e("main",ve,[e("div",we,[n[0]||(n[0]=e("div",{class:"mb-6"},[e("h1",{class:"text-2xl md:text-3xl font-bold text-gray-900"},"Notifications"),e("p",{class:"text-sm text-gray-600 mt-1"},"Stay informed about your iCCaREPO activities and critical alerts.")],-1)),e("div",ke,[e("div",Ne,[f(c,{notifications:u(s),"selected-id":(v=u(o))==null?void 0:v.id,onSelect:m,onMarkRead:t,onDelete:p},null,8,["notifications","selected-id"])]),e("div",$e,[u(o)?(r(),g(I,{key:0,notification:u(o),onMarkRead:t,onMarkUnread:i,onDelete:b},null,8,["notification"])):(r(),g(R,{key:1}))])])])])])])]}),_:1})}}});export{Se as default};
